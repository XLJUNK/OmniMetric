[{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\commodities\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\crypto\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\forex\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\legal\\privacy-policy\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[512,515],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[512,515],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { Suspense } from 'react';\r\nimport { Metadata } from 'next';\r\nimport { TerminalPage } from '@/components/TerminalPage';\r\n\r\nimport { Shield } from 'lucide-react';\r\nimport { DICTIONARY, LangType } from '@/data/dictionary';\r\n// Import data directly (server component)\r\nimport privacyEn from '@/data/privacy-en.json';\r\nimport privacyJp from '@/data/privacy-jp.json';\r\nimport privacyDe from '@/data/privacy-de.json';\r\nimport privacyFr from '@/data/privacy-fr.json';\r\n\r\nconst privacyData: Record<string, any> = {\r\n    EN: privacyEn,\r\n    JP: privacyJp,\r\n    DE: privacyDe,\r\n    FR: privacyFr,\r\n};\r\n\r\n// Enable Static Params for all languages defined in dictionary\r\nexport async function generateStaticParams() {\r\n    return Object.keys(DICTIONARY).map((lang) => ({\r\n        lang: lang.toLowerCase(),\r\n    }));\r\n}\r\n\r\ninterface PrivacyListItem {\r\n    label?: string;\r\n    desc?: string;\r\n    title?: string;\r\n    link?: string;\r\n    text?: string;\r\n    link2?: string;\r\n    text2?: string;\r\n}\r\n\r\ninterface PrivacySubSection {\r\n    title: string;\r\n    list?: (string | PrivacyListItem)[];\r\n    content?: string;\r\n}\r\n\r\ninterface PrivacyService {\r\n    name: string;\r\n    desc?: string;\r\n    footer?: string;\r\n}\r\n\r\ninterface PrivacySection {\r\n    title: string;\r\n    content?: string;\r\n    subsections?: PrivacySubSection[];\r\n    services?: PrivacyService[];\r\n    list?: PrivacyListItem[];\r\n    footer?: string;\r\n}\r\n\r\ntype Props = {\r\n    params: Promise<{ lang: string }>;\r\n};\r\n\r\nimport { getMultilingualMetadata } from '@/data/seo';\r\n\r\nexport async function generateMetadata({ params }: Props): Promise<Metadata> {\r\n    const { lang } = await params;\r\n    return getMultilingualMetadata('/legal/privacy-policy', lang, \"Privacy Policy | OmniMetric Terminal\", \"Privacy Policy and Data Protection practices for OmniMetric.\", 'path');\r\n}\r\n\r\nexport default async function PrivacyPage({ params }: Props) {\r\n    const { lang } = await params;\r\n    const normalizedLang = lang.toUpperCase() as LangType;\r\n    const isRTL = normalizedLang === 'AR';\r\n\r\n    // Load data based on language\r\n    const data = privacyData[normalizedLang] || privacyEn;\r\n\r\n    return (\r\n        <Suspense fallback={null}>\r\n            <TerminalPage pageKey=\"legal\" lang={normalizedLang} selectorMode=\"path\">\r\n                <div className={`max-w-4xl mx-auto space-y-8 ${isRTL ? 'text-right' : 'text-left'}`} dir={isRTL ? 'rtl' : 'ltr'}>\r\n\r\n                    {/* Header */}\r\n                    <div className={`flex justify-between items-start mb-8 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                        <div className={`flex items-center gap-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                            <Shield className=\"w-8 h-8 text-cyan-600 dark:text-cyan-500\" />\r\n                            <h1 className=\"text-3xl font-black tracking-tight text-slate-900 dark:text-white uppercase\">{data.title}</h1>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <p className=\"text-sm text-slate-500 font-mono\">Last Updated: {data.lastUpdated}</p>\r\n\r\n                    {/* Translated Content Notice */}\r\n                    {normalizedLang !== 'EN' && !privacyData[normalizedLang] && (\r\n                        <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg text-sm text-blue-800 dark:text-blue-200\">\r\n                            <p>\r\n                                Currently, this legal document is officially available in English.\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Google AdSense Disclosure - CRITICAL */}\r\n                    <section id=\"privacy-policy\" className=\"bg-white dark:bg-[#111] !border !border-yellow-500/30 !rounded-xl p-6 space-y-4 shadow-sm dark:shadow-none\">\r\n                        <h2 className=\"text-lg font-bold text-yellow-600 dark:text-yellow-400 uppercase tracking-wide\">\r\n                            {data.adsensePolicy.title}\r\n                        </h2>\r\n                        <div className=\"space-y-3 text-sm text-slate-700 dark:text-slate-300 leading-relaxed\">\r\n                            <p className=\"font-medium text-slate-900 dark:text-white\">\r\n                                {data.adsensePolicy.content}\r\n                            </p>\r\n                            <p>\r\n                                <strong className=\"text-slate-900 dark:text-white\">Google AdSense</strong> {normalizedLang === 'EN' ? 'is a third-party advertising service managed by Google LLC.' : ''}\r\n                            </p>\r\n                            <p>\r\n                                <strong className=\"text-cyan-600 dark:text-cyan-400\">{data.adsensePolicy.cookie_notice}</strong>\r\n                            </p>\r\n                            <p className=\"pt-2\">\r\n                                <strong className=\"text-green-400\">You can opt out of personalized advertising</strong> by visiting:\r\n                            </p>\r\n                            <div className=\"bg-slate-100 dark:bg-black !border !border-slate-200 dark:!border-slate-700 !rounded-lg p-4 font-mono text-xs\">\r\n                                <a\r\n                                    href=\"https://www.google.com/settings/ads\"\r\n                                    target=\"_blank\"\r\n                                    rel=\"noopener noreferrer\"\r\n                                    className=\"text-sky-400 hover:text-sky-300 underline\"\r\n                                >\r\n                                    Google Ads Settings 竊箪r\n                                </a>\r\n                            </div>\r\n                            <p className=\"text-xs text-slate-500\">\r\n                                {data.adsensePolicy.more_info}{' '}\r\n                                <a href=\"https://policies.google.com/technologies/partner-sites\" target=\"_blank\" rel=\"noopener\" className=\"text-sky-500 hover:underline\">\r\n                                    policies.google.com/technologies/partner-sites\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* SECTIONS */}\r\n                    {data.sections.map((section: PrivacySection, idx: number) => (\r\n                        <section key={idx} className=\"bg-white dark:bg-[#111] !border !border-slate-200 dark:!border-slate-800 !rounded-xl p-6 space-y-4 shadow-sm dark:shadow-none\">\r\n                            <h2 className=\"text-lg font-bold text-slate-900 dark:text-white uppercase tracking-wide\">\r\n                                {section.title}\r\n                            </h2>\r\n\r\n                            {/* Subsections (Data We Collect) */}\r\n                            {section.subsections && section.subsections.some(sub => sub.list) ? (\r\n                                <div className=\"space-y-3 text-sm text-slate-700 dark:text-slate-300\">\r\n                                    {section.subsections.map((sub: PrivacySubSection, i: number) => (\r\n                                        <div key={i}>\r\n                                            <h3 className=\"text-cyan-600 dark:text-cyan-400 font-bold mb-2\">{sub.title}</h3>\r\n                                            <ul className={`list-disc space-y-1 text-slate-600 dark:text-slate-400 ${isRTL ? 'pr-6' : 'pl-6'}`}>\r\n                                                {sub.list?.map((item: string | PrivacyListItem, j: number) => (\r\n                                                    typeof item === 'string' ? (\r\n                                                        <li key={j}>{item}</li>\r\n                                                    ) : (\r\n                                                        <li key={j}><strong>{item.title}</strong> {item.desc}</li>\r\n                                                    )\r\n                                                ))}\r\n                                            </ul>\r\n                                        </div>\r\n                                    ))}\r\n                                    {section.footer && (\r\n                                        <p className=\"text-xs text-slate-500 pt-2\">{section.footer}</p>\r\n                                    )}\r\n                                </div>\r\n                            ) : null}\r\n\r\n                            {/* Subsections (Operational Policies) */}\r\n                            {section.subsections && section.subsections.some(sub => sub.content) && (\r\n                                <div className=\"space-y-4 text-sm text-slate-700 dark:text-slate-300\">\r\n                                    {section.subsections.map((sub: PrivacySubSection, i: number) => (\r\n                                        <div key={i}>\r\n                                            <h3 className=\"text-slate-600 dark:text-slate-400 font-bold mb-1\">{sub.title}</h3>\r\n                                            <p>{sub.content}</p>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Services (Third Party) */}\r\n                            {section.services ? (\r\n                                <div className=\"space-y-4 text-sm text-slate-700 dark:text-slate-300\">\r\n                                    {section.services.map((service: PrivacyService, i: number) => (\r\n                                        <div key={i}>\r\n                                            <h3 className=\"text-sky-400 font-bold mb-2\">{service.name}</h3>\r\n                                            <p className=\"text-slate-400\">{service.desc || service.footer}</p>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            ) : null}\r\n\r\n                            {/* Plain Content (Data Security, Changes) */}\r\n                            {section.content && (\r\n                                <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                                    {section.content}\r\n                                </p>\r\n                            )}\r\n\r\n                            {/* Your Rights List */}\r\n                            {section.list && !section.subsections ? (\r\n                                <ul className={`list-disc space-y-2 text-sm text-slate-700 dark:text-slate-300 ${isRTL ? 'pr-6' : 'pl-6'}`}>\r\n                                    {section.list.map((item: PrivacyListItem, i: number) => (\r\n                                        <li key={i}>\r\n                                            <strong>{item.label}</strong> {item.desc}\r\n                                            {item.link && (\r\n                                                <>\r\n                                                    Visit <a href={item.link} className=\"text-sky-600 dark:text-sky-400 hover:underline\">{item.text}</a> or <a href={item.link2} className=\"text-sky-600 dark:text-sky-400 hover:underline\">{item.text2}</a>\r\n                                                </>\r\n                                            )}\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            ) : null}\r\n                        </section>\r\n                    ))}\r\n\r\n                    {/* Contact */}\r\n                    <section className=\"bg-white dark:bg-[#111] !border !border-slate-200 dark:!border-slate-800 !rounded-xl p-6 shadow-sm dark:shadow-none\">\r\n                        <h2 className=\"text-lg font-bold text-slate-900 dark:text-white uppercase tracking-wide mb-3\">\r\n                            {data.contact.title}\r\n                        </h2>\r\n                        <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                            {data.contact.text} {' '}\r\n                            <a href=\"https://twitter.com/OmniMetric_GMS\" target=\"_blank\" rel=\"noopener\" className=\"text-sky-600 dark:text-sky-400 hover:underline font-mono\">\r\n                                @OmniMetric_GMS\r\n                            </a>\r\n                        </p>\r\n                    </section>\r\n\r\n                    <div className=\"pt-8 border-t border-slate-200 dark:border-slate-800 opacity-50\">\r\n                        <p className=\"text-[10px] font-mono tracking-widest uppercase text-slate-600\">\r\n                            {data.legalFramework}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </TerminalPage>\r\n        </Suspense>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\legal\\terms\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[543,546],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[543,546],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { Suspense } from 'react';\r\nimport { Metadata } from 'next';\r\nimport { TerminalPage } from '@/components/TerminalPage';\r\nimport { AlertTriangle } from 'lucide-react';\r\nimport { DICTIONARY, LangType } from '@/data/dictionary';\r\n// Import data directly (server component)\r\n// Import data directly (server component)\r\nimport termsEn from '@/data/terms-en.json';\r\nimport termsJp from '@/data/terms-jp.json';\r\nimport termsDe from '@/data/terms-de.json';\r\nimport termsFr from '@/data/terms-fr.json';\r\n\r\nconst termsData: Record<string, any> = {\r\n    EN: termsEn,\r\n    JP: termsJp,\r\n    DE: termsDe,\r\n    FR: termsFr,\r\n};\r\n\r\n// Enable Static Params for all languages defined in dictionary\r\nexport async function generateStaticParams() {\r\n    return Object.keys(DICTIONARY).map((lang) => ({\r\n        lang: lang.toLowerCase(),\r\n    }));\r\n}\r\n\r\ntype Props = {\r\n    params: Promise<{ lang: string }>;\r\n};\r\n\r\nimport { getMultilingualMetadata } from '@/data/seo';\r\n\r\nexport async function generateMetadata({ params }: Props): Promise<Metadata> {\r\n    const { lang } = await params;\r\n    return getMultilingualMetadata('/legal/terms', lang, \"Terms of Service | OmniMetric Terminal\", \"Terms and Conditions, Disclaimers, and Usage Restrictions for OmniMetric.\", 'path');\r\n}\r\n\r\nexport default async function TermsPage({ params }: Props) {\r\n    const { lang } = await params;\r\n    const normalizedLang = lang.toUpperCase() as LangType;\r\n    const isRTL = normalizedLang === 'AR';\r\n\r\n    interface TermsListItem {\r\n        title?: string;\r\n        desc?: string;\r\n    }\r\n\r\n    interface TermsSection {\r\n        title: string;\r\n        content?: string;\r\n        list?: (string | TermsListItem)[];\r\n        note?: string;\r\n        footer?: string;\r\n        sources?: string[];\r\n        disclaimer?: string;\r\n        subsections?: TermsSection[];\r\n    }\r\n\r\n    // Load data based on language\r\n    const data = termsData[normalizedLang] || termsEn;\r\n\r\n    return (\r\n        <Suspense fallback={null}>\r\n            <TerminalPage pageKey=\"legal\" lang={normalizedLang} selectorMode=\"path\">\r\n                <div className={`max-w-4xl mx-auto space-y-8 ${isRTL ? 'text-right' : 'text-left'}`} dir={isRTL ? 'rtl' : 'ltr'}>\r\n\r\n                    {/* Header */}\r\n                    <div className={`flex justify-between items-start mb-8 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                        <div className={`flex items-center gap-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                            <AlertTriangle className=\"w-8 h-8 text-red-500\" />\r\n                            <h1 className=\"text-3xl font-black tracking-tight text-slate-900 dark:text-white uppercase\">{data.title}</h1>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <p className=\"text-sm text-slate-500 font-mono\">Last Updated: {data.lastUpdated}</p>\r\n\r\n                    {/* Translated Content Notice */}\r\n                    {normalizedLang !== 'EN' && !termsData[normalizedLang] && (\r\n                        <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg text-sm text-blue-800 dark:text-blue-200\">\r\n                            <p>\r\n                                Currently, this legal document is officially available in English.\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* CRITICAL DISCLAIMER */}\r\n                    <section id=\"terms\" className=\"!border-2 !border-red-500 bg-red-50 dark:bg-red-950/20 !rounded-xl p-6 space-y-4\">\r\n                        <h2 className={`text-xl font-black text-red-600 dark:text-red-400 uppercase tracking-wide flex items-center gap-2 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                            <AlertTriangle className=\"w-6 h-6\" />\r\n                            {data.criticalDisclaimer.title}\r\n                        </h2>\r\n                        <div className=\"space-y-3 text-sm text-red-900 dark:text-red-100 leading-relaxed font-medium\">\r\n                            <p className=\"text-base\">\r\n                                <strong className=\"text-red-700 dark:text-red-300\">{data.criticalDisclaimer.mainText}</strong>\r\n                            </p>\r\n                            <ul className={`list-disc space-y-2 text-red-800 dark:text-red-200 ${isRTL ? 'pr-6' : 'pl-6'}`}>\r\n                                {data.criticalDisclaimer.list.map((item: string, i: number) => (\r\n                                    <li key={i} dangerouslySetInnerHTML={{ __html: item.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>') }} />\r\n                                ))}\r\n                            </ul>\r\n                            <p className=\"text-base font-bold text-red-700 dark:text-red-300 pt-2\">\r\n                                {data.criticalDisclaimer.acknowledgment}\r\n                            </p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* SECTIONS */}\r\n                    {data.sections.map((section: TermsSection, idx: number) => (\r\n                        <section key={idx} className={`${section.title.includes('Modifications') ? '' : 'bg-transparent dark:bg-[#111]'} !border ${section.title.includes('Prohibited') ? '!border-yellow-500/30' : '!border-slate-200 dark:!border-slate-800'} !rounded-xl p-6 space-y-4 shadow-sm dark:shadow-none`}>\r\n                            <h2 className={`text-lg font-bold uppercase tracking-wide ${section.title.includes('Prohibited') ? 'text-yellow-600 dark:text-yellow-400' : 'text-slate-900 dark:text-white'}`}>\r\n                                {section.title}\r\n                            </h2>\r\n\r\n                            {/* Main Content */}\r\n                            {section.content && (\r\n                                <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                                    {section.content}\r\n                                </p>\r\n                            )}\r\n\r\n                            {/* Lists (Prohibited, Limitation) */}\r\n                            {section.list && (\r\n                                <div className=\"space-y-3 text-sm text-slate-700 dark:text-slate-300\">\r\n                                    <ul className={`list-disc space-y-2 text-slate-600 dark:text-slate-400 ${isRTL ? 'pr-6' : 'pl-6'}`}>\r\n                                        {section.list.map((item: string | TermsListItem, i: number) => (\r\n                                            typeof item === 'string' ? (\r\n                                                <li key={i}>{item}</li>\r\n                                            ) : (\r\n                                                <li key={i}>\r\n                                                    <strong>{item.title}</strong> {item.desc}\r\n                                                </li>\r\n                                            )\r\n                                        ))}\r\n                                    </ul>\r\n                                    {section.note && ( // Prohibited Use Note\r\n                                        <p className=\"text-xs text-yellow-700 dark:text-yellow-300 bg-yellow-50 dark:bg-yellow-950/20 p-3 !rounded-lg !border !border-yellow-400/30 dark:!border-yellow-500/30 mt-4\">\r\n                                            {section.note}\r\n                                        </p>\r\n                                    )}\r\n                                    {section.footer && ( // Limitation Footer\r\n                                        <p className=\"text-xs text-slate-500 pt-2\">{section.footer}</p>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Sources List */}\r\n                            {section.sources && (\r\n                                <div className=\"space-y-3 text-sm text-slate-700 dark:text-slate-300\">\r\n                                    <div className=\"bg-slate-100 dark:bg-black !border !border-slate-200 dark:!border-slate-700 !rounded-lg p-4 font-mono text-xs text-slate-600 dark:text-slate-400\">\r\n                                        <ul className=\"space-y-1\">\r\n                                            {section.sources.map((source: string, i: number) => (\r\n                                                <li key={i}>窶｢ {source}</li>\r\n                                            ))}\r\n                                        </ul>\r\n                                    </div>\r\n                                    {section.disclaimer && (\r\n                                        <p className=\"text-slate-600 dark:text-slate-400\">\r\n                                            {section.disclaimer}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Subsections (Operational Policies) */}\r\n                            {section.subsections && (\r\n                                <div className=\"space-y-4 text-sm text-slate-700 dark:text-slate-300\">\r\n                                    {section.subsections.map((sub: TermsSection, i: number) => (\r\n                                        <div key={i}>\r\n                                            <h3 className=\"text-slate-600 dark:text-slate-400 font-bold mb-1\">{sub.title}</h3>\r\n                                            <p>{sub.content}</p>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </section>\r\n                    ))}\r\n\r\n                    {/* Contact */}\r\n                    <section className=\"bg-transparent dark:bg-[#111] !border !border-slate-200 dark:!border-slate-800 !rounded-xl p-6 shadow-sm dark:shadow-none\">\r\n                        <h2 className=\"text-lg font-bold text-slate-900 dark:text-white uppercase tracking-wide mb-3\">\r\n                            {data.contact.title}\r\n                        </h2>\r\n                        <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                            {data.contact.text} {' '}\r\n                            <a href=\"https://twitter.com/OmniMetric_GMS\" target=\"_blank\" rel=\"noopener\" className=\"text-sky-600 dark:text-sky-400 hover:underline font-mono\">\r\n                                @OmniMetric_GMS\r\n                            </a>\r\n                        </p>\r\n                    </section>\r\n\r\n                    <div className=\"pt-8 border-t border-slate-200 dark:border-slate-800 opacity-50\">\r\n                        <p className=\"text-[10px] font-mono tracking-widest uppercase text-slate-500 dark:text-slate-600\">\r\n                            {data.legalFramework}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </TerminalPage>\r\n        </Suspense>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\stocks\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\wiki\\[slug]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":233,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":233,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8196,8199],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8196,8199],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":234,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":234,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8269,8272],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8269,8272],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":235,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":235,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8343,8346],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8343,8346],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":258,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":258,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9074,9077],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9074,9077],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":425,"column":118,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":425,"endColumn":121,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[18990,18993],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[18990,18993],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":429,"column":118,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":429,"endColumn":121,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19510,19513],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19510,19513],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":439,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":439,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20337,20340],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20337,20340],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":446,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":446,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20887,20890],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20887,20890],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":458,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":458,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[21677,21680],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[21677,21680],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":478,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":478,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23142,23145],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23142,23145],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":483,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":483,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23551,23554],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23551,23554],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":489,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":489,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[24089,24092],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[24089,24092],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":12,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Link from 'next/link';\r\nimport { notFound } from 'next/navigation';\r\nimport { LangType, DICTIONARY } from '@/data/dictionary';\r\nimport { getWikiItem, getAllSlugs, WikiItem, getWikiData } from '@/lib/wiki';\r\nimport { DynamicStructuredData } from '@/components/DynamicStructuredData';\r\nimport { AdSenseSlot } from '@/components/AdSenseSlot';\r\nimport { LiveWikiData } from '@/components/LiveWikiData';\r\nimport { DataSourceFooter } from '@/components/DataSourceFooter';\r\nimport { ArrowLeft, TrendingUp, Activity, ChevronRight, Globe, Cpu, Scale, Zap, Users } from 'lucide-react';\r\nimport { Metadata } from 'next';\r\n\r\n// LABELS Dictionary\r\nconst WIKI_LABELS = {\r\n    EN: {\r\n        deep_dive: \"Deep Dive Context\",\r\n        council_debate: \"The Council Debate\",\r\n        geopolitics: \"Geopolitics\",\r\n        macro: \"Macro\",\r\n        quant: \"Quant\",\r\n        technical: \"Technical\",\r\n        policy: \"Policy\",\r\n        tech: \"Tech\",\r\n        market_impact: \"Market Impact\",\r\n        rising: \"RISING / BULLISH\",\r\n        falling: \"FALLING / BEARISH\",\r\n        context: \"Context 2026\",\r\n        relevance: \"OmniMetric Relevance\",\r\n        usage: \"Usage & Signals\",\r\n        view_chart: \"View Live Chart on Terminal\",\r\n        launch: \"Launch Terminal\",\r\n        hidden_meaning: \"Hidden Meaning\",\r\n        related: \"Related Strategy Knowledge\"\r\n    },\r\n    JP: {\r\n        deep_dive: \"隧ｳ邏ｰ蛻・梵繧ｳ繝ｳ繝・く繧ｹ繝・",\r\n        council_debate: \"隧戊ｭｰ莨夊ｨ手ｫ・(The Council Debate)\",\r\n        geopolitics: \"蝨ｰ謾ｿ蟄ｦ\",\r\n        macro: \"繝槭け繝ｭ\",\r\n        quant: \"繧ｯ繧ｪ繝ｳ繝Ы",\r\n        technical: \"繝・け繝九き繝ｫ\",\r\n        policy: \"謾ｿ遲暴",\r\n        tech: \"繝・け繝弱Ο繧ｸ繝ｼ\",\r\n        market_impact: \"蟶ょｴ繧､繝ｳ繝代け繝・",\r\n        rising: \"荳頑・隕∝屏 / 蠑ｷ豌予",\r\n        falling: \"荳玖誠隕∝屏 / 蠑ｱ豌予",\r\n        context: \"2026蟷ｴ縺ｮ譁・ц\",\r\n        relevance: \"OmniMetric縺ｮ髢｢騾｣諤ｧ\",\r\n        usage: \"菴ｿ逕ｨ豕輔→繧ｷ繧ｰ繝翫Ν\",\r\n        view_chart: \"繧ｿ繝ｼ繝溘リ繝ｫ縺ｧ繝ｩ繧､繝悶メ繝｣繝ｼ繝医ｒ隕九ｋ\",\r\n        launch: \"繧ｿ繝ｼ繝溘リ繝ｫ繧定ｵｷ蜍表",\r\n        hidden_meaning: \"髫縺輔ｌ縺滓э蜻ｳ\",\r\n        related: \"髢｢騾｣縺吶ｋ謌ｦ逡･遏･隴禄"\r\n    },\r\n    CN: {\r\n        deep_dive: \"豺ｱ蠎ｦ蜑匁梵閭梧勹\",\r\n        council_debate: \"蟋泌遭莨夊ｾｩ隶ｺ (Council Debate)\",\r\n        geopolitics: \"蝨ｰ郛俶帆豐ｻ\",\r\n        macro: \"螳剰ｧ・",\r\n        quant: \"驥丞喧\",\r\n        technical: \"謚譛ｯ\",\r\n        policy: \"謾ｿ遲暴",\r\n        tech: \"遘第橿\",\r\n        market_impact: \"蟶ょ惻蠖ｱ蜩構",\r\n        rising: \"荳頑ｶｨ / 逵区ｶｨ\",\r\n        falling: \"荳玖ｷ・/ 逵玖ｷ圭",\r\n        context: \"2026蟷ｴ閭梧勹\",\r\n        relevance: \"OmniMetric 逶ｸ蜈ｳ諤ｧ\",\r\n        usage: \"逕ｨ豕穂ｸ惹ｿ｡蜿ｷ\",\r\n        view_chart: \"譟･逵狗ｻ育ｫｯ螳樊慮蝗ｾ陦ｨ\",\r\n        launch: \"蜷ｯ蜉ｨ扈育ｫｯ\",\r\n        hidden_meaning: \"髫仙性諢丈ｹ噂",\r\n        related: \"逶ｸ蜈ｳ遲也払遏･隸・"\r\n    },\r\n    ES: {\r\n        deep_dive: \"Contexto Detallado\",\r\n        council_debate: \"El Debate del Consejo\",\r\n        geopolitics: \"Geopolﾃｭtica\",\r\n        macro: \"Macro\",\r\n        quant: \"Cuantitativo\",\r\n        technical: \"Tﾃｩcnico\",\r\n        policy: \"Polﾃｭtica\",\r\n        tech: \"Tecnologﾃｭa\",\r\n        market_impact: \"Impacto de Mercado\",\r\n        rising: \"ALZA / ALCISTA\",\r\n        falling: \"CAﾃ好A / BAJISTA\",\r\n        context: \"Contexto 2026\",\r\n        relevance: \"Relevancia OmniMetric\",\r\n        usage: \"Uso y Seﾃｱales\",\r\n        view_chart: \"Ver Grﾃ｡fico en Terminal\",\r\n        launch: \"Lanzar Terminal\",\r\n        hidden_meaning: \"Significado Oculto\",\r\n        related: \"Conocimiento Estratﾃｩgico Relacionado\"\r\n    },\r\n    HI: {\r\n        deep_dive: \"爨伶､ｹ爨ｨ 爨ｸ爨も､ｦ爨ｰ爭財､ｭ (Deep Dive)\",\r\n        council_debate: \"爨ｪ爨ｰ爨ｿ爨ｷ爨ｦ 爨歩･ 爨ｬ爨ｹ爨ｸ (Council Debate)\",\r\n        geopolitics: \"爨ｭ爭・爨ｰ爨ｾ爨憫､ｨ爭爨､爨ｿ\",\r\n        macro: \"爨ｮ爭謂､歩･財､ｰ爭欺",\r\n        quant: \"爨歩･財､ｵ爨ｾ爨も､歃",\r\n        technical: \"爨､爨歩､ｨ爭爨歩･\",\r\n        policy: \"爨ｨ爭爨､爨ｿ\",\r\n        tech: \"爨､爨歩､ｨ爭爨表",\r\n        market_impact: \"爨ｬ爨ｾ爨憫､ｾ爨ｰ 爨ｪ爭財､ｰ爨ｭ爨ｾ爨ｵ\",\r\n        rising: \"爨ｬ爨｢爨ｼ爨､ / 爨､爭・､憫･\",\r\n        falling: \"爨伶､ｿ爨ｰ爨ｾ爨ｵ爨・/ 爨ｮ爨も､ｦ爭\",\r\n        context: \"爨ｸ爨も､ｦ爨ｰ爭財､ｭ 2026\",\r\n        relevance: \"OmniMetric 爨ｪ爭財､ｰ爨ｾ爨ｸ爨も､伶､ｿ爨歩､､爨ｾ\",\r\n        usage: \"爨霞､ｪ爨ｯ爭金､・爨扉､ｰ 爨ｸ爨も､歩･・､､\",\r\n        view_chart: \"爨游､ｰ爭財､ｮ爨ｿ爨ｨ爨ｲ 爨ｪ爨ｰ 爨ｲ爨ｾ爨・､ｵ 爨壟､ｾ爨ｰ爭財､・爨ｦ爭・､籾･・､・",\r\n        launch: \"爨游､ｰ爭財､ｮ爨ｿ爨ｨ爨ｲ 爨ｲ爭霞､ｨ爭財､・爨歩､ｰ爭・､・",\r\n        hidden_meaning: \"爨巵､ｿ爨ｪ爨ｾ 爨ｹ爭≒､・爨・､ｰ爭財､･\",\r\n        related: \"爨ｸ爨も､ｬ爨も､ｧ爨ｿ爨､ 爨ｰ爨｣爨ｨ爭爨､爨ｿ 爨憫･財､樅､ｾ爨ｨ\"\r\n    },\r\n    ID: {\r\n        deep_dive: \"Konteks Mendalam\",\r\n        council_debate: \"Debat Dewan\",\r\n        geopolitics: \"Geopolitik\",\r\n        macro: \"Makro\",\r\n        quant: \"Kuantitatif\",\r\n        technical: \"Teknis\",\r\n        policy: \"Kebijakan\",\r\n        tech: \"Teknologi\",\r\n        market_impact: \"Dampak Pasar\",\r\n        rising: \"NAIK / BULLISH\",\r\n        falling: \"TURUN / BEARISH\",\r\n        context: \"Konteks 2026\",\r\n        relevance: \"Relevansi OmniMetric\",\r\n        usage: \"Penggunaan & Sinyal\",\r\n        view_chart: \"Lihat Grafik Langsung di Terminal\",\r\n        launch: \"Buka Terminal\",\r\n        hidden_meaning: \"Makna Tersembunyi\",\r\n        related: \"Pengetahuan Strategi Terkait\"\r\n    },\r\n    AR: {\r\n        deep_dive: \"ﾘｳﾙ韓ｧﾙ・ﾙ・ｪﾘｹﾙ・・",\r\n        council_debate: \"ﾙ・・ｧﾙぺｴﾘｩ ﾘｧﾙ・・ｬﾙ・ｳ\",\r\n        geopolitics: \"ﾘｧﾙ・ｬﾙ館畏ｳﾙ韓ｧﾘｳﾙ韓ｩ\",\r\n        macro: \"ﾘｧﾙ・・ｧﾙ・ｱﾙ・",\r\n        quant: \"ﾘｧﾙ・・・浬",\r\n        technical: \"ﾘｧﾙ・ｪﾙほ・浬",\r\n        policy: \"ﾘｧﾙ・ｳﾙ韓ｧﾘｳﾘｩ\",\r\n        tech: \"ﾘｧﾙ・ｪﾙ・・異・畏ｬﾙ韓ｧ\",\r\n        market_impact: \"ﾘｪﾘ｣ﾘｫﾙ韓ｱ ﾘｧﾙ・ｳﾙ異・",\r\n        rising: \"ﾘｧﾘｱﾘｪﾙ・ｧﾘｹ / ﾘｵﾘｹﾙ畏ｯﾙ浬",\r\n        falling: \"ﾙ・ｨﾙ畏ｷ / ﾙ・ｨﾙ畏ｷﾙ浬",\r\n        context: \"ﾘｳﾙ韓ｧﾙ・2026\",\r\n        relevance: \"ﾘ｣ﾙ・・韓ｩ OmniMetric\",\r\n        usage: \"ﾘｧﾙ・ｧﾘｳﾘｪﾘｮﾘｯﾘｧﾙ・ﾙ畏ｧﾙ・･ﾘｴﾘｧﾘｱﾘｧﾘｪ\",\r\n        view_chart: \"ﾘｹﾘｱﾘｶ ﾘｧﾙ・ｱﾘｳﾙ・ﾘｧﾙ・ｨﾙ韓ｧﾙ・・ﾘｧﾙ・・ｨﾘｧﾘｴﾘｱ\",\r\n        launch: \"ﾘｪﾘｴﾘｺﾙ館・ﾘｧﾙ・・ｭﾘｷﾘｩ\",\r\n        hidden_meaning: \"ﾘｧﾙ・・ｹﾙ・・ﾘｧﾙ・ｮﾙ・浬",\r\n        related: \"ﾙ・ｹﾘｱﾙ・ｩ ﾘｧﾙ・ｧﾘｳﾘｪﾘｱﾘｧﾘｪﾙ韓ｬﾙ韓ｩ ﾘｰﾘｧﾘｪ ﾘｧﾙ・ｵﾙ・ｩ\"\r\n    },\r\n    FR: {\r\n        deep_dive: \"Contexte approfondi\",\r\n        council_debate: \"Le dﾃｩbat du conseil\",\r\n        geopolitics: \"Gﾃｩopolitique\",\r\n        macro: \"Macro\",\r\n        quant: \"Quant\",\r\n        technical: \"Technique\",\r\n        policy: \"Politique\",\r\n        tech: \"Tech\",\r\n        market_impact: \"Impact sur le marchﾃｩ\",\r\n        rising: \"HAUSSIER\",\r\n        falling: \"BAISSIER\",\r\n        context: \"Contexte 2026\",\r\n        relevance: \"Pertinence OmniMetric\",\r\n        usage: \"Utilisation & Signaux\",\r\n        view_chart: \"Voir graphique en direct\",\r\n        launch: \"Lancer le terminal\",\r\n        hidden_meaning: \"Sens cachﾃｩ\",\r\n        related: \"Connaissances stratﾃｩgiques\"\r\n    },\r\n    DE: {\r\n        deep_dive: \"Tiefgehender Kontext\",\r\n        council_debate: \"Die Ratsdebatte\",\r\n        geopolitics: \"Geopolitik\",\r\n        macro: \"Makro\",\r\n        quant: \"Quant\",\r\n        technical: \"Technisch\",\r\n        policy: \"Politik\",\r\n        tech: \"Tech\",\r\n        market_impact: \"Marktauswirkungen\",\r\n        rising: \"STEIGEND / BULLISH\",\r\n        falling: \"FALLEND / BEARISH\",\r\n        context: \"Kontext 2026\",\r\n        relevance: \"OmniMetric-Relevanz\",\r\n        usage: \"Nutzung & Signale\",\r\n        view_chart: \"Live-Chart ansehen\",\r\n        launch: \"Terminal starten\",\r\n        hidden_meaning: \"Verborgene Bedeutung\",\r\n        related: \"Verwandtes Strategiewissen\"\r\n    }\r\n};\r\n\r\n// Generate params for SSG\r\nexport async function generateStaticParams() {\r\n    const langs = Object.keys(DICTIONARY).map(l => l.toLowerCase());\r\n    const slugs = getAllSlugs();\r\n\r\n    // Cross product\r\n    const params = [];\r\n    for (const lang of langs) {\r\n        for (const slug of slugs) {\r\n            params.push({ lang, slug });\r\n        }\r\n    }\r\n    return params;\r\n}\r\n\r\ntype Props = {\r\n    params: Promise<{ lang: string; slug: string }>;\r\n};\r\n\r\n// Localized SEO helper\r\nfunction getLocalizedSEODescription(item: WikiItem, lang: string): string {\r\n    const title = item.title;\r\n    const descriptions: Record<string, string> = {\r\n        en: `What is ${title}? Understand this macro indicator's impact on 2026 market risk and institutional strategies.`,\r\n        jp: `${title}縺ｨ縺ｯ菴輔°・溷ｸょｴ縺ｮ蠑ｷ豌励・蠑ｱ豌励ｒ蟾ｦ蜿ｳ縺吶ｋ驥崎ｦ∵欠讓吶・026蟷ｴ縺ｮ謚戊ｳ・腸蠅・↓縺翫￠繧句ｽｹ蜑ｲ繧定ｩｳ隗｣縲Ａ,\r\n        cn: `莉荵域弍${title}・滓ｷｱ蜈･謗｢隶ｨ隸･螳剰ｧよ欠譬・ｯｹ2026蟷ｴ蟶ょ惻鬟朱勦蜥梧惻譫・兜襍・ｭ也払逧・ｽｱ蜩阪Ａ,\r\n        es: `ﾂｿQuﾃｩ es ${title}? Comprenda el impacto de este indicador macro en el riesgo de mercado de 2026.`,\r\n        hi: `${title} 爨歩･財､ｯ爨ｾ 爨ｹ爭・ 2026 爨歩･・爨ｬ爨ｾ爨憫､ｾ爨ｰ 爨憫･金､籾､ｿ爨ｮ 爨扉､ｰ 爨ｸ爨も､ｸ爭財､･爨ｾ爨伶､､ 爨ｰ爨｣爨ｨ爭爨､爨ｿ爨ｯ爭金､・爨ｪ爨ｰ 爨・､ｸ爨歩･・爨ｪ爭財､ｰ爨ｭ爨ｾ爨ｵ 爨歩･・爨ｸ爨ｮ爨杳･・､も･､`,\r\n        id: `Apa itu ${title}? Pahami dampak indikator makro ini terhadap risiko pasar 2026 dan strategi investasi.`,\r\n        ar: `ﾙ・ｧ ﾙ・・${title}ﾘ・ﾘｧﾙ・・・ﾘｪﾘ｣ﾘｫﾙ韓ｱ ﾙ・ｰﾘｧ ﾘｧﾙ・・､ﾘｴﾘｱ ﾘｧﾙ・・ｧﾙ・ｱﾙ・ﾘｹﾙ・・ﾙ・ｮﾘｧﾘｷﾘｱ ﾘｧﾙ・ｳﾙ異・ﾙ・ｹﾘｧﾙ・2026 ﾙ畏ｧﾘｳﾘｪﾘｱﾘｧﾘｪﾙ韓ｬﾙ韓ｧﾘｪ ﾘｧﾙ・・､ﾘｳﾘｳﾘｧﾘｪ.`\r\n    };\r\n    return descriptions[lang.toLowerCase()] || descriptions['en'];\r\n}\r\n\r\nfunction getContentDescription(item: WikiItem): string {\r\n    const lightSummary =\r\n        item.type === 'glossary' ? (item.data as any).definition :\r\n            item.type === 'technical' ? (item.data as any).description :\r\n                item.type === 'maxim' ? (item.data as any).meaning : \"\";\r\n\r\n    return lightSummary || item.heavy?.summary || \"\";\r\n}\r\n\r\nimport { getMultilingualMetadata } from '@/data/seo';\r\n\r\n// Metadata\r\nexport async function generateMetadata({ params }: Props): Promise<Metadata> {\r\n    const { lang, slug } = await params;\r\n    const normalizedLang = lang.toUpperCase() as LangType;\r\n    const item = getWikiItem(slug, normalizedLang);\r\n\r\n    if (!item) return { title: 'Not Found' };\r\n\r\n    const metadata = getMultilingualMetadata(`/wiki/${slug}`, lang, `${item.title} - ${item.type.toUpperCase()} | OmniMetric`, getLocalizedSEODescription(item, lang).slice(0, 120), 'path');\r\n\r\n    return metadata;\r\n}\r\n\r\n// UI Helpers\r\ninterface ExpertCardProps {\r\n    role: string;\r\n    icon: any;\r\n    color: string;\r\n    bg: string;\r\n    content?: string;\r\n    isRTL: boolean;\r\n    localizedRole?: string;\r\n}\r\n\r\nconst ExpertCard = ({ role, icon: Icon, color, bg, content, isRTL, localizedRole }: ExpertCardProps) => {\r\n    if (!content) return null;\r\n    return (\r\n        <div className={`p-4 rounded-xl border border-border bg-transparent hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors ${isRTL ? 'text-right' : 'text-left'}`}>\r\n            <div className={`flex items-center gap-2 mb-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <div className={`p-1.5 rounded ${bg} ${color}`}>\r\n                    <Icon className=\"w-4 h-4\" />\r\n                </div>\r\n                <span className=\"text-[10px] font-black uppercase tracking-widest text-slate-500\">{localizedRole || role}</span>\r\n            </div>\r\n            <p className=\"text-xs md:text-sm leading-6 md:leading-7 font-medium text-slate-700 dark:text-slate-300\">\r\n                &ldquo;{content}&rdquo;\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default async function WikiDetailPage({ params }: Props) {\r\n    const { lang, slug } = await params;\r\n    const normalizedLang = lang.toUpperCase() as LangType;\r\n    const isRTL = normalizedLang === 'AR';\r\n\r\n    // Get localized labels\r\n    const LABELS = WIKI_LABELS[normalizedLang] || WIKI_LABELS['EN'];\r\n\r\n    const item = getWikiItem(slug, normalizedLang);\r\n    if (!item) notFound();\r\n\r\n    // JSON-LD Article\r\n    const articleSchema = {\r\n        \"@context\": \"https://schema.org\",\r\n        \"@type\": \"Article\",\r\n        \"headline\": item.title,\r\n        \"author\": { \"@type\": \"Organization\", \"name\": \"OmniMetric\" },\r\n        \"publisher\": { \"@type\": \"Organization\", \"name\": \"OmniMetric\", \"logo\": { \"@type\": \"ImageObject\", \"url\": \"https://omnimetric.net/icon.png\" } },\r\n        \"datePublished\": \"2026-01-01\",\r\n        \"description\": getContentDescription(item)\r\n    };\r\n\r\n    // JSON-LD Breadcrumbs\r\n    const breadcrumbSchema = {\r\n        \"@context\": \"https://schema.org\",\r\n        \"@type\": \"BreadcrumbList\",\r\n        \"itemListElement\": [\r\n            {\r\n                \"@type\": \"ListItem\",\r\n                \"position\": 1,\r\n                \"name\": \"Home\",\r\n                \"item\": \"https://omnimetric.net\"\r\n            },\r\n            {\r\n                \"@type\": \"ListItem\",\r\n                \"position\": 2,\r\n                \"name\": \"Wiki\",\r\n                \"item\": `https://omnimetric.net/${lang}/wiki`\r\n            },\r\n            {\r\n                \"@type\": \"ListItem\",\r\n                \"position\": 3,\r\n                \"name\": item.category,\r\n                \"item\": `https://omnimetric.net/${lang}/wiki#${item.category}`\r\n            },\r\n            {\r\n                \"@type\": \"ListItem\",\r\n                \"position\": 4,\r\n                \"name\": item.title,\r\n                \"item\": `https://omnimetric.net/${lang}/wiki/${slug}`\r\n            }\r\n        ]\r\n    };\r\n\r\n    // Related Items logic\r\n    const allItems = getWikiData(normalizedLang);\r\n    const related = allItems\r\n        .filter((i: WikiItem) => i.slug !== slug && (i.category === item.category || i.type === item.type))\r\n        .slice(0, 3);\r\n\r\n    return (\r\n        <div className=\"min-h-screen text-foreground font-sans pb-20\">\r\n            <DynamicStructuredData data={articleSchema} />\r\n            <DynamicStructuredData data={breadcrumbSchema} />\r\n\r\n            {/* Navigation Bar for Wiki */}\r\n            <div className=\"bg-slate-50 dark:bg-[#050505] border-b border-border sticky top-0 z-40 px-4 h-14 flex items-center justify-between\">\r\n                <Link href={`/${lang}/wiki`} className={`flex items-center gap-2 text-slate-400 hover:text-white transition-colors text-sm font-mono uppercase tracking-tighter ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                    <ArrowLeft className={`w-4 h-4 ${isRTL ? 'rotate-180' : ''}`} />\r\n                    INDEX\r\n                </Link>\r\n            </div>\r\n\r\n            <main className=\"max-w-[800px] mx-auto p-4 md:p-12\">\r\n                <article className=\"space-y-12\">\r\n\r\n                    {/* Header */}\r\n                    <header className={`space-y-6 border-b border-border pb-8 ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                        {/* Improved Breadcrumbs (Visual) */}\r\n                        <nav aria-label=\"Breadcrumb\" className={`flex items-center gap-2 text-[10px] font-bold uppercase tracking-[0.2em] text-slate-500 mb-6 flex-wrap ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                            <Link href={`/`} className=\"hover:text-sky-400 transition-colors\">Home</Link>\r\n                            <ChevronRight className={`w-3 h-3 text-slate-800 ${isRTL ? 'rotate-180' : ''}`} />\r\n                            <Link href={`/${lang.toLowerCase()}/wiki`} className=\"hover:text-sky-400 transition-colors\">Wiki</Link>\r\n                            <ChevronRight className={`w-3 h-3 text-slate-800 ${isRTL ? 'rotate-180' : ''}`} />\r\n                            <Link href={`/${lang.toLowerCase()}/wiki#${item.category}`} className=\"hover:text-sky-400 transition-colors\">{item.category}</Link>\r\n                            <ChevronRight className={`w-3 h-3 text-slate-800 ${isRTL ? 'rotate-180' : ''}`} />\r\n                            <span className=\"text-sky-500\">{item.title}</span>\r\n                        </nav>\r\n                        <h1 className=\"text-3xl md:text-5xl font-black text-foreground leading-tight\">\r\n                            {item.title}\r\n                        </h1>\r\n                        <p className=\"text-lg text-slate-400 font-serif leading-relaxed\">\r\n                            {getContentDescription(item)}\r\n                        </p>\r\n\r\n                        {/* LIVE DATA INJECTION (E-E-A-T UTILITY) */}\r\n                        <LiveWikiData slug={slug} lang={normalizedLang} />\r\n\r\n                        {/* V4.7 HEAVY: Deep Dive */}\r\n                        {(item.heavy?.deep_dive || item.heavy?.summary) && (\r\n                            <div className={`mt-8 p-6 bg-slate-50 dark:bg-slate-900/50 border-sky-500 text-sm leading-8 text-slate-700 dark:text-slate-300 font-serif ${isRTL ? 'border-r-4 text-right' : 'border-l-4 text-left'}`}>\r\n                                <h3 className=\"text-xs font-black text-sky-500 uppercase tracking-widest mb-2 font-sans\">\r\n                                    {item.heavy?.deep_dive ? LABELS.deep_dive : LABELS.context}\r\n                                </h3>\r\n                                {item.heavy?.deep_dive || item.heavy?.summary}\r\n                            </div>\r\n                        )}\r\n                    </header>\r\n\r\n                    {/* V4.7 HEAVY: THE COUNCIL (Hybrid Integration) */}\r\n                    {item.heavy?.council_debate && Object.keys(item.heavy.council_debate).length > 0 && (\r\n                        <section className=\"space-y-6\">\r\n                            <h2 className={`text-xl font-black uppercase tracking-tighter flex items-center gap-3 ${isRTL ? 'justify-end flex-row-reverse' : ''}`}>\r\n                                <Users className=\"w-5 h-5 text-sky-500\" />\r\n                                <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-sky-500 to-purple-500\">\r\n                                    {LABELS.council_debate}\r\n                                </span>\r\n                            </h2>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                                {/* Expert Cards */}\r\n                                <ExpertCard role=\"Geopolitics\" localizedRole={LABELS.geopolitics} icon={Globe} color=\"text-emerald-400\" bg=\"bg-emerald-400/10\" content={item.heavy.council_debate.geopolitics} isRTL={isRTL} />\r\n                                <ExpertCard role=\"Macro\" localizedRole={LABELS.macro} icon={Activity} color=\"text-sky-400\" bg=\"bg-sky-400/10\" content={item.heavy.council_debate.macro} isRTL={isRTL} />\r\n                                <ExpertCard role=\"Quant\" localizedRole={LABELS.quant} icon={Cpu} color=\"text-violet-400\" bg=\"bg-violet-400/10\" content={item.heavy.council_debate.quant} isRTL={isRTL} />\r\n                                <ExpertCard role=\"Technical\" localizedRole={LABELS.technical} icon={TrendingUp} color=\"text-amber-400\" bg=\"bg-amber-400/10\" content={item.heavy.council_debate.technical} isRTL={isRTL} />\r\n                                <ExpertCard role=\"Policy\" localizedRole={LABELS.policy} icon={Scale} color=\"text-rose-400\" bg=\"bg-rose-400/10\" content={item.heavy.council_debate.policy} isRTL={isRTL} />\r\n                                <ExpertCard role=\"Tech\" localizedRole={LABELS.tech} icon={Zap} color=\"text-cyan-400\" bg=\"bg-cyan-400/10\" content={item.heavy.council_debate.tech} isRTL={isRTL} />\r\n                            </div>\r\n                        </section>\r\n                    )}\r\n\r\n                    {/* Content Body Based on Type */}\r\n                    <div className=\"space-y-12\">\r\n\r\n\r\n                        {/* GLOSSARY SPECIFIC */}\r\n                        {item.type === 'glossary' && (\r\n                            <>\r\n                                <section>\r\n                                    <h3 className={`text-sm font-bold text-slate-500 uppercase tracking-wider mb-4 ${isRTL ? 'text-right' : ''}`}>{LABELS.market_impact}</h3>\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                        <div className={`p-4 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/30 rounded-lg ${isRTL ? 'text-right' : ''}`}>\r\n                                            <span className=\"text-emerald-600 dark:text-emerald-400 font-bold block mb-2 text-xs\">{LABELS.rising}</span>\r\n                                            <p className=\"text-sm text-slate-700 dark:text-slate-300\">{(item.data as any).market_impact?.up}</p>\r\n                                        </div>\r\n                                        <div className={`p-4 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-lg ${isRTL ? 'text-right' : ''}`}>\r\n                                            <span className=\"text-red-600 dark:text-red-400 font-bold block mb-2 text-xs\">{LABELS.falling}</span>\r\n                                            <p className=\"text-sm text-slate-700 dark:text-slate-300\">{(item.data as any).market_impact?.down}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </section>\r\n\r\n                                <section className={`bg-sky-50 dark:bg-[#0F172A] p-6 rounded-xl border border-sky-200 dark:border-sky-900/30 ${isRTL ? 'text-right' : ''}`}>\r\n                                    <h3 className={`text-sky-400 font-black uppercase tracking-widest text-sm mb-4 flex items-center gap-2 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                                        <TrendingUp className=\"w-4 h-4\" /> {LABELS.context}\r\n                                    </h3>\r\n                                    <p className=\"text-slate-700 dark:text-slate-300 leading-relaxed font-serif\">\r\n                                        {(item.data as any).context_2026}\r\n                                    </p>\r\n                                </section>\r\n\r\n                                <section>\r\n                                    <h3 className={`text-xs font-bold text-slate-600 uppercase mb-2 ${isRTL ? 'text-right' : ''}`}>{LABELS.relevance}</h3>\r\n                                    <div className={`p-4 border border-border rounded text-sm text-slate-500 dark:text-slate-400 leading-relaxed font-mono ${isRTL ? 'text-right' : ''}`}>\r\n                                        {(item.data as any).gms_relevance}\r\n                                    </div>\r\n                                </section>\r\n                            </>\r\n                        )}\r\n\r\n                        {/* TECHNICAL SPECIFIC */}\r\n                        {item.type === 'technical' && (\r\n                            <>\r\n                                <section className={`p-6 bg-transparent dark:bg-[#0A0A0A] border border-border rounded-lg ${isRTL ? 'text-right' : ''}`}>\r\n                                    <h3 className=\"text-purple-600 dark:text-purple-400 font-bold text-sm uppercase mb-3\">{LABELS.usage}</h3>\r\n                                    <p className=\"text-slate-700 dark:text-slate-300 text-lg font-medium leading-relaxed\">\r\n                                        {(item.data as any).usage || item.heavy?.gms_conclusion || \"Refer to live signals.\"}\r\n                                    </p>\r\n                                </section>\r\n\r\n                                {/* Link to Chart Terminal (Mock) */}\r\n                                <div className=\"mt-8 p-8 border border-dashed border-border rounded-lg text-center hover:border-purple-500/50 transition-colors\">\r\n                                    <h4 className=\"text-slate-400 text-sm mb-4\">{LABELS.view_chart}</h4>\r\n                                    <Link href={`/?lang=${normalizedLang}#chart`} className=\"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-full transition-colors\">\r\n                                        <Activity className=\"w-4 h-4\" />\r\n                                        {LABELS.launch}\r\n                                    </Link>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n\r\n                        {/* MAXIM SPECIFIC */}\r\n                        {item.type === 'maxim' && (\r\n                            <>\r\n                                <blockquote className={`text-2xl md:text-4xl font-black text-foreground leading-snug my-12 ${isRTL ? 'text-right' : 'text-center'}`}>\r\n                                    <span className=\"text-sky-600 opacity-50 text-6xl block mb-4\">&quot;</span>\r\n                                    {(item.data as any).text}\r\n                                    <span className=\"text-sky-600 opacity-50 text-6xl block mt-4 text-right\">&quot;</span>\r\n                                </blockquote>\r\n\r\n                                <div className={`flex items-center justify-center gap-4 text-sky-400 font-mono text-sm font-bold uppercase tracking-widest mb-12`}>\r\n                                    <span>窶・{(item.data as any).attribution}</span>\r\n                                </div>\r\n\r\n                                <section className={`bg-sky-50 dark:bg-[#0F172A] p-8 rounded-xl border-sky-500 ${isRTL ? 'border-r-4 text-right' : 'border-l-4 text-left'}`}>\r\n                                    <h3 className=\"text-slate-500 font-bold text-xs uppercase mb-4\">{LABELS.hidden_meaning}</h3>\r\n                                    <p className=\"text-xl text-slate-900 dark:text-white font-serif italic\">\r\n                                        {(item.data as any).meaning}\r\n                                    </p>\r\n                                </section>\r\n                            </>\r\n                        )}\r\n\r\n                    </div>\r\n\r\n                </article>\r\n                <DataSourceFooter />\r\n\r\n                {/* Related Strategy Knowledge (Internal Linking) */}\r\n                <div className=\"mt-20 pt-12 border-t border-border\">\r\n                    <h3 className={`text-xs font-bold text-slate-500 uppercase tracking-widest mb-8 ${isRTL ? 'text-right' : ''}`}>{LABELS.related}</h3>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                        {related.map(r => (\r\n                            <Link key={r.slug} href={`/${lang.toLowerCase()}/wiki/${r.slug}`} className=\"group block\">\r\n                                <div className={`p-6 bg-transparent dark:bg-[#0A0A0A] border border-border group-hover:border-sky-500/50 transition-all h-full flex flex-col justify-between ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                                    <h4 className=\"text-sm font-bold text-foreground group-hover:text-sky-500 transition-colors mb-2\">\r\n                                        {r.title}\r\n                                    </h4>\r\n                                    <p className=\"text-[10px] text-slate-500 font-mono uppercase italic\">{r.category}</p>\r\n                                </div>\r\n                            </Link>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"mt-12 pt-12 border-t border-border\">\r\n                    <AdSenseSlot variant=\"responsive\" />\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\[lang]\\wiki\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\about\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\analysis\\[date]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\archive\\[date]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\archive\\audit\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\archive\\list\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\health\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\live\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\news\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\og\\commodities\\route.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":155,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":155,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7402,7405],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7402,7405],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ImageResponse } from '@vercel/og';\r\nimport { getSignalData } from '@/lib/signal';\r\nimport { DICTIONARY, LangType } from '@/data/dictionary';\r\n\r\nexport const runtime = 'edge';\r\n\r\nexport async function GET(request: Request) {\r\n    const { searchParams } = new URL(request.url);\r\n    const lang = (searchParams.get('lang') || 'EN').toUpperCase() as LangType;\r\n\r\n    try {\r\n        const data = await getSignalData();\r\n        if (!data) throw new Error(\"Signal data is null after fetch\");\r\n\r\n        const commoditiesLabel = DICTIONARY[lang]?.labels?.commodities || \"COMMODITIES\";\r\n        const dateObj = new Date(data?.last_updated || new Date());\r\n        const dateStr = dateObj.toLocaleDateString(lang === 'JP' ? 'ja-JP' : 'en-US', {\r\n            month: 'short', day: 'numeric', timeZone: 'Asia/Tokyo'\r\n        });\r\n\r\n        let mainMetricLabel = commoditiesLabel;\r\n        let mainMetricValue = data?.market_data?.COMMODITIES?.score?.toString() || \"50\";\r\n        let trendText = \"NEUTRAL\";\r\n        let trendColor = \"#94a3b8\";\r\n\r\n        if (lang === 'ES' && data?.market_data?.COPPER_GOLD) {\r\n            mainMetricLabel = \"RATIO COBRE ORO\";\r\n            mainMetricValue = data.market_data.COPPER_GOLD.price.toString();\r\n            const trend = data.market_data.COPPER_GOLD.trend;\r\n            if (trend === \"RISK-ON\") {\r\n                trendText = \"ALCISTA\";\r\n                trendColor = \"#10b981\";\r\n            } else if (trend === \"RISK-OFF\") {\r\n                trendText = \"BAJISTA\";\r\n                trendColor = \"#ef4444\";\r\n            } else {\r\n                trendText = \"ESTABLE\";\r\n            }\r\n        } else {\r\n            const score = data?.market_data?.COMMODITIES?.score || 50;\r\n            if (score > 60) {\r\n                trendText = \"ACCUMULATE\";\r\n                trendColor = \"#10b981\";\r\n            } else if (score < 40) {\r\n                trendText = \"DEFENSIVE\";\r\n                trendColor = \"#ef4444\";\r\n            }\r\n        }\r\n\r\n        // 5. Dynamic Font Loading & RTL Logic\r\n        let fontUrl = 'https://github.com/google/fonts/raw/main/ofl/notosansjp/NotoSansJP-Bold.ttf'; // Default (JP/EN/ES/ID)\r\n        let fontFamily = '\"NotoSansJP\", sans-serif';\r\n        const isRTL = lang === 'AR';\r\n\r\n        if (lang === 'CN') {\r\n            fontUrl = 'https://github.com/google/fonts/raw/main/ofl/notosanssc/NotoSansSC-Bold.ttf';\r\n            fontFamily = '\"NotoSansSC\", sans-serif';\r\n        } else if (lang === 'HI') {\r\n            fontUrl = 'https://github.com/google/fonts/raw/main/ofl/notosansdevanagari/NotoSansDevanagari-Bold.ttf';\r\n            fontFamily = '\"NotoSansDevanagari\", sans-serif';\r\n        } else if (lang === 'AR') {\r\n            fontUrl = 'https://github.com/google/fonts/raw/main/ofl/notosansarabic/NotoSansArabic-Bold.ttf';\r\n            fontFamily = '\"NotoSansArabic\", sans-serif';\r\n        }\r\n\r\n        let fontOptions = {};\r\n\r\n        // Timeout Wrapper\r\n        const fetchWithTimeout = (url: string, ms: number) => {\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), ms);\r\n            return fetch(url, { signal: controller.signal })\r\n                .then(res => { clearTimeout(timeoutId); return res; })\r\n                .catch(err => { clearTimeout(timeoutId); throw err; });\r\n        };\r\n\r\n        try {\r\n            // 3000ms Timeout to prevent Edge Function Freeze\r\n            const response = await fetchWithTimeout(fontUrl, 3000);\r\n            if (response.ok) {\r\n                const fontData = await response.arrayBuffer();\r\n                if (fontData.byteLength > 0) {\r\n                    const fontName = fontFamily.split('\"')[1];\r\n                    fontOptions = {\r\n                        fonts: [{ name: fontName, data: fontData, style: 'normal', weight: 700 }]\r\n                    };\r\n                }\r\n            } else {\r\n                console.warn(`Font fetch failed: ${response.status}`);\r\n                fontFamily = 'sans-serif'; // Fallback\r\n            }\r\n        } catch (e) {\r\n            console.warn(`Font load Exception for ${lang}:`, e);\r\n            fontFamily = 'sans-serif'; // Fallback\r\n        }\r\n\r\n        return new ImageResponse(\r\n            (\r\n                <div\r\n                    style={{\r\n                        height: '100%', width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center',\r\n                        backgroundColor: '#050505', // Void Black\r\n                        color: 'white',\r\n                        fontFamily: fontFamily,\r\n                        padding: '60px',\r\n                        border: '16px solid #334155',\r\n                        direction: isRTL ? 'rtl' : 'ltr'\r\n                    }}\r\n                >\r\n                    {/* Header */}\r\n                    <div style={{ display: 'flex', position: 'absolute', top: 50, left: 80, alignItems: 'center' }}>\r\n                        <div style={{ display: 'flex', width: '12px', height: '12px', background: '#f59e0b', borderRadius: '50%', marginRight: '15px' }}></div>\r\n                        <div style={{ display: 'flex', fontSize: 30, color: '#94a3b8', fontWeight: 'bold', letterSpacing: '0.1em' }}>\r\n                            OMNIMETRIC | <span style={{ color: '#f59e0b', marginLeft: '10px' }}>{commoditiesLabel}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Central Panel */}\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                        backgroundColor: '#111827',\r\n                        padding: '60px 120px',\r\n                        borderRadius: '16px',\r\n                        border: '2px solid #374151'\r\n                    }}>\r\n                        <div style={{ display: 'flex', fontSize: 40, color: '#64748b', marginBottom: '20px', letterSpacing: '0.05em', textTransform: 'uppercase' }}>{mainMetricLabel}</div>\r\n\r\n                        {/* Massive Metric */}\r\n                        <div style={{ display: 'flex', fontSize: 200, fontWeight: 900, lineHeight: 0.9, letterSpacing: '-0.04em' }}>{mainMetricValue}</div>\r\n\r\n                        {/* Trend Status */}\r\n                        <div style={{\r\n                            display: 'flex', marginTop: '40px', padding: '15px 50px',\r\n                            borderRadius: '8px',\r\n                            fontSize: 48, fontWeight: 'bold',\r\n                            color: trendColor,\r\n                            backgroundColor: trendColor + '22', // 0.1 opacity background\r\n                            border: `2px solid ${trendColor}`,\r\n                            letterSpacing: '0.05em'\r\n                        }}>\r\n                            {trendText}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Footer */}\r\n                    <div style={{ display: 'flex', position: 'absolute', bottom: 50, right: 80 }}>\r\n                        <div style={{ display: 'flex', fontSize: 24, color: '#475569', letterSpacing: '0.05em' }}>{dateStr} | SUPPLY CHAIN INTELLIGENCE</div>\r\n                    </div>\r\n                </div>\r\n            ),\r\n            { width: 1200, height: 630, ...fontOptions }\r\n        );\r\n    } catch (error: any) {\r\n        console.error('[OG/Commodities] Critical Render Failure', {\r\n            url: request.url,\r\n            error: error.message,\r\n            stack: error.stack\r\n        });\r\n\r\n        return new ImageResponse(\r\n            (\r\n                <div style={{\r\n                    height: '100%', width: '100%', display: 'flex', flexDirection: 'column',\r\n                    alignItems: 'center', justifyContent: 'center', backgroundColor: '#000', color: 'white'\r\n                }}>\r\n                    <div style={{ fontSize: 60, fontWeight: 'bold', color: '#f59e0b', marginBottom: 20 }}>OMNIMETRIC</div>\r\n                    <div style={{ fontSize: 40, color: '#94a3b8' }}>SYSTEM SYNCHRONIZING...</div>\r\n                </div>\r\n            ),\r\n            { width: 1200, height: 630 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\og\\main\\route.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":138,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":138,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7186,7189],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7186,7189],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":161,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":161,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8074,8077],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8074,8077],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ImageResponse } from '@vercel/og';\r\nimport { getSignalData } from '@/lib/signal';\r\nimport { DICTIONARY, LangType } from '@/data/dictionary';\r\n\r\nexport const runtime = 'edge';\r\n\r\nexport async function GET(request: Request) {\r\n    const { searchParams } = new URL(request.url);\r\n    const lang = (searchParams.get('lang') || 'EN').toUpperCase() as LangType;\r\n\r\n    try {\r\n        // 1. Data Fetch\r\n        const data = await getSignalData();\r\n        if (!data) throw new Error(\"Signal data is null after fetch\");\r\n\r\n        const score = data?.gms_score || 50;\r\n\r\n        // 2. Localization Logic\r\n        const momentumKey = calculateMomentum(data);\r\n        const momentumText = DICTIONARY[lang]?.momentum?.[momentumKey] || DICTIONARY['EN'].momentum[momentumKey];\r\n        const gmsLabel = DICTIONARY[lang]?.titles?.gms_score || \"GMS SCORE\";\r\n\r\n        // 3. Trend Arrow & Color\r\n        const { arrow, color } = getTrendVisuals(momentumKey);\r\n\r\n        // 4. Localized Date\r\n        const dateObj = new Date(data?.last_updated || new Date());\r\n        const dateStr = dateObj.toLocaleDateString(lang === 'JP' ? 'ja-JP' : 'en-US', {\r\n            month: 'short', day: 'numeric', timeZone: 'Asia/Tokyo'\r\n        });\r\n\r\n        // 5. Dynamic Font Loading & RTL Logic\r\n        let fontUrl = 'https://github.com/google/fonts/raw/main/ofl/notosansjp/NotoSansJP-Bold.ttf'; // Default (JP/EN/ES/ID)\r\n        let fontFamily = '\"NotoSansJP\", sans-serif';\r\n        const isRTL = lang === 'AR';\r\n\r\n        if (lang === 'CN') {\r\n            fontUrl = 'https://github.com/google/fonts/raw/main/ofl/notosanssc/NotoSansSC-Bold.ttf';\r\n            fontFamily = '\"NotoSansSC\", sans-serif';\r\n        } else if (lang === 'HI') {\r\n            fontUrl = 'https://github.com/google/fonts/raw/main/ofl/notosansdevanagari/NotoSansDevanagari-Bold.ttf';\r\n            fontFamily = '\"NotoSansDevanagari\", sans-serif';\r\n        } else if (lang === 'AR') {\r\n            fontUrl = 'https://github.com/google/fonts/raw/main/ofl/notosansarabic/NotoSansArabic-Bold.ttf';\r\n            fontFamily = '\"NotoSansArabic\", sans-serif';\r\n        }\r\n\r\n        let fontOptions = {};\r\n\r\n        // Timeout Wrapper\r\n        const fetchWithTimeout = (url: string, ms: number) => {\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), ms);\r\n            return fetch(url, { signal: controller.signal })\r\n                .then(res => { clearTimeout(timeoutId); return res; })\r\n                .catch(err => { clearTimeout(timeoutId); throw err; });\r\n        };\r\n\r\n        try {\r\n            // 3000ms Timeout to prevent Edge Function Freeze\r\n            const response = await fetchWithTimeout(fontUrl, 3000);\r\n            if (response.ok) {\r\n                const fontData = await response.arrayBuffer();\r\n                if (fontData.byteLength > 0) {\r\n                    const fontName = fontFamily.split('\"')[1];\r\n                    fontOptions = {\r\n                        fonts: [{ name: fontName, data: fontData, style: 'normal', weight: 700 }]\r\n                    };\r\n                }\r\n            } else {\r\n                console.warn(`Font fetch failed: ${response.status}`);\r\n                fontFamily = 'sans-serif'; // Fallback\r\n            }\r\n        } catch (e) {\r\n            console.warn(`Font load Exception for ${lang}:`, e);\r\n            fontFamily = 'sans-serif'; // Fallback\r\n        }\r\n\r\n        return new ImageResponse(\r\n            (\r\n                <div\r\n                    style={{\r\n                        height: '100%', width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center',\r\n                        backgroundColor: '#050505', // Void Black\r\n                        color: 'white',\r\n                        fontFamily: fontFamily,\r\n                        padding: '60px',\r\n                        border: '16px solid #1e293b', // Thicker border\r\n                        direction: isRTL ? 'rtl' : 'ltr'\r\n                    }}\r\n                >\r\n                    {/* Header */}\r\n                    <div style={{ display: 'flex', position: 'absolute', top: 50, left: 70, alignItems: 'center' }}>\r\n                        <div style={{ display: 'flex', width: '12px', height: '12px', background: '#38bdf8', borderRadius: '50%', marginRight: '15px' }}></div>\r\n                        <div style={{ display: 'flex', fontSize: 30, letterSpacing: '0.1em', fontWeight: 'bold', color: '#94a3b8' }}>OMNIMETRIC</div>\r\n                    </div>\r\n\r\n                    {/* Main Content Area */}\r\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                        {/* Score Section */}\r\n                        <div style={{ display: 'flex', flexDirection: 'column', borderLeft: '12px solid #0ea5e9', paddingLeft: '60px' }}>\r\n                            <div style={{ display: 'flex', fontSize: 40, color: '#64748b', marginBottom: '10px', textTransform: 'uppercase', letterSpacing: '0.05em' }}>{gmsLabel}</div>\r\n                            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                                {/* MASSIVE SCORE: Visual Authority */}\r\n                                <div style={{ display: 'flex', fontSize: 270, fontWeight: 900, lineHeight: 0.85, letterSpacing: '-0.05em' }}>{score}</div>\r\n                                <div style={{ display: 'flex', fontSize: 140, marginLeft: '40px', color: color, transform: 'translateY(-10px)' }}>{arrow}</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Momentum Badge Section */}\r\n                        <div style={{ display: 'flex', marginLeft: '100px', flexDirection: 'column', justifyContent: 'center' }}>\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                backgroundColor: color === '#94a3b8' ? '#1e293b' : color + '22', // Subtle background\r\n                                borderColor: color,\r\n                                padding: '20px 50px',\r\n                                borderRadius: '8px', // Sharper corners for authority\r\n                                fontSize: 48,\r\n                                fontWeight: 'bold',\r\n                                border: `4px solid ${color}`,\r\n                                color: 'white',\r\n                                letterSpacing: '0.05em',\r\n                                textTransform: 'uppercase'\r\n                            }}>\r\n                                {momentumText}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Footer */}\r\n                    <div style={{ display: 'flex', position: 'absolute', bottom: 50, right: 70 }}>\r\n                        <div style={{ display: 'flex', fontSize: 24, color: '#475569', letterSpacing: '0.05em' }}>{dateStr} | INSTITUTIONAL INTELLIGENCE</div>\r\n                    </div>\r\n                </div>\r\n            ),\r\n            { width: 1200, height: 630, ...fontOptions }\r\n        );\r\n    } catch (error: any) {\r\n        console.error('[OG/Main] Critical Render Failure', {\r\n            url: request.url,\r\n            error: error.message,\r\n            stack: error.stack\r\n        });\r\n\r\n        // Emergency Fallback Render\r\n        return new ImageResponse(\r\n            (\r\n                <div style={{\r\n                    height: '100%', width: '100%', display: 'flex', flexDirection: 'column',\r\n                    alignItems: 'center', justifyContent: 'center', backgroundColor: '#000', color: 'white'\r\n                }}>\r\n                    <div style={{ fontSize: 60, fontWeight: 'bold', color: '#38bdf8', marginBottom: 20 }}>OMNIMETRIC</div>\r\n                    <div style={{ fontSize: 40, color: '#94a3b8' }}>SYSTEM SYNCHRONIZING...</div>\r\n                </div>\r\n            ),\r\n            { width: 1200, height: 630 }\r\n        );\r\n    }\r\n}\r\n\r\nfunction calculateMomentum(data: any): 'stable' | 'rising' | 'falling' | 'peaking' | 'bottoming' {\r\n    if (!data?.history_chart || data.history_chart.length < 5) return 'stable';\r\n    const recent = data.history_chart.slice(0, 5);\r\n    const latest = recent[0].score;\r\n    const old = recent[recent.length - 1].score;\r\n    const diff = latest - old;\r\n    if (latest < 40 && diff > 0) return 'bottoming';\r\n    if (latest > 60 && diff < 0) return 'peaking';\r\n    if (diff > 2) return 'rising';\r\n    if (diff < -2) return 'falling';\r\n    return 'stable';\r\n}\r\n\r\nfunction getTrendVisuals(momentum: string) {\r\n    switch (momentum) {\r\n        case 'bottoming':\r\n        case 'rising':\r\n            return { arrow: '竊・, color: '#22d3ee' }; // Cyan\r\n        case 'peaking':\r\n        case 'falling':\r\n            return { arrow: '竊・, color: '#ef4444' }; // Red\r\n        default:\r\n            return { arrow: '竊・, color: '#94a3b8' }; // Slate\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\proxy\\fmp\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1388,1391],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1388,1391],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":43,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":43,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\n\r\nexport const runtime = 'edge';\r\n\r\nexport async function GET(request: NextRequest) {\r\n    const { searchParams } = new URL(request.url);\r\n    const symbol = searchParams.get('symbol');\r\n    const api_key = process.env.FMP_API_KEY;\r\n\r\n    if (!symbol || !api_key) {\r\n        return NextResponse.json({ error: 'Missing params' }, { status: 400 });\r\n    }\r\n\r\n    // SSRF Prevention: Validate symbol format (Alphanumeric, dot, caret, dash only)\r\n    if (!/^[a-zA-Z0-9^.-]+$/.test(symbol)) {\r\n        return NextResponse.json({ error: 'Invalid symbol format' }, { status: 400 });\r\n    }\r\n\r\n    const url = `https://financialmodelingprep.com/api/v3/quote/${symbol}?apikey=${api_key}`;\r\n\r\n    try {\r\n        let lastError;\r\n        for (let i = 0; i < 3; i++) {\r\n            try {\r\n                const res = await fetch(url, {\r\n                    next: { revalidate: 600 } // Cache for 10 min\r\n                });\r\n                if (res.ok) {\r\n                    const data = await res.json();\r\n                    return NextResponse.json(data, {\r\n                        headers: {\r\n                            'Cache-Control': 'public, s-maxage=600, stale-while-revalidate=120'\r\n                        }\r\n                    });\r\n                }\r\n                lastError = `Status ${res.status}`;\r\n            } catch (e: any) {\r\n                lastError = e.message;\r\n            }\r\n            await new Promise(r => setTimeout(r, 1000 * (i + 1)));\r\n        }\r\n        return NextResponse.json({ error: `FMP Proxy failed: ${lastError}` }, { status: 502 });\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\proxy\\fred\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1261,1264],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1261,1264],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":39,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":39,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\n\r\nexport const runtime = 'edge';\r\n\r\nexport async function GET(request: NextRequest) {\r\n    const { searchParams } = new URL(request.url);\r\n    const series_id = searchParams.get('series_id');\r\n    const api_key = process.env.FRED_API_KEY;\r\n\r\n    if (!series_id || !api_key) {\r\n        return NextResponse.json({ error: 'Missing params' }, { status: 400 });\r\n    }\r\n\r\n    const url = `https://api.stlouisfed.org/fred/series/observations?series_id=${series_id}&api_key=${api_key}&file_type=json`;\r\n\r\n    try {\r\n        // Implementation of retry logic (max 3 times)\r\n        let lastError;\r\n        for (let i = 0; i < 3; i++) {\r\n            try {\r\n                const res = await fetch(url, {\r\n                    next: { revalidate: 3600 } // Cache for 1 hour\r\n                });\r\n                if (res.ok) {\r\n                    const data = await res.json();\r\n                    return NextResponse.json(data, {\r\n                        headers: {\r\n                            'Cache-Control': 'public, s-maxage=3600, stale-while-revalidate=600'\r\n                        }\r\n                    });\r\n                }\r\n                lastError = `Status ${res.status}`;\r\n            } catch (e: any) {\r\n                lastError = e.message;\r\n            }\r\n            await new Promise(r => setTimeout(r, 1000 * (i + 1))); // Exponential-ish backoff\r\n        }\r\n        return NextResponse.json({ error: `FRED Proxy failed: ${lastError}` }, { status: 502 });\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\signal\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\api\\test-gateway\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_request' is defined but never used.","line":7,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":35},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1066,1069],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1066,1069],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { generateText } from 'ai';\r\nimport { gateway } from '@ai-sdk/gateway';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport async function GET(_request: NextRequest) {\r\n    const API_KEY = process.env.AI_GATEWAY_API_KEY;\r\n\r\n    if (!API_KEY) {\r\n        return NextResponse.json({ status: \"ERROR\", message: \"Env missing (AI_GATEWAY_API_KEY)\" });\r\n    }\r\n\r\n    // Based on User's Model List: naming uses '/' and gemini-2.0-flash is available.\r\n    const modelsToProbe = [\r\n        'google/gemini-2.0-flash',\r\n        'google/gemini-1.5-flash',\r\n        'google:gemini-2.0-flash',\r\n        'google:gemini-1.5-flash'\r\n    ];\r\n\r\n    const results: { id: string; status: string; text?: string; error?: string }[] = [];\r\n\r\n    for (const m of modelsToProbe) {\r\n        try {\r\n            // We use the gateway helper. If passing a string with '/', \r\n            // the SDK might interpret it differently, so we try it.\r\n            const { text } = await generateText({\r\n                model: gateway(m as any), // gateway helper still needs casting if m is string\r\n                prompt: \"Say 'GATEWAY_SUCCESS'\",\r\n            });\r\n            results.push({ id: m, status: \"SUCCESS\", text });\r\n\r\n            // If one succeeds, we can stop or just collect all\r\n            if (text) {\r\n                return NextResponse.json({\r\n                    status: \"SUCCESS_IDENTIFIED\",\r\n                    winner: m,\r\n                    text: text\r\n                });\r\n            }\r\n        } catch (e: unknown) {\r\n            results.push({ id: m, status: \"FAILURE\", error: (e as Error).message || \"404\" });\r\n        }\r\n    }\r\n\r\n    return NextResponse.json({\r\n        status: \"PROBE_V3_COMPLETE\",\r\n        results: results\r\n    });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\archive\\[date]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":114,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6226,6229],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6226,6229],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { Suspense, useEffect, useState } from 'react';\r\nimport { TerminalPage } from '@/components/TerminalPage';\r\nimport { useSearchParams, useParams } from 'next/navigation';\r\nimport { DICTIONARY, LangType } from '@/data/dictionary';\r\nimport { Clock, Shield, AlertTriangle } from 'lucide-react';\r\n\r\nfunction ArchiveDetailContent() {\r\n    const searchParams = useSearchParams();\r\n    const params = useParams();\r\n    const date = params.date as string;\r\n    const lang = (searchParams.get('lang') as LangType) || 'JP';\r\n    const t = DICTIONARY[lang];\r\n    const [data, setData] = useState<{\r\n        gms_score: number;\r\n        last_updated: string;\r\n        analysis?: { reports?: Record<string, string>; content?: string };\r\n        market_data: Record<string, { price: string | number }>;\r\n    } | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (!date) return;\r\n        fetch(`/api/archive/${date}`)\r\n            .then(res => res.json())\r\n            .then(d => {\r\n                if (!d.error) setData(d);\r\n                setLoading(false);\r\n            })\r\n            .catch(() => setLoading(false));\r\n    }, [date]);\r\n\r\n    if (!t) return null;\r\n\r\n    if (loading) {\r\n        return (\r\n            <TerminalPage pageKey=\"archive\">\r\n                <div className=\"flex flex-col items-center justify-center py-24 space-y-4\">\r\n                    <div className=\"w-12 h-12 border-2 border-sky-500/20 border-t-sky-500 rounded-full animate-spin\"></div>\r\n                    <span className=\"text-[10px] font-mono text-sky-500 tracking-[0.5em] uppercase\">ACCESSING HISTORICAL VAULT...</span>\r\n                </div>\r\n            </TerminalPage>\r\n        );\r\n    }\r\n\r\n    if (!data) {\r\n        return (\r\n            <TerminalPage pageKey=\"archive\">\r\n                <div className=\"border border-red-500/20 bg-red-500/5 p-12 text-center rounded-[2px] space-y-4\">\r\n                    <AlertTriangle className=\"w-8 h-8 text-red-500 mx-auto\" />\r\n                    <p className=\"text-red-500 font-bold uppercase tracking-widest\">Archive Data Corrupted or Missing</p>\r\n                </div>\r\n            </TerminalPage>\r\n        );\r\n    }\r\n\r\n    // Regime Logic (simplified from Dashboard)\r\n    const score = data.gms_score;\r\n    const isBull = score > 60;\r\n    const isBear = score < 40;\r\n    const regimeLabel = isBull ? t.regime.bull : (isBear ? t.regime.bear : t.regime.neutral);\r\n    const regimeColorClass = isBull ? \"bg-[#00D4FF]\" : (isBear ? \"bg-[#FF4D4D]\" : \"bg-[#FFC107]\");\r\n    const regimeTextClass = isBull ? \"text-[#00D4FF]\" : (isBear ? \"text-[#FF4D4D]\" : \"text-[#FFC107]\");\r\n\r\n    return (\r\n        <TerminalPage pageKey=\"archive\">\r\n            <div className=\"space-y-16\">\r\n                <div className=\"border-b border-slate-200 dark:border-white/10 pb-4\">\r\n                    <h2 className=\"text-xl font-black text-slate-900 dark:text-white uppercase tracking-[0.2em]\">{t.subpages.archive.title}</h2>\r\n                    <p className=\"text-[10px] text-slate-500 font-mono mt-1 uppercase tracking-widest leading-relaxed\">Recorded Algorithmic Intelligence Snapshot</p>\r\n                </div>\r\n\r\n                {/* 1. HEADER SNAPSHOT */}\r\n                <div className=\"bg-white dark:bg-[#111] border border-slate-200 dark:border-white/5 p-8 md:p-12 rounded-[2px] flex flex-col md:flex-row justify-between items-start md:items-center gap-8 shadow-sm dark:shadow-none\">\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <Clock className=\"w-4 h-4 text-slate-500\" />\r\n                            <span className=\"text-xs font-mono text-slate-500 tracking-widest uppercase\">{data.last_updated}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <div className={`w-4 h-4 rounded-full ${regimeColorClass}`}></div>\r\n                            <h2 className=\"text-3xl font-black italic uppercase italic tracking-tighter\">{regimeLabel}</h2>\r\n                        </div>\r\n                        <p className=\"text-[10px] text-sky-500/60 font-mono uppercase tracking-[0.2em]\">{t.titles.analysis_history || \"Analysis History\"}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-6\">\r\n                        <div className=\"text-right\">\r\n                            <span className=\"block text-[10px] text-slate-500 font-bold tracking-widest uppercase\">HISTORICAL GMS</span>\r\n                            <span className={`text-6xl font-black italic leading-none ${regimeTextClass}`}>{score}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 2. INSIGHTS BOX */}\r\n                <div className=\"bg-sky-50 dark:bg-sky-500/5 border border-sky-200 dark:border-sky-500/20 p-8 rounded-[2px] space-y-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <Shield className=\"w-4 h-4 text-sky-500\" />\r\n                        <span className=\"text-[10px] font-black tracking-[0.4em] uppercase text-sky-500\">ARCHIVED INTELLIGENCE</span>\r\n                    </div>\r\n                    <p className=\"text-lg text-slate-700 dark:text-slate-300 font-medium leading-relaxed italic\">\r\n                        {data.analysis?.reports?.[lang] || data.analysis?.content}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* 3. INDICATOR GRID (Simplified 3-Column) */}\r\n                <div className=\"space-y-8\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <h3 className=\"text-xs font-black tracking-[0.4em] uppercase opacity-40\">INDICATOR LOG (REPLAY)</h3>\r\n                        <div className=\"flex-1 h-px bg-slate-200 dark:bg-white/5\"></div>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                        {Object.entries(data.market_data as Record<string, { price: string | number }>).map(([key, val]) => {\r\n                            const term = (t.terms as Record<string, any>)[key] || { def: key, benchmark: \"\" };\r\n                            return (\r\n                                <div key={key} className=\"bg-white dark:bg-[#0e0e0e] border border-slate-200 dark:border-white/5 p-6 rounded-[2px] space-y-4 hover:border-sky-300 dark:hover:border-white/10 transition-all shadow-sm dark:shadow-none\">\r\n                                    <div className=\"flex justify-between items-start\">\r\n                                        <span className=\"text-[10px] font-black tracking-widest text-slate-500 uppercase\">{key}</span>\r\n                                        <span className=\"text-xl font-bold font-mono tracking-tighter text-slate-900 dark:text-white\">{val.price}</span>\r\n                                    </div>\r\n                                    <div className=\"space-y-1\">\r\n                                        <p className=\"text-[10px] text-slate-500 dark:text-slate-400 leading-tight uppercase line-clamp-2\">{term.def}</p>\r\n                                        <p className=\"text-[7px] text-sky-600/60 dark:text-sky-500/40 font-mono font-bold uppercase\">{term.benchmark}</p>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* MANDATORY LEGAL DISCLAIMER */}\r\n                <div className=\"mt-24 pt-12 border-t border-slate-200 dark:border-white/5\">\r\n                    <p className=\"text-[10px] md:text-xs font-black text-slate-500 tracking-widest leading-relaxed uppercase text-center max-w-2xl mx-auto italic\">\r\n                        {t.subpages.archive.disclaimer}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </TerminalPage>\r\n    );\r\n}\r\n\r\nexport default function ArchiveDetailPage() {\r\n    return (\r\n        <Suspense fallback={<div className=\"min-h-screen bg-white dark:bg-[#0A0A0A] flex items-center justify-center text-sky-500 font-mono text-xs animate-pulse\">RECONSTRUCTING MARKET STATE...</div>}>\r\n            <ArchiveDetailContent />\r\n        </Suspense>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\archive\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\commodities\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\contact\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":3,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useSearchParams } from 'next/navigation';\r\nimport { MessageSquare, AlertCircle } from 'lucide-react';\r\nimport { LangType } from '@/data/dictionary';\r\nimport { LanguageSelector } from '@/components/LanguageSelector';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nimport React, { Suspense } from 'react';\r\n\r\nexport default function ContactPage() {\r\n    return (\r\n        <Suspense fallback={<div className=\"min-h-screen flex items-center justify-center text-cyan-500 font-mono text-xs animate-pulse\">CONNECTING TO SUPPORT SERVER...</div>}>\r\n            <ContactContent />\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nfunction ContactContent() {\r\n    const searchParams = useSearchParams();\r\n    const lang = (searchParams.get('lang') as LangType) || 'EN';\r\n    const isJP = lang === 'JP';\r\n\r\n    return (\r\n        <div className=\"min-h-screen text-slate-800 dark:text-[#E0E0E0] font-sans selection:bg-cyan-100 dark:selection:bg-sky-500 selection:text-cyan-900 dark:selection:text-white\">\r\n            <div className=\"max-w-[1400px] mx-auto px-6 py-12 md:py-20 lg:px-24\">\r\n                {/* Breadcrumb / Top Nav */}\r\n                <div className=\"flex justify-end items-center mb-16 opacity-100\">\r\n                    <LanguageSelector currentLang={lang} mode=\"query\" />\r\n                </div>\r\n\r\n                {/* Main Content */}\r\n                <div className=\"max-w-3xl mx-auto space-y-8\">\r\n                    <div className=\"flex items-center gap-4 mb-8\">\r\n                        <MessageSquare className=\"w-8 h-8 text-cyan-500\" />\r\n                        <h1 className=\"text-3xl font-black tracking-tight text-slate-900 dark:text-white\">\r\n                            {isJP ? '縺雁撫縺・粋繧上○縺ｨ繧ｵ繝昴・繝・ : 'Contact & Support'}\r\n                        </h1>\r\n                    </div>\r\n\r\n                    {/* Critical Warning */}\r\n                    <section id=\"contact\" className=\"!border-2 !border-red-500 bg-red-950/20 !rounded-xl p-6\">\r\n                        <div className=\"flex items-start gap-3\">\r\n                            <AlertCircle className=\"w-6 h-6 text-red-400 flex-shrink-0 mt-1\" />\r\n                            <div className=\"space-y-2\">\r\n                                <h2 className=\"text-lg font-black text-red-600 dark:text-red-400 uppercase\">\r\n                                    {isJP ? '謚戊ｳ・さ繝ｳ繧ｵ繝ｫ繝・ぅ繝ｳ繧ｰ縺ｯ謠蝉ｾ帙＠縺ｦ縺翫ｊ縺ｾ縺帙ｓ' : 'WE DO NOT PROVIDE INVESTMENT CONSULTATION'}\r\n                                </h2>\r\n                                <p className=\"text-sm text-red-800 dark:text-red-200 leading-relaxed\">\r\n                                    {isJP\r\n                                        ? '繧ｪ繝繝九・繝｡繝医Μ繝・け縺ｯ諠・ｱ繝励Λ繝・ヨ繝輔か繝ｼ繝縺ｮ縺ｿ縺ｧ縺吶ょ句挨縺ｮ謚戊ｳ・勧險縲∬ｲ｡蜍呵ｨ育判縲√・繝ｼ繝医ヵ繧ｩ繝ｪ繧ｪ縺ｮ謗ｨ螂ｨ莠矩・∝句挨縺ｮ蜿門ｼ墓署譯医・謠蝉ｾ帙＠縺ｦ縺・∪縺帙ｓ縲よ兜雉・さ繝ｳ繧ｵ繝ｫ繝・ぅ繝ｳ繧ｰ縺ｫ髢｢縺吶ｋ繝ｪ繧ｯ繧ｨ繧ｹ繝医↓縺ｯ霑皮ｭ斐＞縺溘＠縺ｾ縺帙ｓ縲・\r\n                                        : 'OmniMetric is an informational platform only. We do not offer personalized investment advice, financial planning, portfolio recommendations, or individual trade suggestions. Any requests for investment consultation will not be answered.'}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* No Reply Obligation Disclaimer - NEW */}\r\n                    <div className=\"text-center px-4\">\r\n                        <p className=\"text-xs text-slate-500 font-mono border-b border-slate-800 pb-2 inline-block\">\r\n                            {isJP ? '驥崎ｦ・ｼ壹☆縺ｹ縺ｦ縺ｮ繝｡繝・そ繝ｼ繧ｸ繧堤｢ｺ隱阪＠縺ｾ縺吶′縲∬ｿ比ｿ｡縺ｮ鄒ｩ蜍吶・雋縺・∪縺帙ｓ縲ょ句挨縺ｮ蝗樒ｭ斐′蠢・ｦ√↑謚戊ｳ・嶌隲・ｭ峨↓縺ｯ荳蛻・ｿ懊§繧峨ｌ縺ｾ縺帙ｓ縲・ : 'IMPORTANT: We review all messages but are under no obligation to reply. We do not respond to individual investment inquiries.'}\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Primary Contact */}\r\n                    <section className=\"bg-transparent dark:bg-[#111] !border !border-cyan-500/30 !rounded-xl p-8 text-center space-y-6 shadow-sm dark:shadow-none\">\r\n                        <div className=\"inline-flex items-center justify-center w-16 h-16 bg-cyan-500/10 rounded-full mb-2\">\r\n                            <svg className=\"w-8 h-8 text-cyan-600 dark:text-cyan-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\" />\r\n                            </svg>\r\n                        </div>\r\n                        <div>\r\n                            <h2 className=\"text-2xl font-black text-slate-900 dark:text-white mb-2\">\r\n                                {isJP ? '荳ｻ隕・｣邨｡繝√Ε繝阪Ν' : 'Primary Contact Channel'}\r\n                            </h2>\r\n                            <p className=\"text-sm text-slate-600 dark:text-slate-400 mb-4\">\r\n                                {isJP ? '謚陦鍋噪縺ｪ蝠城｡後√ョ繝ｼ繧ｿ繝輔ぅ繝ｼ繝峨ヰ繝・け縲√∪縺溘・荳闊ｬ逧・↑縺雁撫縺・粋繧上○' : 'For technical issues, data feedback, or general inquiries'}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"bg-transparent dark:bg-black !border !border-slate-200 dark:!border-slate-700 !rounded-lg p-6\">\r\n                            <p className=\"text-xs text-slate-500 uppercase tracking-widest mb-2\">\r\n                                {isJP ? 'X・・witter・峨〒繝繧､繝ｬ繧ｯ繝医Γ繝・そ繝ｼ繧ｸ繧帝∽ｿ｡' : 'Send a Direct Message on X (Twitter)'}\r\n                            </p>\r\n                            <a\r\n                                href=\"https://twitter.com/OmniMetric_GMS\"\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"inline-block text-2xl font-mono font-black text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 transition-colors\"\r\n                            >\r\n                                @OmniMetric_GMS\r\n                            </a>\r\n                            <p className=\"text-xs text-slate-600 mt-3\">\r\n                                {isJP ? '霑比ｿ｡譎る俣: 24-72譎る俣・亥霧讌ｭ譌･・・ : 'Response time: 24-72 hours (business days)'}\r\n                            </p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* What We Can Help With */}\r\n                    <section className=\"bg-transparent dark:bg-[#111] !border !border-slate-200 dark:!border-slate-800 !rounded-xl p-6 space-y-4 shadow-sm dark:shadow-none\">\r\n                        <h2 className=\"text-lg font-bold text-slate-900 dark:text-white uppercase tracking-wide\">\r\n                            {isJP ? '笨・蟇ｾ蠢懷庄閭ｽ縺ｪ蜀・ｮｹ' : '笨・What We Can Help With'}\r\n                        </h2>\r\n                        <ul className=\"space-y-2 text-sm text-slate-700 dark:text-slate-300\">\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-green-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? '繧ｿ繝ｼ繝溘リ繝ｫ縺ｮ謚陦鍋噪蝠城｡後ｄ繝舌げ' : 'Technical issues or bugs with the terminal'}</span>\r\n                            </li>\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-green-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? '繝・・繧ｿ縺ｮ豁｣遒ｺ諤ｧ縺ｫ髢｢縺吶ｋ諛ｸ蠢ｵ繧・焚蟶ｸ' : 'Data accuracy concerns or anomalies'}</span>\r\n                            </li>\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-green-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? '讖溯・繝ｪ繧ｯ繧ｨ繧ｹ繝医ｄ謠先｡・ : 'Feature requests or suggestions'}</span>\r\n                            </li>\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-green-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? 'API繧｢繧ｯ繧ｻ繧ｹ縺ｾ縺溘・蝠・畑繝ｩ繧､繧ｻ繝ｳ繧ｹ縺ｮ縺雁撫縺・粋繧上○' : 'API access or commercial licensing inquiries'}</span>\r\n                            </li>\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-green-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? '繝励Ξ繧ｹ/繝｡繝・ぅ繧｢縺ｮ縺雁撫縺・粋繧上○' : 'Press/media inquiries'}</span>\r\n                            </li>\r\n                        </ul>\r\n                    </section>\r\n\r\n                    {/* What We Don't Respond To */}\r\n                    <section className=\"bg-transparent dark:bg-[#111] !border !border-slate-200 dark:!border-slate-800 !rounded-xl p-6 space-y-4 shadow-sm dark:shadow-none\">\r\n                        <h2 className=\"text-lg font-bold text-slate-900 dark:text-white uppercase tracking-wide\">\r\n                            {isJP ? '笶・蟇ｾ蠢懊〒縺阪↑縺・・螳ｹ' : '笶・What We Don\\'t Respond To'}\r\n                        </h2>\r\n                        <ul className=\"space-y-2 text-sm text-slate-600 dark:text-slate-400\">\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-red-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? '謚戊ｳ・勧險縺ｾ縺溘・縲瑚ｲｷ縺・∋縺阪°/螢ｲ繧九∋縺阪°縲阪・雉ｪ蝠・ : 'Investment advice or \"should I buy/sell\" questions'}</span>\r\n                            </li>\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-red-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? '繝昴・繝医ヵ繧ｩ繝ｪ繧ｪ繝ｬ繝薙Η繝ｼ縺ｾ縺溘・蛟句挨謗ｨ螂ｨ莠矩・ : 'Portfolio reviews or personalized recommendations'}</span>\r\n                            </li>\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-red-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? '迚ｹ螳壹・譬ｪ蠑上∪縺溘・雉・肇縺ｫ髢｢縺吶ｋ莠域ｸｬ' : 'Predictions about specific stocks or assets'}</span>\r\n                            </li>\r\n                            <li className=\"flex items-start gap-2\">\r\n                                <span className=\"text-red-400 mt-1\">窶｢</span>\r\n                                <span>{isJP ? '繧ｹ繝代Β縲∝ｮ｣莨昴さ繝ｳ繝・Φ繝・√∪縺溘・辟｡髢｢菫ゅ↑縺雁撫縺・粋繧上○' : 'Spam, promotional content, or irrelevant inquiries'}</span>\r\n                            </li>\r\n                        </ul>\r\n                    </section>\r\n\r\n                    <div className=\"pt-8 border-t border-slate-200 dark:border-slate-800 opacity-50\">\r\n                        <p className=\"text-[10px] font-mono tracking-widest uppercase text-slate-600 text-center\">\r\n                            {isJP ? '繧ｵ繝昴・繝医・繝ｭ繝医さ繝ｫ: SNS・・/Bluesky・吋M縺ｮ縺ｿ // 繝｡繝ｼ繝ｫ繝輔か繝ｼ繝繝ｻ髮ｻ隧ｱ蟇ｾ蠢懊↑縺・ : 'Support Protocol: SNS (X/Bluesky) DM Only // No Email Forms // No Phone Support'}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\crypto\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\forex\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\glossary\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\legal\\disclaimer\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\legal\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\main_review\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\maxims\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\privacy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\robots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\stocks\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\technical\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getSubtitle' is assigned a value but never used.","line":71,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":71,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { DICTIONARY, LangType } from '@/data/dictionary';\r\nimport { Activity, BookOpen, ArrowRight } from 'lucide-react';\r\nimport { DynamicStructuredData } from '@/components/DynamicStructuredData';\r\nimport { Metadata } from 'next';\r\nimport { WikiSearch } from '@/components/WikiSearch';\r\nimport { getWikiData, slugify } from '@/lib/wiki';\r\nimport { LanguageSelector } from '@/components/LanguageSelector';\r\nimport { getMultilingualMetadata } from '@/data/seo';\r\n\r\n// Import all language data\r\nimport technicalDataEn from '@/data/technical-en.json';\r\nimport technicalDataJa from '@/data/technical-ja.json';\r\nimport technicalDataCn from '@/data/technical-cn.json';\r\nimport technicalDataEs from '@/data/technical-es.json';\r\nimport technicalDataHi from '@/data/technical-hi.json';\r\nimport technicalDataId from '@/data/technical-id.json';\r\nimport technicalDataAr from '@/data/technical-ar.json';\r\n\r\ninterface Indicator {\r\n    name: string;\r\n    description: string;\r\n    usage: string;\r\n}\r\n\r\ninterface TechnicalCategory {\r\n    category: string;\r\n    indicators: Indicator[];\r\n}\r\n\r\n// Helper to get lang\r\nasync function getLang(searchParams: Promise<{ lang?: string }>): Promise<LangType> {\r\n    const { lang } = await searchParams;\r\n    const queryLang = lang as LangType;\r\n    return queryLang && DICTIONARY[queryLang] ? queryLang : 'EN';\r\n}\r\n\r\nconst getPageTitle = (l: LangType) => {\r\n    switch (l) {\r\n        case 'JP': return '繝・け繝九き繝ｫ蛻・梵謖・ｨ・30驕ｸ';\r\n        case 'CN': return '謚譛ｯ謖・・30騾・;\r\n        case 'ES': return '30 Indicadores Tﾃｩcnicos';\r\n        case 'HI': return '30 爨､爨歩､ｨ爭爨歩･ 爨ｸ爨も､歩･・､､爨・;\r\n        case 'ID': return '30 Indikator Teknis';\r\n        case 'AR': return '30 ﾙ・､ﾘｴﾘｱﾘｧﾙ・ﾙ・・韓ｧﾙ・;\r\n        default: return '30 Technical Indicators';\r\n    }\r\n};\r\n\r\nconst getPageDesc = (l: LangType) => {\r\n    switch (l) {\r\n        case 'JP': return '縲後ヨ繝ｬ繝ｳ繝峨阪後・繝ｩ繝・ぅ繝ｪ繝・ぅ縲阪後Δ繝｡繝ｳ繧ｿ繝縲阪後が繧ｷ繝ｬ繝ｼ繧ｿ繝ｼ縲阪・4雎｡髯舌〒縲∝ｸょｴ縺ｮ縲御ｻ翫阪ｒ蛻・ｊ蜿悶ｋ縺溘ａ縺ｮ蠢・医ヤ繝ｼ繝ｫ縺ｧ縺吶・;\r\n        case 'CN': return '逕ｨ莠取黒謐牙ｸょ惻邇ｰ迥ｶ逧・渕譛ｬ蟾･蜈ｷ・梧ｶｵ逶冶ｶ句漢縲∵ｳ｢蜉ｨ諤ｧ縲∝勘驥丞柱謖ｯ闕｡謖・・・;\r\n        case 'ES': return 'Herramientas esenciales para capturar el estado actual del mercado a travﾃｩs de Tendencia, Volatilidad, Momento y Osciladores.';\r\n        case 'HI': return '爨ｪ爭財､ｰ爨ｵ爭・､､爭財､､爨ｿ, 爨・､ｸ爭財､･爨ｿ爨ｰ爨､爨ｾ, 爨伶､､爨ｿ 爨扉､ｰ 爨隊､ｸ爨ｿ爨ｲ爭・､游､ｰ爭財､ｸ 爨歩･・爨ｮ爨ｾ爨ｧ爭財､ｯ爨ｮ 爨ｸ爭・爨ｬ爨ｾ爨憫､ｾ爨ｰ 爨歩･ \"爨ｵ爨ｰ爭財､､爨ｮ爨ｾ爨ｨ\" 爨ｸ爭財､･爨ｿ爨､爨ｿ 爨歩･・爨ｪ爨歩､｡爨ｼ爨ｨ爭・爨歩･・爨ｲ爨ｿ爨・爨・､ｵ爨ｶ爭財､ｯ爨・爨霞､ｪ爨歩､ｰ爨｣縲・;\r\n        case 'ID': return 'Alat penting untuk menangkap kondisi \"Saat Ini\" pasar melalui Tren, Volatilitas, Momentum, dan Osilator.';\r\n        case 'AR': return 'ﾘ｣ﾘｯﾙ畏ｧﾘｪ ﾘ｣ﾘｳﾘｧﾘｳﾙ韓ｩ ﾙ・ｧﾙ・ｪﾙぺｧﾘｷ ﾘｭﾘｧﾙ・ｩ \"ﾘｧﾙ・｢ﾙ・" ﾙ・・ﾘｧﾙ・ｳﾙ異・ﾘｹﾘｨﾘｱ ﾘｧﾙ・ｧﾘｪﾘｬﾘｧﾙ・・ﾘｧﾙ・ｪﾙほ・ｨﾘ・ﾘｧﾙ・ｲﾘｮﾙ・・ﾙ畏ｧﾙ・・ｰﾘｨﾘｰﾘｨﾘｧﾘｪ.';\r\n        default: return 'Essential tools to capture the \"Now\" of the market across Trend, Volatility, Momentum, and Oscillators.';\r\n    }\r\n};\r\n\r\nexport async function generateMetadata({ searchParams }: { searchParams: Promise<{ lang?: string }> }): Promise<Metadata> {\r\n    const s = await searchParams;\r\n    const lang = s.lang || 'EN';\r\n    return getMultilingualMetadata('/technical', lang,\r\n        \"Technical Analysis Hub | OmniMetric\",\r\n        \"Core technical technical indicators and quant-momentum analysis for active market researchers.\"\r\n    );\r\n}\r\n\r\nconst getSubtitle = (l: LangType) => {\r\n    switch (l) {\r\n        case 'JP': return '繝・け繝九き繝ｫ';\r\n        case 'CN': return '謚譛ｯ';\r\n        case 'ES': return 'Tﾃｩcnico';\r\n        case 'HI': return '爨､爨歩､ｨ爭爨歩･';\r\n        case 'ID': return 'Teknis';\r\n        case 'AR': return 'ﾘｪﾙほ・・;\r\n        default: return 'Technical';\r\n    }\r\n};\r\n\r\nexport default async function TechnicalPage({ searchParams }: { searchParams: Promise<{ lang?: string }> }) {\r\n    const lang = await getLang(searchParams);\r\n    const isJa = lang === 'JP';\r\n    const isRTL = lang === 'AR';\r\n\r\n    // Choose data source based on language\r\n    let technicalData: TechnicalCategory[];\r\n    switch (lang) {\r\n        case 'JP': technicalData = technicalDataJa; break;\r\n        case 'CN': technicalData = technicalDataCn; break;\r\n        case 'ES': technicalData = technicalDataEs; break;\r\n        case 'HI': technicalData = technicalDataHi; break;\r\n        case 'ID': technicalData = technicalDataId; break;\r\n        case 'AR': technicalData = technicalDataAr; break;\r\n        case 'EN':\r\n        default: technicalData = technicalDataEn; break;\r\n    }\r\n\r\n    // JSON-LD Generation\r\n    const breadcrumbJsonLd = {\r\n        \"@context\": \"https://schema.org\",\r\n        \"@type\": \"BreadcrumbList\",\r\n        \"itemListElement\": [\r\n            { \"@type\": \"ListItem\", \"position\": 1, \"name\": \"OmniMetric\", \"item\": \"https://omnimetric.net\" },\r\n            { \"@type\": \"ListItem\", \"position\": 2, \"name\": getPageTitle(lang), \"item\": \"https://omnimetric.net/technical\" }\r\n        ]\r\n    };\r\n\r\n    const definedTerms = technicalData.flatMap(cat => cat.indicators.map(ind => ({\r\n        \"@type\": \"DefinedTerm\",\r\n        \"name\": ind.name,\r\n        \"description\": ind.description,\r\n        \"inDefinedTermSet\": {\r\n            \"@type\": \"DefinedTermSet\",\r\n            \"name\": `OmniMetric ${getPageTitle(lang)}`,\r\n            \"url\": \"https://omnimetric.net/technical\"\r\n        }\r\n    })));\r\n\r\n    return (\r\n        <div className=\"min-h-screen text-slate-800 dark:text-slate-200 font-sans selection:bg-sky-500/30 pb-20\">\r\n            {/* Inject JSON-LD */}\r\n            <DynamicStructuredData data={breadcrumbJsonLd} />\r\n            <DynamicStructuredData data={{\r\n                \"@context\": \"https://schema.org\",\r\n                \"@type\": \"DefinedTermSet\",\r\n                \"name\": `OmniMetric ${getPageTitle(lang)}`,\r\n                \"description\": getPageDesc(lang),\r\n                \"hasDefinedTerm\": definedTerms\r\n            }} />\r\n\r\n            <div className=\"max-w-[1200px] mx-auto p-4 md:p-12 lg:p-16\">\r\n\r\n                <header className={`mb-12 border-b border-slate-200 dark:border-[#1E293B] pb-8 ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                    <div className={`flex justify-between items-start mb-4`}>\r\n                        <h1 className={`text-3xl md:text-5xl font-black text-slate-900 dark:text-white tracking-tight uppercase flex flex-col gap-1`}>\r\n                            <span className=\"text-xl md:text-2xl text-slate-400 dark:text-slate-500 tracking-widest\">{DICTIONARY[lang].labels.technical}</span>\r\n                            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400\">{getPageTitle(lang)}</span>\r\n                        </h1>\r\n                        <LanguageSelector currentLang={lang} />\r\n                    </div>\r\n                    <p className={`text-slate-600 dark:text-slate-400 font-mono text-sm md:text-base max-w-3xl leading-relaxed ${isRTL ? 'ml-auto' : ''}`}>\r\n                        {getPageDesc(lang)}\r\n                    </p>\r\n                </header>\r\n\r\n                {/* Search Bar Integration */}\r\n                <div className=\"mb-12\">\r\n                    <WikiSearch\r\n                        items={getWikiData(lang)}\r\n                        lang={lang}\r\n                        placeholder={DICTIONARY[lang].labels.search_placeholder}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"space-y-16\">\r\n                    {(() => {\r\n                        const availableWikiItems = getWikiData(lang);\r\n                        // Using imported slugify from '@/lib/wiki' directly\r\n\r\n                        const hasWiki = (slug: string) => {\r\n                            return availableWikiItems.some(i => i.slug === slug);\r\n                        };\r\n\r\n                        return technicalData.map((category, catIndex) => (\r\n                            <section key={catIndex} className=\"scroll-mt-24\">\r\n                                <h2 className={`text-xl md:text-2xl font-black text-slate-900 dark:text-white uppercase tracking-wider mb-8 flex items-center gap-3 ${isRTL ? 'border-r-4 pr-4 text-right' : 'border-l-4 pl-4'} border-purple-500`}>\r\n                                    {category.category}\r\n                                </h2>\r\n\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                    {category.indicators.map((indicator, index) => {\r\n                                        // Get canonical English name for slug generation\r\n                                        // Parallel indexing ensures we get the matching English indicator\r\n                                        const enIndicator = technicalDataEn[catIndex]?.indicators[index];\r\n                                        const canonicalName = enIndicator?.name || indicator.name;\r\n                                        const wikiSlug = slugify(canonicalName);\r\n                                        const showWiki = hasWiki(wikiSlug);\r\n\r\n                                        return (\r\n                                            <div\r\n                                                key={index}\r\n                                                className=\"group relative bg-transparent dark:bg-[#0A0A0A] border border-slate-200 dark:border-[#1E293B] hover:border-purple-500/50 transition-colors duration-300 rounded-xl overflow-hidden shadow-lg hover:shadow-purple-500/10\"\r\n                                            >\r\n                                                <div className=\"p-6 flex flex-col h-full\">\r\n                                                    <div className={`flex items-start justify-between mb-4`}>\r\n                                                        {showWiki ? (\r\n                                                            <a href={`/${lang.toLowerCase()}/wiki/${wikiSlug}`} className=\"group/title flex items-center gap-3 w-full hover:opacity-80 transition-opacity\">\r\n                                                                <h3 className={`font-bold text-lg text-slate-800 dark:text-slate-100 group-hover/title:text-purple-500 transition-colors ${isRTL ? 'text-right' : ''}`}>\r\n                                                                    {indicator.name}\r\n                                                                </h3>\r\n                                                                <Activity className={`w-5 h-5 text-slate-400 dark:text-slate-600 group-hover/title:text-purple-500 transition-colors flex-shrink-0 ${isRTL ? 'mr-auto' : 'ml-auto'}`} />\r\n                                                            </a>\r\n                                                        ) : (\r\n                                                            <>\r\n                                                                <h3 className={`font-bold text-lg text-slate-800 dark:text-slate-100 transition-colors ${isRTL ? 'text-right' : ''}`}>\r\n                                                                    {indicator.name}\r\n                                                                </h3>\r\n                                                                <Activity className={`w-5 h-5 text-slate-400 dark:text-slate-600 transition-colors flex-shrink-0 ${isRTL ? 'mr-auto' : 'ml-auto'}`} />\r\n                                                            </>\r\n                                                        )}\r\n                                                    </div>\r\n\r\n                                                    <p className={`text-sm text-slate-600 dark:text-slate-400 leading-relaxed mb-6 flex-grow ${isRTL ? 'text-right' : ''}`}>\r\n                                                        {indicator.description}\r\n                                                    </p>\r\n\r\n                                                    <div className={`mt-auto pt-6 border-t border-slate-100 dark:border-[#1E293B] bg-transparent dark:bg-[#111111] -mx-6 -mb-6 p-6`}>\r\n                                                        <div className={`${isRTL ? 'text-right' : ''} mb-4`}>\r\n                                                            <p className=\"text-xs font-mono text-purple-600 dark:text-purple-400 mb-1 font-bold uppercase tracking-wider\">\r\n                                                                {isJa ? '隕区婿繝ｻ蝓ｺ貅・ : (lang === 'CN' ? '逕ｨ豕・/ 蝓ｺ蜃・ : (lang === 'ES' ? 'USO / REFERENCIA' : (lang === 'AR' ? 'ﾘｧﾙ・ｧﾘｳﾘｪﾘｮﾘｯﾘｧﾙ・/ ﾘｧﾙ・・ｹﾙ韓ｧﾘｱ' : (lang === 'HI' ? '爨霞､ｪ爨ｯ爭金､・/ 爨ｮ爨ｾ爨ｨ爨ｦ爨も､｡' : (lang === 'ID' ? 'PENGGUNAAN / TOLOK UKUR' : 'USAGE / BENCHMARK')))))}\r\n                                                            </p>\r\n                                                            <p className=\"text-xs text-slate-700 dark:text-slate-300 font-medium mb-2\">\r\n                                                                {indicator.usage}\r\n                                                            </p>\r\n                                                        </div>\r\n\r\n                                                        {/* Wiki Link */}\r\n                                                        {showWiki && (\r\n                                                            <div className=\"mt-4\">\r\n                                                                <a\r\n                                                                    href={`/${lang.toLowerCase()}/wiki/${wikiSlug}`}\r\n                                                                    className=\"group/btn relative w-full flex items-center justify-start pl-6 gap-3 py-4 bg-gradient-to-r from-purple-600 to-fuchsia-600 hover:from-purple-500 hover:to-fuchsia-500 text-white text-[13px] font-bold uppercase tracking-widest rounded-xl shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transition-all duration-300 transform hover:-translate-y-0.5 overflow-hidden\"\r\n                                                                >\r\n                                                                    <span className=\"absolute inset-0 bg-white/20 translate-y-full group-hover/btn:translate-y-0 transition-transform duration-300\"></span>\r\n                                                                    <BookOpen className=\"w-5 h-5 relative z-10 text-purple-100\" />\r\n                                                                    <span className=\"relative z-10\">{DICTIONARY[lang]?.labels?.wiki_deep_dive || \"Deep Dive Analysis\"}</span>\r\n                                                                    <ArrowRight className=\"w-4 h-4 ml-auto mr-6 relative z-10 opacity-70 group-hover/btn:translate-x-1 transition-transform\" />\r\n                                                                </a>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                            </section>\r\n                        ));\r\n                    })()}\r\n                </div>\r\n\r\n                <footer className=\"mt-20 pt-8 border-t border-slate-200 dark:border-[#1E293B] text-center\">\r\n                    <p className=\"text-slate-500 text-xs uppercase tracking-widest font-mono\">\r\n                        OmniMetric Technical Analysis Library\r\n                    </p>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\terms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\test-heatmap\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[253,256],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[253,256],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { SignalData } from '@/hooks/useSignalData';\r\nimport { useCurrentLang } from '@/hooks/useCurrentLang';\r\n\r\n// Localization Map for Prototype\r\nconst TRANSLATIONS: Record<string, any> = {\r\n    EN: {\r\n        title: \"GLOBAL MARKET HEATMAP\",\r\n        view_sectors: \"訣 SECTORS\",\r\n        view_performance: \"嶋 PERFORMANCE\",\r\n        sector_indices: \"MAJ EQUITY INDICES\",\r\n        sector_physical: \"PHYSICAL & FIXED INCOME\",\r\n        sector_themes: \"THEMES & COMMODITIES\",\r\n        logic_title: \"PROFESSIONAL VIEW LOGIC\",\r\n        logic_desc: \"This heatmap uses a professional hybrid configuration to filter noise and visualize true macro trends.\",\r\n        logic_display_label: \"DISPLAY VALUE\",\r\n        logic_display_val: \"Daily Change (%)\",\r\n        logic_display_sub: \"Immediate news and current market pulse.\",\r\n        logic_trend_label: \"SIZE & COLOR\",\r\n        logic_trend_val: \"5-Day Trend\",\r\n        logic_trend_sub: \"Visualizes the accumulated weekly macro momentum.\",\r\n        legend_title: \"Logic Legend\",\r\n        legend_normal: \"Normal Trend\",\r\n        legend_5: \"5% Trend\",\r\n        legend_10: \"10% Trend\",\r\n        powered_by: \"Global Macro Signal | Adaptive Insight Layer\",\r\n        loading: \"Syncing Market Signal...\"\r\n    },\r\n    JP: {\r\n        title: \"繧ｰ繝ｭ繝ｼ繝舌Ν繝ｻ繝槭・繧ｱ繝・ヨ繝ｻ繝偵・繝医・繝・・\",\r\n        view_sectors: \"訣 繧ｻ繧ｯ繧ｿ繝ｼ蛻･\",\r\n        view_performance: \"嶋 鬨ｰ關ｽ繝医Ξ繝ｳ繝噂",\r\n        sector_indices: \"荳ｻ隕∵ｪ萓｡謖・焚\",\r\n        sector_physical: \"螳滉ｽ鍋ｵ梧ｸ医・蛯ｵ蛻ｸ蟶ょｴ\",\r\n        sector_themes: \"迚ｹ螳壹ユ繝ｼ繝槭・蝠・刀\",\r\n        logic_title: \"繝励Ο繝輔ぉ繝・す繝ｧ繝翫Ν陦ｨ遉ｺ繝ｭ繧ｸ繝・け\",\r\n        logic_desc: \"譛ｬ繝偵・繝医・繝・・縺ｯ縲√ヮ繧､繧ｺ繧呈賜縺励檎悄縺ｮ繝医Ξ繝ｳ繝会ｼ亥､ｧ螻・峨阪ｒ蜿ｯ隕門喧縺吶ｋ縺溘ａ縲√・繝ｭ繝輔ぉ繝・す繝ｧ繝翫Ν繝ｻ繝上う繝悶Μ繝・ラ險ｭ螳壹ｒ謗｡逕ｨ縺励※縺・∪縺吶・",\r\n        logic_display_label: \"陦ｨ遉ｺ謨ｰ蛟､\",\r\n        logic_display_val: \"蜑肴律豈・(%)\",\r\n        logic_display_sub: \"莉翫・騾溷ｱ蛟､繧偵Μ繧｢繝ｫ繧ｿ繧､繝縺ｧ謚頑升\",\r\n        logic_trend_label: \"繧ｵ繧､繧ｺ繝ｻ濶ｲ蛻､螳喀",\r\n        logic_trend_val: \"5譌･髢・螟牙虚邇Ⅸ",\r\n        logic_trend_sub: \"騾ｱ雜ｳ繝ｬ繝吶Ν縺ｮ闢・ｩ阪＆繧後◆辭ｱ驥上ｒ蜿ｯ隕門喧\",\r\n        legend_title: \"繝ｭ繧ｸ繝・け蜃｡萓欺",\r\n        legend_normal: \"讓呎ｺ悶ヨ繝ｬ繝ｳ繝噂",\r\n        legend_5: \"5% 繝医Ξ繝ｳ繝噂",\r\n        legend_10: \"10% 繝医Ξ繝ｳ繝噂",\r\n        powered_by: \"Global Macro Signal | Adaptive Insight Layer\",\r\n        loading: \"繧ｷ繧ｰ繝翫Ν蜷梧悄荳ｭ...\"\r\n    },\r\n    CN: {\r\n        title: \"蜈ｨ逅・ｸょ惻辜ｭ蜉帛崟\",\r\n        view_sectors: \"訣 譚ｿ蝮苓ｧ・崟\",\r\n        view_performance: \"嶋 豸ｨ霍瑚ｶ句漢\",\r\n        sector_indices: \"荳ｻ隕∬ぃ謖Ⅸ",\r\n        sector_physical: \"螳樔ｽ鍋ｻ乗ｵ惹ｸ主ｺ蛻ｸ\",\r\n        sector_themes: \"譚ｿ蝮嶺ｸｻ鬚倅ｸ主､ｧ螳怜膚蜩―",\r\n        logic_title: \"荳謎ｸ夊ｧ・崟騾ｻ霎曾",\r\n        logic_desc: \"譛ｬ辜ｭ蜉帛崟驥・畑荳謎ｸ壽ｷｷ蜷磯・鄂ｮ・梧葎蝨ｨ霑・ｻ､蝎ｪ髻ｳ蟷ｶ蜿ｯ隗・喧逵溷ｮ樒噪螳剰ｧりｶ句漢縲・",\r\n        logic_display_label: \"譏ｾ遉ｺ謨ｰ蛟ｼ\",\r\n        logic_display_val: \"蠖捺律豸ｨ霍・(%)\",\r\n        logic_display_sub: \"螳樊慮謗梧升蠖灘燕蟶ょ惻蜉ｨ諤√・",\r\n        logic_trend_label: \"蟆ｺ蟇ｸ荳朱｢懆牡蛻､螳喀",\r\n        logic_trend_val: \"5譌･雜句漢\",\r\n        logic_trend_sub: \"蜿ｯ隗・喧邏ｯ遘ｯ逧・捉蠎ｦ螳剰ｧょ勘閭ｽ縲・",\r\n        legend_title: \"騾ｻ霎大崟萓欺",\r\n        legend_normal: \"譎ｮ騾夊ｶ句漢\",\r\n        legend_5: \"5% 雜句漢\",\r\n        legend_10: \"10% 雜句漢\",\r\n        powered_by: \"Global Macro Signal | Adaptive Insight Layer\",\r\n        loading: \"豁｣蝨ｨ蜷梧ｭ･蟶ょ惻菫｡蜿ｷ...\"\r\n    },\r\n    ES: {\r\n        title: \"MAPA DE CALOR GLOBAL\",\r\n        view_sectors: \"訣 SECTORES\",\r\n        view_performance: \"嶋 RENDIMIENTO\",\r\n        sector_indices: \"ﾃ康DICES ACCIONARIOS\",\r\n        sector_physical: \"ACTIVOS Fﾃ拘ICOS Y RENTA FIJA\",\r\n        sector_themes: \"TEMﾃゝICOS Y COMMODITIES\",\r\n        logic_title: \"Lﾃ敵ICA DE VISIﾃ哲 PROFESIONAL\",\r\n        logic_desc: \"Este mapa de calor utiliza una configuraciﾃｳn hﾃｭbrida profesional para filtrar el ruido y visualizar las verdaderas tendencias macro.\",\r\n        logic_display_label: \"VALOR MOSTRADO\",\r\n        logic_display_val: \"Cambio Diario (%)\",\r\n        logic_display_sub: \"Noticias inmediatas y pulso actual del mercado.\",\r\n        logic_trend_label: \"TAMAﾃ前 Y COLOR\",\r\n        logic_trend_val: \"Tendencia de 5 Dﾃｭas\",\r\n        logic_trend_sub: \"Visualiza el impulso macro semanal acumulado.\",\r\n        legend_title: \"Leyenda de Lﾃｳgica\",\r\n        legend_normal: \"Tendencia Normal\",\r\n        legend_5: \"5% Tendencia\",\r\n        legend_10: \"10% Tendencia\",\r\n        powered_by: \"Global Macro Signal | Adaptive Insight Layer\",\r\n        loading: \"Sincronizando Seﾃｱal...\"\r\n    }\r\n    // Add others if needed, fallback to EN for HI, ID, AR in prototype\r\n};\r\n\r\nexport default function TestHeatmapPage() {\r\n    const lang = useCurrentLang();\r\n    const t = TRANSLATIONS[lang] || TRANSLATIONS.EN;\r\n\r\n    const [data, setData] = useState<SignalData | null>(null);\r\n    const [viewMode, setViewMode] = useState<'regional' | 'performance'>('performance');\r\n\r\n    useEffect(() => {\r\n        fetch('/data/current_signal.json')\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                setData(json);\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n            });\r\n    }, []);\r\n\r\n    const renderTile = (key: string, label: string, sizeLevel: number = 1) => {\r\n        const item = data?.market_data[key];\r\n\r\n        if (!item) return (\r\n            <div key={key} className=\"bg-gray-800 p-2 border border-gray-700 w-full h-full flex items-center justify-center animate-pulse aspect-square\">\r\n                <span className=\"text-gray-500 text-[10px] text-center\">{label}</span>\r\n            </div>\r\n        );\r\n\r\n        const displayChg = item.daily_chg ?? 0;\r\n        const trendChg = item.change_percent ?? 0;\r\n        const absTrend = Math.abs(trendChg);\r\n\r\n        let bgColor = \"#4b5563\";\r\n        if (trendChg > 0) {\r\n            if (absTrend >= 10.0) bgColor = \"#064e3b\";\r\n            else if (absTrend >= 5.0) bgColor = \"#065f46\";\r\n            else if (absTrend >= 2.0) bgColor = \"#059669\";\r\n            else if (absTrend >= 1.0) bgColor = \"#10b981\";\r\n            else bgColor = \"#34d399\";\r\n        } else if (trendChg < 0) {\r\n            if (absTrend >= 10.0) bgColor = \"#7f1d1d\";\r\n            else if (absTrend >= 5.0) bgColor = \"#991b1b\";\r\n            else if (absTrend >= 2.0) bgColor = \"#dc2626\";\r\n            else if (absTrend >= 1.0) bgColor = \"#ef4444\";\r\n            else bgColor = \"#f87171\";\r\n        }\r\n\r\n        const labelSize = sizeLevel === 3 ? 'text-lg' : sizeLevel === 2 ? 'text-sm' : 'text-[9px]';\r\n        const chgSize = sizeLevel === 3 ? 'text-5xl' : sizeLevel === 2 ? 'text-2xl' : 'text-sm';\r\n        const priceSize = sizeLevel === 3 ? 'text-sm' : sizeLevel === 2 ? 'text-[10px]' : 'text-[8px]';\r\n\r\n        return (\r\n            <div\r\n                key={key}\r\n                className=\"w-full h-full flex flex-col items-center justify-center text-white transition-all hover:brightness-110 cursor-pointer border border-black aspect-square p-1 font-inter\"\r\n                style={{ backgroundColor: bgColor }}\r\n                title={`${label}: Daily ${displayChg}% | 5D Trend ${trendChg}%`}\r\n            >\r\n                <div className=\"flex flex-col items-center justify-center space-y-1 overflow-hidden h-full w-full\">\r\n                    <span className={`uppercase opacity-80 truncate w-full text-center font-bold tracking-wider leading-none ${labelSize}`}>\r\n                        {label}\r\n                    </span>\r\n                    <span className={`font-black tracking-tighter leading-none shadow-black drop-shadow-md ${chgSize}`}>\r\n                        {displayChg > 0 ? '+' : ''}{displayChg.toFixed(2)}%\r\n                    </span>\r\n                    <span className={`font-mono opacity-80 ${priceSize}`}>\r\n                        {item.price?.toLocaleString()}\r\n                    </span>\r\n                    {sizeLevel === 3 && (\r\n                        <div className=\"w-12 h-0.5 bg-white/30 rounded mt-2 animate-pulse\" />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const INDICES_US = [{ key: 'SPY', label: 'S&P 500' }, { key: 'QQQ', label: 'Nasdaq' }, { key: 'IWM', label: 'Russell' }, { key: 'VIX', label: 'VIX' }];\r\n    const INDICES_EU = [{ key: 'DAX', label: 'DAX (DE)' }, { key: 'CAC40', label: 'CAC 40' }, { key: 'FTSE', label: 'FTSE 100' }, { key: 'STOXX600', label: 'Stoxx 600' }];\r\n    const INDICES_ASIA = [{ key: 'NIKKEI', label: 'Nikkei' }, { key: 'HANGSENG', label: 'Hang Seng' }, { key: 'NIFTY', label: 'Nifty 50' }, { key: 'ASX200', label: 'ASX 200' }];\r\n    const REAL_ESTATE = [{ key: 'G_REIT', label: 'Glb REIT' }, { key: 'US_HOUSING', label: 'Housing' }, { key: 'LOGISTICS', label: 'Logistics' }, { key: 'INFRA', label: 'Infra' }];\r\n    const CREDIT = [{ key: 'HY_BOND', label: 'High Yld' }, { key: 'IG_BOND', label: 'Inv Grade' }, { key: 'TIPS', label: 'TIPS' }, { key: 'SHY', label: 'Short Gov' }];\r\n    const TRADE = [{ key: 'BALTIC', label: 'Baltic Dry' }, { key: 'SHIPPING', label: 'Shipping' }, { key: 'AGRI', label: 'Agri' }, { key: 'COPPER', label: 'Copper' }];\r\n    const THEMATIC = [{ key: 'SEMIS', label: 'Semis' }, { key: 'DEFENSE', label: 'Defense' }, { key: 'RARE_EARTH', label: 'Rare Earth' }, { key: 'CYBER', label: 'Cyber' }];\r\n    const COMMODITIES = [{ key: 'GOLD', label: 'Gold' }, { key: 'SILVER', label: 'Silver' }, { key: 'OIL', label: 'Oil' }, { key: 'NATGAS', label: 'Nat Gas' }];\r\n    const FX = [{ key: 'DXY', label: 'DXY' }, { key: 'EURUSD', label: 'EUR/USD' }, { key: 'USDJPY', label: 'USD/JPY' }, { key: 'USDCNY', label: 'USD/CNY' }];\r\n\r\n    const ALL_ASSETS = [...INDICES_US, ...INDICES_EU, ...INDICES_ASIA, ...REAL_ESTATE, ...CREDIT, ...TRADE, ...THEMATIC, ...COMMODITIES, ...FX];\r\n\r\n    const sortedAssets = ALL_ASSETS.map(item => {\r\n        const d = data?.market_data[item.key];\r\n        return { ...item, trendVal: d ? d.change_percent : 0 };\r\n    }).sort((a, b) => {\r\n        const aVal = a.trendVal ?? 0;\r\n        const bVal = b.trendVal ?? 0;\r\n        return bVal - aVal;\r\n    });\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#0a0a0a] p-2 md:p-8 font-inter text-gray-200\">\r\n            <h1 className=\"text-xl md:text-3xl font-black mb-4 text-white border-b border-gray-900 pb-4 text-center tracking-tighter\">\r\n                {t.title}\r\n            </h1>\r\n\r\n            <div className=\"flex justify-center gap-2 sm:gap-4 mb-6\">\r\n                <button\r\n                    onClick={() => setViewMode('regional')}\r\n                    className={`whitespace-nowrap px-6 py-2 rounded-full font-bold text-xs transition-all border ${viewMode === 'regional' ? 'bg-blue-600 border-blue-500 text-white shadow-lg' : 'bg-gray-900 border-gray-800 text-gray-500'}`}\r\n                >\r\n                    {t.view_sectors}\r\n                </button>\r\n                <button\r\n                    onClick={() => setViewMode('performance')}\r\n                    className={`whitespace-nowrap px-6 py-2 rounded-full font-bold text-xs transition-all border ${viewMode === 'performance' ? 'bg-green-600 border-green-500 text-white shadow-lg' : 'bg-gray-900 border-gray-800 text-gray-500'}`}\r\n                >\r\n                    {t.view_performance}\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"mx-auto font-noto-jp\" style={{ width: '360px' }}>\r\n\r\n                {viewMode === 'regional' && (\r\n                    <div className=\"animate-in fade-in zoom-in duration-300 space-y-4\">\r\n                        <div className=\"bg-gray-950 border border-gray-900 p-2 rounded-lg\">\r\n                            <h2 className=\"text-[10px] font-black text-gray-600 mb-2 uppercase tracking-[0.2em] border-b border-gray-900 pb-1\">{t.sector_indices}</h2>\r\n                            <div className=\"grid grid-cols-4 gap-1\">\r\n                                {[...INDICES_US, ...INDICES_EU, ...INDICES_ASIA].map(i => renderTile(i.key, i.label))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-gray-950 border border-gray-900 p-2 rounded-lg\">\r\n                            <h2 className=\"text-[10px] font-black text-gray-600 mb-2 uppercase tracking-[0.2em] border-b border-gray-900 pb-1\">{t.sector_physical}</h2>\r\n                            <div className=\"grid grid-cols-4 gap-1\">\r\n                                {[...REAL_ESTATE, ...CREDIT].map(i => renderTile(i.key, i.label))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-gray-950 border border-gray-900 p-2 rounded-lg\">\r\n                            <h2 className=\"text-[10px] font-black text-gray-600 mb-2 uppercase tracking-[0.2em] border-b border-gray-900 pb-1\">{t.sector_themes}</h2>\r\n                            <div className=\"grid grid-cols-4 gap-1\">\r\n                                {[...TRADE, ...THEMATIC, ...COMMODITIES, ...FX].map(i => renderTile(i.key, i.label))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {viewMode === 'performance' && (\r\n                    <div className=\"animate-in fade-in zoom-in duration-300\">\r\n                        <h2 className=\"text-[10px] font-black text-gray-600 mb-3 uppercase tracking-[0.4em] text-center\">{t.legend_title}</h2>\r\n                        <div className=\"border-4 border-gray-900 rounded-xl bg-black p-1 shadow-2xl relative overflow-hidden\">\r\n                            <div className=\"grid grid-cols-6 gap-0 bg-[#050505] grid-flow-dense border border-black\">\r\n                                {sortedAssets.map(i => {\r\n                                    const d = data?.market_data[i.key];\r\n                                    const trendVal = d?.change_percent ?? 0;\r\n\r\n                                    const absTrend = Math.abs(trendVal);\r\n\r\n                                    let spanClass = \"col-span-1 row-span-1\";\r\n                                    let sizeLevel = 1;\r\n                                    if (absTrend >= 10.0) { spanClass = \"col-span-3 row-span-3\"; sizeLevel = 3; }\r\n                                    else if (absTrend >= 5.0) { spanClass = \"col-span-2 row-span-2\"; sizeLevel = 2; }\r\n\r\n                                    return (\r\n                                        <div key={i.key} className={`${spanClass} relative`}>\r\n                                            {renderTile(i.key, i.label, sizeLevel)}\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"mt-8 space-y-6\">\r\n                    <div className=\"bg-gray-900/50 border border-gray-800 p-4 rounded-xl\">\r\n                        <h3 className=\"text-white text-xs font-bold mb-2 flex items-center gap-2\">\r\n                            <span className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\" />\r\n                            {t.logic_title}\r\n                        </h3>\r\n                        <p className=\"text-[10px] text-gray-400 leading-relaxed\">\r\n                            {t.logic_desc}\r\n                        </p>\r\n                        <div className=\"mt-3 grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <span className=\"text-[8px] text-gray-500 block uppercase mb-1\">{t.logic_display_label}</span>\r\n                                <span className=\"text-[10px] text-green-400 font-bold\">{t.logic_display_val}</span>\r\n                                <p className=\"text-[8px] text-gray-600 mt-1\">{t.logic_display_sub}</p>\r\n                            </div>\r\n                            <div>\r\n                                <span className=\"text-[8px] text-gray-500 block uppercase mb-1\">{t.logic_trend_label}</span>\r\n                                <span className=\"text-[10px] text-blue-400 font-bold\">{t.logic_trend_val}</span>\r\n                                <p className=\"text-[8px] text-gray-600 mt-1\">{t.logic_trend_sub}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-between items-center text-[10px] font-bold text-gray-600 uppercase tracking-widest px-2\">\r\n                        <span>{t.legend_title}</span>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-3 gap-2 grayscale opacity-70\">\r\n                        <div className=\"flex flex-col items-center\">\r\n                            <div className=\"w-8 h-8 bg-gray-700 border border-gray-800 rounded mb-1\" />\r\n                            <span className=\"text-[8px] text-gray-500\">{t.legend_normal}</span>\r\n                        </div>\r\n                        <div className=\"flex flex-col items-center\">\r\n                            <div className=\"w-10 h-10 bg-gray-600 border border-gray-700 rounded mb-1\" />\r\n                            <span className=\"text-[8px] text-gray-500\">{t.legend_5}</span>\r\n                        </div>\r\n                        <div className=\"flex flex-col items-center\">\r\n                            <div className=\"w-12 h-12 bg-gray-500 border border-gray-600 rounded mb-1\" />\r\n                            <span className=\"text-[8px] text-gray-500\">{t.legend_10}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-[10px] text-gray-800 text-center font-black tracking-widest uppercase pb-8\">\r\n                        {t.powered_by}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\app\\test\\market-analysis-beta\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\AdSenseSlot.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\AdUnit.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\Charts.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":94,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":97,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3385,3388],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3385,3388],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { ResponsiveContainer, AreaChart, Area, YAxis } from 'recharts';\r\nimport { DICTIONARY } from '@/data/dictionary';\r\n\r\n// --- RISK BAR COMPONENT (LINEAR GRADIENT) ---\r\ninterface GaugeProps {\r\n    score: number;\r\n    lang?: string;\r\n}\r\n// --- REFINED RISK GAUGE: OVERLAY STYLE ---\r\nexport const RiskGauge = ({ score, lang = 'EN' }: GaugeProps) => {\r\n    // Clamp score\r\n    const pct = Math.min(100, Math.max(0, score));\r\n    const isRTL = lang === 'AR';\r\n\r\n    return (\r\n        <div className=\"w-full relative mt-2 mb-2 gms-container\">\r\n            {/* Gradient Bar Wrapper (Height Fixed) */}\r\n            <div className=\"relative w-full h-[1.625rem]\">\r\n                {/* 1. The Gradient Background (Overflow Hidden for Rounded Corners) */}\r\n                <div className=\"absolute inset-0 w-full h-full !rounded-xl !border border-slate-300 dark:border-[#1E293B] overflow-hidden\">\r\n                    <div\r\n                        className=\"absolute inset-0 w-full h-full\"\r\n                        style={{\r\n                            backgroundImage: isRTL\r\n                                ? 'linear-gradient(90deg, #3b82f6 0%, #94a3b8 50%, #ef4444 100%)'\r\n                                : 'linear-gradient(90deg, #ef4444 0%, #94a3b8 50%, #3b82f6 100%)'\r\n                        } as React.CSSProperties}\r\n                    />\r\n                </div>\r\n\r\n                {/* 2. The Marker (Outside overflow-hidden, so it acts as an overlay) */}\r\n                <div\r\n                    className=\"absolute top-1/2 flex flex-col items-center z-50 transition-all duration-700 ease-out pointer-events-none\"\r\n                    style={{\r\n                        left: isRTL ? 'auto' : `${pct}%`,\r\n                        right: isRTL ? `${pct}%` : 'auto',\r\n                        transform: 'translateY(-50%) translateX(calc(50% * var(--dir)))',\r\n                        ['--dir' as string]: isRTL ? 1 : -1\r\n                    }}\r\n                >\r\n                    <div className=\"bg-[#1e293b] border border-[#1e293b] px-1.5 py-0.5 rounded shadow-xl mb-1 transition-colors duration-300\">\r\n                        <span className=\"text-[0.75rem] font-black !text-white leading-none tabular-nums tracking-tighter\" style={{ color: '#FFFFFF' }}>\r\n                            {Math.round(score)}\r\n                        </span>\r\n                    </div>\r\n                    {/* Arrow */}\r\n                    <div className=\"w-0 h-0 border-l-[4px] border-l-transparent border-r-[4px] border-r-transparent border-t-[6px] border-t-[#1e293b] drop-shadow-sm transition-colors duration-300\"></div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Labels */}\r\n            <div className={`flex justify-between px-1 mt-1 relative z-0`}>\r\n                <span className=\"text-fluid-xs font-bold text-[#ef4444] uppercase tracking-widest drop-shadow-sm\">Defensive</span>\r\n                <span className=\"text-fluid-xs font-bold text-slate-400 uppercase tracking-widest drop-shadow-sm\">Neutral</span>\r\n                <span className=\"text-fluid-xs font-bold text-[#3b82f6] uppercase tracking-widest drop-shadow-sm\">Accumulate</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nimport dynamic from 'next/dynamic';\r\nconst Plot = dynamic(() => import('react-plotly.js'), { ssr: false }) as React.ComponentType<any>;\r\n\r\n// --- HISTORY CHART (PLOTLY IMPLEMENTATION) ---\r\ninterface HistoryEntry {\r\n    date: string;\r\n    score: number;\r\n}\r\nexport const HistoryChart = ({ data, lang = 'EN', color = '#0ea5e9' }: { data: HistoryEntry[], lang?: string, color?: string }) => {\r\n    // @ts-expect-error: DICTIONARY indexing might be slightly off for some LangType values\r\n    const t = DICTIONARY[lang] || DICTIONARY['EN'];\r\n\r\n    if (!data || data.length === 0) return (\r\n        <div className=\"h-full w-full flex items-center justify-center text-[10px] text-slate-600 font-mono uppercase tracking-widest\">\r\n            {t.chart.sync}\r\n        </div>\r\n    );\r\n\r\n    // Localize and format dates\r\n    const normalizedLang = lang?.toUpperCase();\r\n    const isJP = normalizedLang === 'JP';\r\n\r\n    const chartDataValues = [...(data || [])].map(d => {\r\n        try {\r\n            const date = new Date(d.date);\r\n            // If the date is invalid (already formatted), return as is\r\n            if (isNaN(date.getTime())) return d;\r\n\r\n            const formatter = new Intl.DateTimeFormat('en-US', {\r\n                month: '2-digit', day: '2-digit',\r\n                hour: '2-digit', minute: '2-digit',\r\n                hour12: false,\r\n                timeZone: isJP ? 'Asia/Tokyo' : 'UTC'\r\n            });\r\n            const parts = formatter.formatToParts(date);\r\n            const m = parts.find(p => p.type === 'month')?.value;\r\n            const day = parts.find(p => p.type === 'day')?.value;\r\n            const h = parts.find(p => p.type === 'hour')?.value;\r\n            const min = parts.find(p => p.type === 'minute')?.value;\r\n            return {\r\n                ...d,\r\n                date: `${m}/${day} ${h}:${min}`\r\n            };\r\n        } catch {\r\n            return d;\r\n        }\r\n    });\r\n\r\n    return (\r\n        <div className=\"h-full w-full flex flex-col pt-2\">\r\n            <div className=\"flex-1 min-h-0\">\r\n                <Plot\r\n                    data={[\r\n                        {\r\n                            x: chartDataValues.map(d => d.date),\r\n                            y: chartDataValues.map(d => d.score),\r\n                            type: 'scatter',\r\n                            mode: 'lines', // Removed markers for smoother look\r\n                            line: { color: color, width: 3, shape: 'spline', smoothing: 1.3 },\r\n                            fill: 'tozeroy',\r\n                            fillcolor: `${color}26`, // 15% Opacity\r\n                            name: 'GMS',\r\n                            hovertemplate: '<b>%{y} GMS</b><br>%{x}<extra></extra>'\r\n                        }\r\n                    ]}\r\n                    layout={{\r\n                        autosize: true,\r\n                        margin: { l: 20, r: 5, t: 5, b: 20 },\r\n                        paper_bgcolor: 'rgba(0,0,0,0)',\r\n                        plot_bgcolor: 'rgba(0,0,0,0)',\r\n                        showlegend: false,\r\n                        xaxis: {\r\n                            showgrid: false,\r\n                            zeroline: false,\r\n                            showline: false,\r\n                            tickfont: { color: normalizedLang === 'JP' ? '#475569' : '#64748b', size: 9 }, // Slate-500\r\n                            type: 'category'\r\n                        },\r\n                        yaxis: {\r\n                            range: [0, 100],\r\n                            showgrid: true,\r\n                            gridcolor: 'rgba(0,0,0,0.05)', // Default Light Grid\r\n                            zeroline: false,\r\n                            showline: false,\r\n                            tickfont: { color: normalizedLang === 'JP' ? '#475569' : '#64748b', size: 9 }\r\n                        },\r\n                        font: { family: 'var(--font-inter), sans-serif' }\r\n                    }}\r\n                    config={{ displayModeBar: false, responsive: true }}\r\n                    style={{ width: '100%', height: '100%' }}\r\n                />\r\n            </div>\r\n            <div className=\"text-center text-[9px] text-slate-700 font-mono mt-1 opacity-60 tracking-[0.3em] uppercase\">\r\n                {t.chart.trend}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- DETAILED METRIC CHART (30-DAY PLOTLY) WITH HIGH-CONTRAST AXES ---\r\ninterface MetricChartProps {\r\n    data: number[];\r\n    color: string;\r\n    currentPrice?: string;\r\n    startDate?: string;\r\n    endDate?: string;\r\n    yRange?: [number, number];\r\n}\r\n\r\nexport const MetricChart = ({ data, color }: MetricChartProps) => {\r\n    if (!data || data.length === 0) return null;\r\n\r\n    // Convert array to object array for Recharts\r\n    const chartData = data.map((val, i) => ({ i, val }));\r\n\r\n    return (\r\n        <div className=\"h-full w-full relative flex flex-col\">\r\n            <div className=\"flex-grow\">\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                    <AreaChart data={chartData}>\r\n                        <defs>\r\n                            <linearGradient id={`grad-${color}`} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                <stop offset=\"5%\" stopColor={color} stopOpacity={0.3} />\r\n                                <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\r\n                            </linearGradient>\r\n                        </defs>\r\n                        <YAxis domain={['auto', 'auto']} hide />\r\n                        <Area\r\n                            type=\"monotone\"\r\n                            dataKey=\"val\"\r\n                            stroke={color}\r\n                            fill={`url(#grad-${color})`}\r\n                            strokeWidth={2}\r\n                            isAnimationActive={false}\r\n                        />\r\n                    </AreaChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\ClientDirectionProvider.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DICTIONARY' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { DICTIONARY } from '@/data/dictionary';\r\nimport { useCurrentLang } from '@/hooks/useCurrentLang';\r\nimport { useEffect } from 'react';\r\n\r\nexport const ClientDirectionProvider = () => {\r\n    const lang = useCurrentLang();\r\n\r\n    useEffect(() => {\r\n        // ONLY Switch to RTL if lang is explicitly 'AR'\r\n        if (lang === 'AR') {\r\n            document.documentElement.dir = 'rtl';\r\n            document.documentElement.lang = 'ar';\r\n            document.body.classList.add('font-arabic');\r\n        } else {\r\n            // Default to LTR for ALL other languages\r\n            document.documentElement.dir = 'ltr';\r\n            document.body.classList.remove('font-arabic');\r\n\r\n            // Map internal LangType to BCP 47 standard for CSS :lang() selectors\r\n            const langMap: Record<string, string> = {\r\n                'CN': 'zh-CN',\r\n                'JP': 'ja',\r\n                'EN': 'en',\r\n                'ES': 'es',\r\n                'HI': 'hi',\r\n                'ID': 'id'\r\n            };\r\n            document.documentElement.lang = langMap[lang as string] || 'en';\r\n        }\r\n    }, [lang]);\r\n\r\n    return null;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\CookieBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\Dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\DataSourceFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\DesktopNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\DynamicStructuredData.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[299,302],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[299,302],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[981,984],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[981,984],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface MarketData {\r\n    gms_score: number;\r\n    market_data: {\r\n        [key: string]: { price: number } | undefined;\r\n    };\r\n    last_updated: string;\r\n}\r\n\r\nexport const DynamicStructuredData = ({ data: externalData }: { data?: any }) => {\r\n    const [data, setData] = useState<MarketData | null>(null);\r\n    const [isStatic] = useState(!!externalData);\r\n\r\n    // Otherwise, fetch market data (Dashboard Mode)\r\n    useEffect(() => {\r\n        if (isStatic) return;\r\n\r\n        const controller = new AbortController();\r\n        const fetchData = async () => {\r\n            try {\r\n                const res = await fetch('/api/signal', { signal: controller.signal });\r\n                if (res.ok) {\r\n                    const json = await res.json();\r\n                    if (!controller.signal.aborted) {\r\n                        setData(json);\r\n                    }\r\n                }\r\n            } catch (e: any) {\r\n                if (e.name !== 'AbortError' && e.name !== 'TimeoutError') {\r\n                    // Silent fail for structured data to avoid console spam during dev\r\n                }\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n        const interval = setInterval(fetchData, 60000); // Update every 60s\r\n        return () => {\r\n            controller.abort();\r\n            clearInterval(interval);\r\n        };\r\n    }, [isStatic]);\r\n\r\n    // If external data is provided, use it directly (Static Mode)\r\n    if (externalData) {\r\n        return (\r\n            <script\r\n                type=\"application/ld+json\"\r\n                dangerouslySetInnerHTML={{ __html: JSON.stringify(externalData) }}\r\n            />\r\n        );\r\n    }\r\n\r\n    if (!data) return null;\r\n\r\n    const structuredData = {\r\n        \"@context\": \"https://schema.org\",\r\n        \"@graph\": [\r\n            {\r\n                \"@type\": \"Dataset\",\r\n                \"@id\": \"https://omnimetric.net/#gms-dataset\",\r\n                \"name\": \"OmniMetric Global Macro Signal Index\",\r\n                \"description\": \"Institutional-grade real-time risk assessment integrating Net Liquidity, Bond Volatility (MOVE), Equity Volatility (VIX), and Credit Spreads. Updated continuously.\",\r\n                \"url\": \"https://omnimetric.net\",\r\n                \"creator\": {\r\n                    \"@type\": \"Organization\",\r\n                    \"name\": \"OmniMetric Project\",\r\n                    \"url\": \"https://omnimetric.net\"\r\n                },\r\n                \"isAccessibleForFree\": true,\r\n                \"license\": \"https://creativecommons.org/licenses/by-nc/4.0/\",\r\n                \"dateModified\": data.last_updated,\r\n                \"variableMeasured\": [\r\n                    {\r\n                        \"@type\": \"PropertyValue\",\r\n                        \"name\": \"Global Macro Score\",\r\n                        \"value\": data.gms_score,\r\n                        \"unitText\": \"INDEX\",\r\n                        \"description\": \"Composite risk score from 0-100\"\r\n                    },\r\n                    {\r\n                        \"@type\": \"PropertyValue\",\r\n                        \"name\": \"US Net Liquidity\",\r\n                        \"value\": data.market_data.NET_LIQUIDITY?.price || 0,\r\n                        \"unitText\": \"USD_BILLIONS\",\r\n                        \"description\": \"Federal Reserve Balance Sheet minus TGA and RRP\"\r\n                    },\r\n                    {\r\n                        \"@type\": \"PropertyValue\",\r\n                        \"name\": \"MOVE Index\",\r\n                        \"value\": data.market_data.MOVE?.price || 0,\r\n                        \"unitText\": \"INDEX\",\r\n                        \"description\": \"Bond Market Volatility Index\"\r\n                    },\r\n                    {\r\n                        \"@type\": \"PropertyValue\",\r\n                        \"name\": \"VIX Index\",\r\n                        \"value\": data.market_data.VIX?.price || 0,\r\n                        \"unitText\": \"INDEX\",\r\n                        \"description\": \"Equity Market Volatility Index\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"@type\": \"FinancialProduct\",\r\n                \"name\": \"Global Macro Signal\",\r\n                \"description\": \"Algorithmic market risk indicator combining institutional-grade data sources\",\r\n                \"provider\": {\r\n                    \"@type\": \"Organization\",\r\n                    \"name\": \"OmniMetric\"\r\n                },\r\n                \"feesAndCommissionsSpecification\": \"Free for informational use\"\r\n            }\r\n        ]\r\n    };\r\n\r\n    return (\r\n        <script\r\n            type=\"application/ld+json\"\r\n            dangerouslySetInnerHTML={{ __html: JSON.stringify(structuredData) }}\r\n        />\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\GMSHeaderSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\GlossaryClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\GoogleAdSense.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\LanguageSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\LegalFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\LiveWikiData.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lang' is defined but never used.","line":37,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":37,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Activity, ArrowUp, ArrowDown, Zap } from 'lucide-react';\r\n\r\ntype MarketData = {\r\n    metadata: {\r\n        last_updated: string;\r\n    };\r\n    series: Record<string, {\r\n        closes: { time: string; value: number }[];\r\n        deviations: { time: string; value: number }[];\r\n    }>;\r\n};\r\n\r\ntype LiveDataProps = {\r\n    slug: string;\r\n    lang: string;\r\n};\r\n\r\n// Mapping Wiki Slugs to Market Tickers (Simple heuristic)\r\nconst TICKER_MAP: Record<string, string> = {\r\n    // Macro\r\n    'dxy': 'DXY',\r\n    'us10y': 'US10Y',\r\n    'vix': 'VIX',\r\n    'move': 'MOVE',\r\n    'oil': 'CL=F',\r\n    'gold': 'GC=F',\r\n    'bitcoin': 'BTC-USD',\r\n    'sp500': 'SPX',\r\n    'nasdaq': '^IXIC',\r\n    'high-yield-spread': 'HYG', // Proxy\r\n    'inflation': 'US10Y', // Proxy context\r\n};\r\n\r\nexport const LiveWikiData = ({ slug, lang }: LiveDataProps) => {\r\n    const [data, setData] = useState<MarketData | null>(null);\r\n    const [gmsScore, setGmsScore] = useState<number | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                // Parallel Fetch: Market Data & GMS Score\r\n                const [marketRes, gmsRes] = await Promise.all([\r\n                    fetch('/data/market_analysis.json'),\r\n                    fetch('/data/current_signal.json')\r\n                ]);\r\n\r\n                if (marketRes.ok) {\r\n                    const mJson = await marketRes.json();\r\n                    setData(mJson);\r\n                }\r\n                if (gmsRes.ok) {\r\n                    const gJson = await gmsRes.json();\r\n                    setGmsScore(gJson.gms_score);\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Failed to load live wiki data\", e);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    // Determine Ticker\r\n    const ticker = TICKER_MAP[slug.toLowerCase()] || '';\r\n\r\n    // 1. GMS Score Display (Universal Context)\r\n    // 2. Ticker Specific Data (If mapped)\r\n\r\n    if (loading) return <div className=\"h-24 animate-pulse bg-slate-100 dark:bg-slate-800 rounded-xl\" />;\r\n\r\n    const seriesData = data?.series?.[ticker];\r\n    const latestClose = seriesData?.closes?.[seriesData.closes.length - 1]?.value;\r\n    const latestDev = seriesData?.deviations?.[seriesData.deviations.length - 1]?.value;\r\n\r\n    const isPositive = (latestDev || 0) > 0;\r\n\r\n    return (\r\n        <div className=\"my-8 p-6 bg-white dark:bg-[#0F172A] border border-slate-200 dark:border-slate-800 rounded-xl shadow-sm\">\r\n            <h3 className=\"flex items-center gap-2 text-xs font-black uppercase tracking-widest text-slate-500 mb-4\">\r\n                <Activity className=\"w-4 h-4 text-emerald-500\" />\r\n                Live Market Analysis\r\n                <span className=\"ml-auto text-[10px] text-slate-400 font-mono\">\r\n                    {data?.metadata?.last_updated ? new Date(data.metadata.last_updated).toLocaleTimeString() : 'LIVE'}\r\n                </span>\r\n            </h3>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n\r\n                {/* 1. GMS Context */}\r\n                <div className=\"flex items-center\">\r\n                    <div className=\"relative w-14 h-14 shrink-0 flex items-center justify-center bg-slate-100 dark:bg-slate-900 rounded-full border-4 border-slate-200 dark:border-slate-800 mr-4\">\r\n                        <span className={`text-2xl font-black ${gmsScore && gmsScore > 60 ? 'text-emerald-500' : gmsScore && gmsScore < 40 ? 'text-red-500' : 'text-amber-500'}`}>\r\n                            {gmsScore}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"flex flex-col justify-center min-w-[180px]\">\r\n                        <div className=\"text-[10px] text-slate-500 uppercase font-bold tracking-widest mb-1\">Current GMS Regime</div>\r\n                        <div className=\"text-base font-bold text-slate-800 dark:text-slate-100 leading-tight\">\r\n                            {gmsScore && gmsScore > 60 ? 'Risk-On (Accumulate)' : gmsScore && gmsScore < 40 ? 'Risk-Off (Defensive)' : 'Neutral Balance'}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 2. Specific Ticker Data (If Valid) */}\r\n                {ticker && latestClose ? (\r\n                    <div className=\"pl-0 md:pl-6 md:border-l border-slate-100 dark:border-slate-800\">\r\n                        <div className=\"flex justify-between items-baseline mb-1\">\r\n                            <span className=\"text-2xl font-black font-mono text-slate-900 dark:text-white\">\r\n                                {latestClose.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                            </span>\r\n                            <span className={`flex items-center text-sm font-bold ${isPositive ? 'text-emerald-500' : 'text-red-500'}`}>\r\n                                {isPositive ? <ArrowUp className=\"w-3 h-3 mr-1\" /> : <ArrowDown className=\"w-3 h-3 mr-1\" />}\r\n                                {latestDev?.toFixed(2)}% (MTA)\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"text-[10px] text-slate-400 uppercase tracking-wider\">\r\n                            {ticker} deviation from 200-Day Trend\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"flex items-start pl-0 md:pl-6 md:border-l border-slate-100 dark:border-slate-800\">\r\n                        <Zap className=\"w-4 h-4 text-yellow-500 mr-2 mt-0.5 shrink-0\" />\r\n                        <span className=\"text-xs text-slate-400 leading-relaxed\">\r\n                            Real-time correlation data for this macro indicator is integrated into the master GMS Score.\r\n                        </span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\MarketHeatmap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\MobileMenu.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Globe' is defined but never used.","line":2,"column":51,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":56}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\nimport { Home, LineChart, Bitcoin, Banknote, Gem, Globe } from 'lucide-react';\r\nimport { usePathname, useRouter, useSearchParams } from 'next/navigation';\r\nimport { LangType } from '@/data/dictionary';\r\n\r\nexport const MobileMenu = () => {\r\n    const pathname = usePathname();\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const lang = (searchParams.get('lang') as LangType) || 'EN';\r\n\r\n    const tabs = [\r\n        { key: 'home', label: 'Summary', icon: Home, path: '/' },\r\n        { key: 'stocks', label: 'Stocks', icon: LineChart, path: '/stocks' },\r\n        { key: 'crypto', label: 'Crypto', icon: Bitcoin, path: '/crypto' },\r\n        { key: 'forex', label: 'Forex', icon: Banknote, path: '/forex' },\r\n        { key: 'cmdty', label: 'Cmdty', icon: Gem, path: '/commodities' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"fixed bottom-0 left-0 w-full bg-[#0a0a0a] border-t border-white/10 z-50 pb-safe md:hidden\">\r\n            <div className=\"flex justify-around items-center h-[60px]\">\r\n                {tabs.map((tab) => {\r\n                    const isActive = pathname === tab.path;\r\n                    return (\r\n                        <button\r\n                            key={tab.key}\r\n                            onClick={() => router.push(`${tab.path}?lang=${lang}`)}\r\n                            className={`flex flex-col items-center justify-center w-full h-full gap-1 ${isActive ? 'text-sky-500' : 'text-slate-500 hover:text-slate-300'}`}\r\n                        >\r\n                            <tab.icon className={`w-5 h-5 ${isActive ? 'fill-current/20' : ''}`} />\r\n                            <span className=\"text-[9px] font-bold uppercase tracking-wide\">{tab.label}</span>\r\n                        </button>\r\n                    );\r\n                })}\r\n            </div>\r\n            {/* Safe Area Spacer for iOS Home Bar */}\r\n            <div className=\"h-[env(safe-area-inset-bottom)] bg-[#0a0a0a]\"></div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\MobileNav.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'theme' is assigned a value but never used.","line":13,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\nimport React from 'react';\r\nimport { Home, LineChart, Bitcoin, Banknote, Gem, Globe, ScrollText, Activity } from 'lucide-react';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport { DICTIONARY } from '@/data/dictionary';\r\nimport { useCurrentLang } from '@/hooks/useCurrentLang';\r\nimport { useTheme } from '@/components/ThemeProvider';\r\n\r\nexport const MobileNav = () => {\r\n    const pathname = usePathname();\r\n    const router = useRouter();\r\n    const lang = useCurrentLang();\r\n    const { theme } = useTheme();\r\n    const t = DICTIONARY[lang];\r\n\r\n    const tabs = [\r\n        { key: 'home', label: t.labels.summary || 'Summary', icon: Home, path: '/' },\r\n        { key: 'stocks', label: t.labels.stocks || 'Stocks', icon: LineChart, path: '/stocks' },\r\n        { key: 'crypto', label: t.labels.crypto || 'Crypto', icon: Bitcoin, path: '/crypto' },\r\n        { key: 'forex', label: t.labels.forex || 'Forex', icon: Banknote, path: '/forex' },\r\n        { key: 'cmdty', label: t.labels.commodities || 'Cmdty', icon: Gem, path: '/commodities' },\r\n        { key: 'technical', label: t.labels.technical || 'Technical', icon: Activity, path: '/technical' },\r\n        { key: 'wiki', label: t.labels.wiki || 'Wiki', icon: Globe, path: '/glossary' },\r\n        { key: 'maxims', label: t.labels.maxims || 'Maxims', icon: ScrollText, path: '/maxims' },\r\n    ];\r\n    return (\r\n        <nav\r\n            className=\"fixed top-0 left-0 right-0 h-[48px] bg-[#F1F5F9]/95 dark:bg-[#000000]/95 backdrop-blur-xl border-b border-slate-200 dark:border-[#1E293B] md:hidden w-full z-[9999] shadow-2xl overflow-hidden transition-colors duration-300\"\r\n        >\r\n            <div className=\"grid grid-cols-8 h-full w-full items-center px-0\">\r\n                {tabs.map((tab) => {\r\n                    const isActive = pathname === tab.path;\r\n                    // Full labels allowing resize/wrap - No Truncation\r\n                    const label = tab.label;\r\n\r\n                    // Size Logic: AR needs larger text, others smaller\r\n                    const isAR = lang === 'AR';\r\n                    const textSizeClass = isAR ? 'text-[9px]' : 'text-[7px]';\r\n\r\n                    return (\r\n                        <button\r\n                            key={tab.key}\r\n                            onClick={() => router.push(`${tab.path}?lang=${lang}`)}\r\n                            className={`group flex flex-col items-center justify-center w-full h-full transition-all relative p-0.5`}\r\n                        >\r\n                            {/* Icon: Active=Blue, Inactive=Slate-500(Light)/Slate-300(Dark), Hover=Slate-900(Light)/Slate-100(Dark) */}\r\n                            <tab.icon\r\n                                className={`w-3.5 h-3.5 mb-0.5 transition-colors duration-200 ${isActive\r\n                                    ? 'text-[#007AFF] drop-shadow-[0_0_10px_#007AFF] fill-[#007AFF]/20'\r\n                                    : 'text-slate-500 dark:text-slate-300 group-hover:text-slate-900 dark:group-hover:text-slate-100'\r\n                                    }`}\r\n                                strokeWidth={2}\r\n                            />\r\n\r\n                            {/* Text: Active=Blue, Inactive=Slate-500(Light)/Slate-300(Dark), Hover=Slate-900(Light)/Slate-100(Dark) */}\r\n                            <span className={`${textSizeClass} font-bold uppercase tracking-tight text-center leading-[0.85] w-full whitespace-normal break-words px-0 transition-colors duration-200 ${isActive\r\n                                ? 'text-[#007AFF] drop-shadow-[0_0_5px_#007AFF]'\r\n                                : 'text-slate-500 dark:text-slate-300 group-hover:text-slate-900 dark:group-hover:text-slate-100'\r\n                                }`}>\r\n                                {label}\r\n                            </span>\r\n                        </button>\r\n                    );\r\n                })}\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\MultiAssetSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\NewsTicker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\PulseTile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\SectorDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\Sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":2,"column":51,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":63}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\nimport { Home, LineChart, Bitcoin, Banknote, Gem, ChevronRight, BookOpen } from 'lucide-react';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport { DICTIONARY } from '@/data/dictionary';\r\nimport { useCurrentLang } from '@/hooks/useCurrentLang';\r\n\r\nexport const Sidebar = () => {\r\n    const pathname = usePathname();\r\n    const router = useRouter();\r\n    const lang = useCurrentLang();\r\n    const t = DICTIONARY[lang];\r\n\r\n    const tabs = [\r\n        { key: 'home', label: t.labels.summary || 'Summary', icon: Home, path: '/' },\r\n        { key: 'stocks', label: t.labels.stocks || 'Stocks', icon: LineChart, path: '/stocks' },\r\n        { key: 'crypto', label: t.labels.crypto || 'Crypto', icon: Bitcoin, path: '/crypto' },\r\n        { key: 'forex', label: t.labels.forex || 'Forex', icon: Banknote, path: '/forex' },\r\n        { key: 'cmdty', label: t.labels.commodities || 'Cmdty', icon: Gem, path: '/commodities' },\r\n        { key: 'wiki', label: t.labels.wiki || 'Wiki', icon: BookOpen, path: '/glossary' },\r\n    ];\r\n\r\n    return (\r\n        <aside className=\"fixed start-0 top-0 bottom-0 hidden md:flex flex-col w-[60px] bg-[#F1F5F9] dark:bg-[#0A0A0A] border-e border-slate-200 dark:border-[#1E293B] overflow-visible z-50 transition-colors duration-300\">\r\n            {/* Logo Area */}\r\n            <div className=\"h-[60px] flex items-center justify-center border-b border-slate-200 dark:border-[#1E293B]\">\r\n                <div className={`w-3 h-3 rounded-full ${pathname === '/' ? 'bg-sky-500 shadow-[0_0_8px_rgba(14,165,233,0.8)]' : 'bg-slate-600'}`}></div>\r\n            </div>\r\n\r\n            {/* Navigation - Icon Only + Tooltips */}\r\n            <nav className=\"flex-1 flex flex-col justify-start pt-10 gap-8 items-center\">\r\n                {tabs.map((tab) => {\r\n                    const isActive = pathname === tab.path;\r\n                    return (\r\n                        <button\r\n                            key={tab.key}\r\n                            onClick={() => router.push(`${tab.path}?lang=${lang}`)}\r\n                            className={`group relative flex items-center justify-center p-3 rounded-lg transition-all duration-300 border border-transparent ${isActive\r\n                                ? 'bg-slate-100 dark:bg-[#333] border-slate-200 dark:border-[#555] shadow-sm dark:shadow-lg'\r\n                                : 'bg-transparent hover:bg-slate-50 dark:hover:bg-[#222] hover:border-slate-200 dark:hover:border-[#333]'\r\n                                }`}\r\n                        >\r\n                            {/* Active Indicator (Dot) - Subtle */}\r\n                            {isActive && (\r\n                                <div className=\"absolute inset-y-1/2 -translate-y-1/2 w-1 h-6 bg-sky-500 rounded-full shadow-[0_0_10px_rgba(14,165,233,0.8)] start-0\"></div>\r\n                            )}\r\n\r\n                            {/* Icon - OPTIMIZED COLOR PALETTE */}\r\n                            <tab.icon\r\n                                className={`w-[20px] h-[20px] transition-all duration-300 ${isActive\r\n                                    ? 'text-sky-600 dark:text-[#F1F5F9]'\r\n                                    : 'text-slate-400 dark:text-[#94A3B8] group-hover:text-sky-500'\r\n                                    }`}\r\n                            />\r\n\r\n                            {/* Tooltip (Label) - TYPOGRAPHY MASTERPIECE */}\r\n                            <div\r\n                                className=\"absolute ltr:left-full rtl:right-full top-1/2 -translate-y-1/2 ms-4 px-3 py-2 bg-black border border-[#333] !text-[#F1F5F9] text-[10.5px] font-semibold tracking-[0.15em] uppercase rounded-sm opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap shadow-[0_4px_20px_rgba(0,0,0,1)] z-[9999]\"\r\n                                style={{ color: '#F1F5F9' }}\r\n                            >\r\n                                {tab.label}\r\n                            </div>\r\n                        </button>\r\n                    );\r\n                })}\r\n            </nav>\r\n\r\n            {/* Footer / Status Indicator */}\r\n            <div className=\"h-[60px] flex items-center justify-center border-t border-slate-200 dark:border-[#1E293B]\">\r\n                <div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500/50\"></div>\r\n            </div>\r\n        </aside>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\Skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\TVPartnerCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\TerminalPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\TerminalSettings.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":35,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { X, Moon, Sun, ArrowUp, ArrowDown, Eye, EyeOff, GripVertical, RotateCcw } from 'lucide-react';\r\nimport { LangType, DICTIONARY } from '@/data/dictionary';\r\n\r\ninterface TerminalSettingsProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    currentTiles: string[];\r\n    hiddenTiles: string[];\r\n    onUpdate: (visible: string[], hidden: string[]) => void;\r\n    onReset: () => void;\r\n    isDark?: boolean; // Future proofing\r\n    onToggleTheme?: () => void;\r\n    lang: LangType;\r\n    systemInfo?: {\r\n        lastUpdated: string;\r\n        status: string;\r\n        latency: string;\r\n    };\r\n}\r\n\r\nconst getFormattedDate = (isoString: string) => {\r\n    if (!isoString) return '--';\r\n    try {\r\n        const date = new Date(isoString);\r\n        return new Intl.DateTimeFormat('ja-JP', {\r\n            month: '2-digit',\r\n            day: '2-digit',\r\n            hour: '2-digit',\r\n            minute: '2-digit',\r\n            timeZone: 'Asia/Tokyo'\r\n        }).format(date);\r\n    } catch (e) {\r\n        return isoString;\r\n    }\r\n};\r\n\r\nexport const TerminalSettings = ({\r\n    isOpen,\r\n    onClose,\r\n    currentTiles,\r\n    hiddenTiles,\r\n    onUpdate,\r\n    onReset,\r\n    isDark,\r\n    onToggleTheme,\r\n    lang = 'EN',\r\n    systemInfo\r\n}: TerminalSettingsProps) => {\r\n    const [mount, setMount] = useState(false);\r\n\r\n    // Dictionary\r\n    const t = DICTIONARY[lang]?.settings || DICTIONARY['EN'].settings;\r\n\r\n    // Animation handling\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            // Use requestAnimationFrame or setTimeout to avoid synchronous setState in effect\r\n            const timer = setTimeout(() => setMount(true), 0);\r\n            return () => clearTimeout(timer);\r\n        } else {\r\n            const timer = setTimeout(() => setMount(false), 300);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    if (!mount) return null;\r\n\r\n    const handleMove = (index: number, direction: -1 | 1) => {\r\n        if (index + direction < 0 || index + direction >= currentTiles.length) return;\r\n        const newTiles = [...currentTiles];\r\n        const temp = newTiles[index];\r\n        newTiles[index] = newTiles[index + direction];\r\n        newTiles[index + direction] = temp;\r\n        onUpdate(newTiles, hiddenTiles);\r\n    };\r\n\r\n    const handleHide = (id: string) => {\r\n        onUpdate(\r\n            currentTiles.filter(t => t !== id),\r\n            [...hiddenTiles, id]\r\n        );\r\n    };\r\n\r\n    const handleShow = (id: string) => {\r\n        onUpdate(\r\n            [...currentTiles, id],\r\n            hiddenTiles.filter(t => t !== id)\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Backdrop */}\r\n            <div\r\n                className={`fixed inset-0 bg-black/60 backdrop-blur-sm z-[9990] transition-opacity duration-300 ${isOpen ? 'opacity-100' : 'opacity-0'}`}\r\n                onClick={onClose}\r\n            />\r\n\r\n            {/* Bottom Sheet */}\r\n            <div\r\n                className={`fixed bottom-0 left-0 right-0 border-t border-slate-800 rounded-t-[2rem] z-[9991] shadow-2xl transition-transform duration-300 ease-out transform flex flex-col max-h-[85vh] ${isOpen ? 'translate-y-0' : 'translate-y-full'}`}\r\n                style={{ backgroundColor: '#0F172A' }}\r\n            >\r\n                {/* Handle Bar */}\r\n                <div className=\"w-full h-8 flex items-center justify-center flex-shrink-0\" onClick={onClose}>\r\n                    <div className=\"w-12 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full\" />\r\n                </div>\r\n\r\n                {/* Header */}\r\n                <div\r\n                    className=\"px-6 py-2 flex justify-between items-center z-10 border-b border-slate-800\"\r\n                    style={{ backgroundColor: '#0F172A' }}\r\n                >\r\n                    <div className=\"flex flex-col\">\r\n                        <h2 className=\"text-sm font-black text-[#FEF3C7] tracking-widest uppercase mb-0.5 sm:text-base\">{t.title}</h2>\r\n                        <span className=\"text-[9px] text-[#FEF3C7]/70 font-mono leading-none\">{t.subtitle}</span>\r\n                    </div>\r\n                    <button onClick={onClose} className=\"p-0.5 text-black bg-[#FEF3C7] hover:bg-[#FEF3C7]/80 rounded-full transition-colors\">\r\n                        <X className=\"w-3.5 h-3.5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Scrollable Content */}\r\n                <div className=\"flex-1 overflow-y-auto overflow-x-hidden px-2 py-3 space-y-4\">\r\n\r\n                    {/* 1. Theme Section */}\r\n                    <div className=\"space-y-2\">\r\n                        <h3 className=\"text-[10px] font-bold text-[#FEF3C7] uppercase tracking-widest pl-1\">{t.theme_title}</h3>\r\n                        <div className=\"grid grid-cols-2 gap-3 p-1 bg-[#020617] rounded-2xl border border-slate-800\">\r\n                            {/* Dark Mode Button */}\r\n                            <button\r\n                                className={`relative flex items-center justify-center gap-2 p-3 rounded-xl transition-all duration-300 group ${isDark\r\n                                    ? 'bg-[#E2E8F0] border-2 border-[#3B82F6] shadow-[0_0_15px_rgba(59,130,246,0.5)] scale-[1.02]'\r\n                                    : 'bg-[#475569] border border-slate-600 hover:bg-[#64748B]'\r\n                                    }`}\r\n                                onClick={onToggleTheme}\r\n                            >\r\n                                <Moon className={`w-5 h-5 transition-colors duration-300 ${isDark ? 'text-[#2563EB] fill-[#2563EB]/20' : 'text-black'}`} />\r\n                                <span className={`text-xs font-black tracking-widest transition-colors duration-300 ${isDark ? 'text-[#2563EB]' : 'text-black'}`}>{t.dark_mode}</span>\r\n                                {isDark && (\r\n                                    <div className=\"absolute top-2 right-2 flex h-1.5 w-1.5\">\r\n                                        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#3B82F6] opacity-75\"></span>\r\n                                        <span className=\"relative inline-flex rounded-full h-1.5 w-1.5 bg-[#2563EB]\"></span>\r\n                                    </div>\r\n                                )}\r\n                            </button>\r\n\r\n                            {/* Light Mode Button */}\r\n                            <button\r\n                                className={`relative flex items-center justify-center gap-2 p-3 rounded-xl transition-all duration-300 group ${!isDark\r\n                                    ? 'bg-white border-2 border-[#3B82F6] shadow-[0_0_15px_rgba(59,130,246,0.3)] scale-[1.02]'\r\n                                    : 'bg-slate-100 dark:bg-[#475569] border border-slate-200 dark:border-slate-600 hover:bg-slate-200 dark:hover:bg-[#64748B]'\r\n                                    }`}\r\n                                onClick={onToggleTheme}\r\n                                title=\"Switch to Light Mode\"\r\n                            >\r\n                                <Sun className={`w-5 h-5 transition-colors duration-300 ${!isDark ? 'text-[#2563EB] fill-[#2563EB]/20' : 'text-black'}`} />\r\n                                <span className={`text-xs font-black tracking-widest transition-colors duration-300 ${!isDark ? 'text-[#2563EB]' : 'text-black'}`}>{t.light_mode}</span>\r\n                                {!isDark && (\r\n                                    <div className=\"absolute top-2 right-2 flex h-1.5 w-1.5\">\r\n                                        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#3B82F6] opacity-75\"></span>\r\n                                        <span className=\"relative inline-flex rounded-full h-1.5 w-1.5 bg-[#2563EB]\"></span>\r\n                                    </div>\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 2. Active Tiles */}\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"flex justify-between items-end\">\r\n                            <h3 className=\"text-[10px] font-bold text-[#FEF3C7] uppercase tracking-widest pl-1\">{t.active_modules} ({currentTiles.length})</h3>\r\n                            <button onClick={onReset} className=\"text-[9px] flex items-center gap-1 bg-[#FEF3C7] text-black font-bold hover:bg-[#FEF3C7]/80 transition-colors px-2 py-0.5 rounded shadow-sm\">\r\n                                <RotateCcw className=\"w-3 h-3\" /> {t.reset}\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-1 bg-[#020617] p-1.5 rounded-xl border border-slate-800 min-h-[100px]\">\r\n                            {currentTiles.map((id, index) => (\r\n                                <div key={id} className=\"flex items-center gap-2 bg-[#1E293B] p-1 rounded-lg border border-slate-700/50 group hover:border-[#FEF3C7]/30 transition-colors shadow-none\">\r\n                                    <div className=\"text-[#FEF3C7]/50 cursor-grab active:cursor-grabbing pl-1\">\r\n                                        <GripVertical className=\"w-3 h-3\" />\r\n                                    </div>\r\n                                    <div className=\"flex-1 font-bold text-xs text-[#FEF3C7] tracking-wider font-mono truncate\">{id}</div>\r\n\r\n                                    {/* Order Controls */}\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        <button\r\n                                            onClick={() => handleMove(index, -1)}\r\n                                            disabled={index === 0}\r\n                                            className=\"p-0.5 w-4 h-4 flex items-center justify-center rounded bg-[#FEF3C7] text-black hover:bg-[#FEF3C7]/80 disabled:opacity-30 disabled:hover:bg-[#FEF3C7]\"\r\n                                        >\r\n                                            <ArrowUp className=\"w-2.5 h-2.5\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleMove(index, 1)}\r\n                                            disabled={index === currentTiles.length - 1}\r\n                                            className=\"p-0.5 w-4 h-4 flex items-center justify-center rounded bg-[#FEF3C7] text-black hover:bg-[#FEF3C7]/80 disabled:opacity-30 disabled:hover:bg-[#FEF3C7]\"\r\n                                        >\r\n                                            <ArrowDown className=\"w-2.5 h-2.5\" />\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div className=\"w-[1px] h-3 bg-slate-700 mx-0.5\" />\r\n\r\n                                    <button\r\n                                        onClick={() => handleHide(id)}\r\n                                        className=\"p-0.5 w-4 h-4 flex items-center justify-center rounded bg-[#FEF3C7] text-black hover:bg-[#FEF3C7]/80 transition-colors\"\r\n                                        title=\"Hide Module\"\r\n                                    >\r\n                                        <Eye className=\"w-2.5 h-2.5\" />\r\n                                    </button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 3. Hidden Tiles */}\r\n                    {hiddenTiles.length > 0 && (\r\n                        <div className=\"space-y-2 pb-4\">\r\n                            <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-widest pl-1\">{t.disabled_modules} ({hiddenTiles.length})</h3>\r\n                            <div className=\"space-y-1 opacity-60 hover:opacity-100 transition-opacity\">\r\n                                {hiddenTiles.map(id => (\r\n                                    <div key={id} className=\"flex items-center gap-2 bg-[#111] p-1 rounded-lg border border-slate-800 border-dashed\">\r\n                                        <div className=\"w-3\" /> {/* Spacer for Grip */}\r\n                                        <div className=\"flex-1 font-medium text-[10px] text-slate-500 tracking-wide font-mono line-through decoration-slate-600\">{id}</div>\r\n                                        <button\r\n                                            onClick={() => handleShow(id)}\r\n                                            className=\"p-0.5 w-4 h-4 flex items-center justify-center rounded bg-[#FEF3C7]/20 text-[#FEF3C7] hover:bg-[#FEF3C7] hover:text-black transition-colors ml-auto\"\r\n                                            title=\"Enable Module\"\r\n                                        >\r\n                                            <EyeOff className=\"w-2.5 h-2.5\" />\r\n                                        </button>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* 4. System Info (Moved from Header) */}\r\n                    {systemInfo && (\r\n                        <div className=\"mt-auto pt-4 border-t border-slate-800\">\r\n                            <div className=\"p-2 rounded-lg flex items-center justify-between bg-slate-900\">\r\n                                <span className=\"text-[9px] uppercase tracking-widest text-[#FEF3C7]/70\">{t.last_updated}</span>\r\n                                <span className=\"font-mono text-[10px] text-[#FEF3C7]\">\r\n                                    {getFormattedDate(systemInfo.lastUpdated)} JST\r\n                                </span>\r\n                            </div>\r\n                            {/* Status Indicator */}\r\n                            <div className=\"flex items-center justify-center gap-2 mt-3\">\r\n                                <div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse\"></div>\r\n                                <span className=\"text-[9px] font-bold tracking-widest text-[#FEF3C7] uppercase\">{t.system_operational}</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\ThemeBackgroundWrapper.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'pathname' is assigned a value but never used.","line":9,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { useTheme } from '@/components/ThemeProvider';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nexport const ThemeBackgroundWrapper = ({ children }: { children: React.ReactNode }) => {\r\n    const { theme } = useTheme();\r\n    const pathname = usePathname();\r\n\r\n    // Determine background color based on theme\r\n    // User requested Light Gray for Light Mode, Black for Dark Mode\r\n    const backgroundColor = theme === 'dark' ? '#0a0a0a' : '#F1F5F9';\r\n\r\n    return (\r\n        <div\r\n            className=\"omni-terminal-root relative min-h-screen flex transition-colors duration-300\"\r\n            style={{ backgroundColor: backgroundColor, color: theme === 'dark' ? '#e2e8f0' : '#0f172a' }}\r\n        >\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\ThemeProvider.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":52,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":52,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from 'react';\r\n\r\ntype Theme = 'dark' | 'light';\r\n\r\ninterface ThemeContextType {\r\n    theme: Theme;\r\n    toggleTheme: () => void;\r\n    setTheme: (theme: Theme) => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport const ThemeProvider = ({ children }: { children: React.ReactNode }) => {\r\n    const [theme, setThemeState] = useState<Theme>('dark');\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    React.useLayoutEffect(() => {\r\n        setMounted(true);\r\n        // FORCE DEFAULT DARK: Only load from storage if present.\r\n        // We explicitly DO NOT check window.matchMedia('(prefers-color-scheme: dark)')\r\n        // so that the default is always dark regardless of OS settings.\r\n        try {\r\n            const savedConfig = localStorage.getItem('gms_terminal_config_v1');\r\n            if (savedConfig) {\r\n                const config = JSON.parse(savedConfig);\r\n                if (config.theme) {\r\n                    setThemeState(config.theme);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.warn('Failed to load theme preference', e);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!mounted) return;\r\n        const root = window.document.documentElement;\r\n        root.classList.remove('light', 'dark');\r\n        root.classList.add(theme);\r\n\r\n        // Sync with legacy config storage for MultiAssetSummary compatibility\r\n        // This ensures if user refreshes, MultiAssetSummary reads the correct theme from local storage\r\n        try {\r\n            const saved = localStorage.getItem('gms_terminal_config_v1');\r\n            const config = saved ? JSON.parse(saved) : {};\r\n            if (config.theme !== theme) {\r\n                config.theme = theme;\r\n                localStorage.setItem('gms_terminal_config_v1', JSON.stringify(config));\r\n            }\r\n        } catch (e) {\r\n            // Ignore storage errors\r\n        }\r\n\r\n    }, [theme, mounted]);\r\n\r\n    const toggleTheme = () => {\r\n        setThemeState(prev => prev === 'dark' ? 'light' : 'dark');\r\n    };\r\n\r\n    const setTheme = (newTheme: Theme) => {\r\n        setThemeState(newTheme);\r\n    };\r\n\r\n    return (\r\n        <ThemeContext.Provider value={{ theme, toggleTheme, setTheme }}>\r\n            {children}\r\n            {!mounted && <div style={{ visibility: 'hidden' }} />}\r\n        </ThemeContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useTheme = () => {\r\n    const context = useContext(ThemeContext);\r\n    if (context === undefined) {\r\n        throw new Error('useTheme must be used within a ThemeProvider');\r\n    }\r\n    return context;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\ToastNotification.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\WikiSearch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\analysis\\MarketAnalysisWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\components\\analysis\\MarketChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\data\\dictionary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\data\\sectors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\data\\seo.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is assigned a value but never used.","line":22,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":10}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Metadata } from 'next';\r\n\r\nexport const LANGUAGES: Record<string, string> = {\r\n    'EN': 'en',\r\n    'JP': 'ja',\r\n    'CN': 'zh-CN',\r\n    'ES': 'es',\r\n    'HI': 'hi',\r\n    'ID': 'id',\r\n    'AR': 'ar',\r\n};\r\n\r\nexport const BASE_URL = 'https://www.omnimetric.net';\r\n\r\nexport type MetadataStyle = 'query' | 'path';\r\n\r\nexport function getMultilingualMetadata(\r\n    path: string,\r\n    currentLang: string,\r\n    title?: string,\r\n    description?: string,\r\n    style: MetadataStyle = 'query'\r\n): Metadata {\r\n    const langCode = currentLang.toUpperCase();\r\n    // Normalize path to not have leading slash if style is path to avoid double slashes later if needed, \r\n    // but usually path is like \"/wiki/slug\".\r\n    const cleanPath = path.startsWith('/') ? path : `/${path}`;\r\n\r\n    const alternates: Record<string, string> = {};\r\n\r\n    // Generate all 7 languages\r\n    // Generate all 7 languages (Path-based strict)\r\n    Object.entries(LANGUAGES).forEach(([code, hreflang]) => {\r\n        if (cleanPath === '/') {\r\n            // Root special case (Homepage)\r\n            alternates[hreflang] = code === 'EN'\r\n                ? `${BASE_URL}/`\r\n                : `${BASE_URL}/${code.toLowerCase()}`;\r\n        } else {\r\n            // Standard Paths (/wiki, /forex, etc)\r\n            alternates[hreflang] = `${BASE_URL}/${code.toLowerCase()}${cleanPath}`;\r\n        }\r\n    });\r\n\r\n    // Set x-default (English Path is default)\r\n    if (cleanPath === '/') {\r\n        alternates['x-default'] = `${BASE_URL}/`;\r\n    } else {\r\n        alternates['x-default'] = `${BASE_URL}/en${cleanPath}`;\r\n    }\r\n\r\n    // Canonical (Self-referencing path)\r\n    let canonical = `${BASE_URL}/${langCode.toLowerCase()}${cleanPath}`;\r\n\r\n    // Special Case: English Homepage is Root\r\n    if (langCode === 'EN' && cleanPath === '/') {\r\n        canonical = `${BASE_URL}/`;\r\n    }\r\n\r\n\r\n    return {\r\n        title: title || \"Global Macro Signal | Institutional Market Intelligence\",\r\n        description: description || \"Real-time global market risk analysis. AI-driven insights for professional investors.\",\r\n        alternates: {\r\n            canonical,\r\n            languages: alternates,\r\n        },\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\data\\tradingview-ads.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\dist\\generate_insight.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":36,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":36,"endColumn":27},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":37,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":37,"endColumn":45},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":38,"column":29,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":38,"endColumn":46},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":39,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":39,"endColumn":42}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || (function () {\r\n    var ownKeys = function(o) {\r\n        ownKeys = Object.getOwnPropertyNames || function (o) {\r\n            var ar = [];\r\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n            return ar;\r\n        };\r\n        return ownKeys(o);\r\n    };\r\n    return function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n        __setModuleDefault(result, mod);\r\n        return result;\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst ai_1 = require(\"ai\");\r\nconst gateway_1 = require(\"@ai-sdk/gateway\");\r\nconst dotenv = __importStar(require(\"dotenv\"));\r\nconst path = __importStar(require(\"path\"));\r\n// Load environment variables strictly before any SDK calls\r\nconst envPath = path.resolve(__dirname, '../../.env');\r\nconst backendEnvPath = path.resolve(__dirname, '../../backend/.env');\r\ntry {\r\n    dotenv.config({ path: envPath });\r\n    dotenv.config({ path: backendEnvPath });\r\n}\r\ncatch (e) {\r\n    console.error(\"DEBUG: Env setup warning\", e);\r\n}\r\nconst getPrompt = () => {\r\n    const args = process.argv.slice(2);\r\n    if (args.length === 0) {\r\n        console.error(\"Error: No prompt provided.\");\r\n        process.exit(1);\r\n    }\r\n    return args[0];\r\n};\r\nasync function main() {\r\n    const prompt = getPrompt();\r\n    try {\r\n        // STRICT: Official Vercel AI SDK Pattern with Gateway Helper\r\n        // Uses env: AI_GATEWAY_API_KEY, VERCEL_AI_GATEWAY_SLUG\r\n        const result = await (0, ai_1.generateText)({\r\n            model: (0, gateway_1.gateway)('google/gemini-2.0-flash'), // Automatic routing via official SDK\r\n            prompt: prompt,\r\n        });\r\n        // Output ONLY the raw text for Python to capture\r\n        console.log(JSON.stringify({ text: result.text }));\r\n    }\r\n    catch (error) {\r\n        // Output formatted error for Python to capture if possible, or stdout/stderr\r\n        console.error(\"AI Generation Failed:\", error);\r\n        process.exit(1);\r\n    }\r\n}\r\nmain();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\dist\\test_no_dotenv.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":27},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":45}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst ai_1 = require(\"ai\");\r\nconst gateway_1 = require(\"@ai-sdk/gateway\");\r\nasync function main() {\r\n    const prompt = process.argv[2] || \"test\";\r\n    console.log(\"DEBUG: Starting with prompt\", prompt);\r\n    console.log(\"DEBUG: Keys present?\", {\r\n        slug: !!process.env.VERCEL_AI_GATEWAY_SLUG,\r\n        gateway: !!process.env.AI_GATEWAY_API_KEY,\r\n        gemini: !!process.env.GEMINI_API_KEY\r\n    });\r\n    try {\r\n        console.log(\"DEBUG: Calling generateText\");\r\n        const result = await (0, ai_1.generateText)({\r\n            model: (0, gateway_1.gateway)('google/gemini-2.0-flash'),\r\n            prompt: prompt,\r\n        });\r\n        console.log(JSON.stringify({ text: result.text }));\r\n    }\r\n    catch (error) {\r\n        console.error(\"AI Generation Failed:\", error);\r\n        process.exit(1);\r\n    }\r\n}\r\nmain();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\hooks\\useCurrentLang.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\hooks\\useDevice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\hooks\\useSignalData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\lib\\api-response.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\lib\\signal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\lib\\validation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1928,1931],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1928,1931],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Centralized validation schemas using Zod\r\n * Ensures consistent input validation across all API routes\r\n */\r\n\r\nimport { z } from 'zod';\r\n\r\n/**\r\n * Supported language codes\r\n */\r\nexport const SUPPORTED_LANGUAGES = ['EN', 'JP', 'CN', 'ES', 'HI', 'ID', 'AR'] as const;\r\n\r\n/**\r\n * Language validation schema\r\n */\r\nexport const LanguageSchema = z.enum(SUPPORTED_LANGUAGES);\r\n\r\n/**\r\n * Date validation schema (YYYY-MM-DD format)\r\n */\r\nexport const DateSchema = z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, {\r\n    message: 'Invalid date format. Must be YYYY-MM-DD'\r\n}).refine((date) => {\r\n    const parsed = new Date(date);\r\n    return !isNaN(parsed.getTime());\r\n}, {\r\n    message: 'Invalid date value'\r\n});\r\n\r\n/**\r\n * Positive integer schema\r\n */\r\nexport const PositiveIntSchema = z.number().int().positive({\r\n    message: 'Must be a positive integer'\r\n});\r\n\r\n/**\r\n * Pagination schema\r\n */\r\nexport const PaginationSchema = z.object({\r\n    page: z.number().int().min(1).default(1),\r\n    limit: z.number().int().min(1).max(100).default(10)\r\n});\r\n\r\n/**\r\n * Query parameter validation helper\r\n * Converts string query params to appropriate types\r\n */\r\nexport function parseQueryParams<T extends z.ZodTypeAny>(\r\n    schema: T,\r\n    params: URLSearchParams,\r\n    key: string\r\n): z.infer<T> | null {\r\n    const value = params.get(key);\r\n    if (!value) return null;\r\n\r\n    try {\r\n        return schema.parse(value);\r\n    } catch {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Safe query parameter parser with default value\r\n */\r\nexport function parseQueryParamWithDefault<T extends z.ZodTypeAny>(\r\n    schema: T,\r\n    params: URLSearchParams,\r\n    key: string,\r\n    defaultValue: z.infer<T>\r\n): z.infer<T> {\r\n    const value = parseQueryParams(schema, params, key);\r\n    return value ?? defaultValue;\r\n}\r\n\r\n/**\r\n * Validate and parse multiple query parameters\r\n */\r\nexport function validateQueryParams<T extends z.ZodObject<Record<string, any>>>(\r\n    schema: T,\r\n    searchParams: URLSearchParams\r\n): { success: true; data: z.infer<T> } | { success: false; error: string; details: unknown[] } {\r\n    try {\r\n        // Convert URLSearchParams to object\r\n        const params: Record<string, string> = {};\r\n        searchParams.forEach((value, key) => {\r\n            params[key] = value;\r\n        });\r\n\r\n        const result = schema.parse(params);\r\n        return { success: true, data: result };\r\n    } catch (error) {\r\n        if (error instanceof z.ZodError) {\r\n            return {\r\n                success: false,\r\n                error: 'Validation failed',\r\n                details: error.issues.map((err: z.ZodIssue) => ({\r\n                    field: err.path.join('.'),\r\n                    message: err.message\r\n                }))\r\n            };\r\n        }\r\n        return {\r\n            success: false,\r\n            error: 'Unknown validation error',\r\n            details: []\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * Type-safe language validator\r\n */\r\nexport type Language = z.infer<typeof LanguageSchema>;\r\n\r\n/**\r\n * Validate language code\r\n */\r\nexport function isValidLanguage(lang: string): lang is Language {\r\n    return SUPPORTED_LANGUAGES.includes(lang as Language);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\lib\\wiki.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":175,"column":80,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":175,"endColumn":83,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7205,7208],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7205,7208],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":194,"column":94,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":194,"endColumn":97,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8118,8121],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8118,8121],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":219,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":219,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9081,9084],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9081,9084],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":224,"column":89,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":224,"endColumn":92,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9558,9561],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9558,9561],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { LangType } from '@/data/dictionary';\r\n// Server-side imports for Heavy Data\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\n// Import all data (Standard Light Data)\r\nimport glossaryEn from '@/data/glossary-en.json';\r\nimport glossaryJa from '@/data/glossary-ja.json';\r\nimport glossaryCn from '@/data/glossary-cn.json';\r\nimport glossaryEs from '@/data/glossary-es.json';\r\nimport glossaryHi from '@/data/glossary-hi.json';\r\nimport glossaryId from '@/data/glossary-id.json';\r\nimport glossaryAr from '@/data/glossary-ar.json';\r\nimport glossaryFr from '@/data/glossary-fr.json';\r\nimport glossaryDe from '@/data/glossary-de.json';\r\n\r\nimport technicalEn from '@/data/technical-en.json';\r\nimport technicalJa from '@/data/technical-ja.json';\r\nimport technicalCn from '@/data/technical-cn.json';\r\nimport technicalEs from '@/data/technical-es.json';\r\nimport technicalHi from '@/data/technical-hi.json';\r\nimport technicalId from '@/data/technical-id.json';\r\nimport technicalAr from '@/data/technical-ar.json';\r\nimport technicalFr from '@/data/technical-fr.json';\r\nimport technicalDe from '@/data/technical-de.json';\r\n\r\nimport maximsEn from '@/data/maxims-en.json';\r\nimport maximsJa from '@/data/maxims-ja.json';\r\nimport maximsCn from '@/data/maxims-cn.json';\r\nimport maximsEs from '@/data/maxims-es.json';\r\nimport maximsHi from '@/data/maxims-hi.json';\r\nimport maximsId from '@/data/maxims-id.json';\r\nimport maximsAr from '@/data/maxims-ar.json';\r\nimport maximsFr from '@/data/maxims-fr.json';\r\nimport maximsDe from '@/data/maxims-de.json';\r\n\r\n// Types\r\ntype WikiType = 'glossary' | 'technical' | 'maxim' | 'indicator' | 'asset';\r\n\r\nexport interface WikiItem {\r\n    slug: string;\r\n    type: WikiType;\r\n    category: string;\r\n    title: string;\r\n    tags: string[];\r\n    data: unknown; // Light data\r\n    heavy?: {\r\n        summary: string;\r\n        deep_dive: string;\r\n        council_debate: {\r\n            geopolitics: string;\r\n            macro: string;\r\n            quant: string;\r\n            technical: string;\r\n            policy: string;\r\n            tech: string;\r\n        };\r\n        forecast_risks: string;\r\n        gms_conclusion: string;\r\n        generated_at: string;\r\n    };\r\n}\r\n\r\nconst glossaryMap: Record<LangType, unknown[]> = { EN: glossaryEn, JP: glossaryJa, CN: glossaryCn, ES: glossaryEs, HI: glossaryHi, ID: glossaryId, AR: glossaryAr, FR: glossaryFr, DE: glossaryDe };\r\nconst technicalMap: Record<LangType, unknown[]> = { EN: technicalEn, JP: technicalJa, CN: technicalCn, ES: technicalEs, HI: technicalHi, ID: technicalId, AR: technicalAr, FR: technicalFr, DE: technicalDe };\r\nconst maximsMap: Record<LangType, unknown[]> = { EN: maximsEn, JP: maximsJa, CN: maximsCn, ES: maximsEs, HI: maximsHi, ID: maximsId, AR: maximsAr, FR: maximsFr, DE: maximsDe };\r\n\r\n// Utility to slugify string\r\nexport const slugify = (text: string) => {\r\n    return text.toString().toLowerCase()\r\n        .replace(/\\//g, '-')            // Replace slash with -\r\n        .replace(/\\s+/g, '-')           // Replace spaces with -\r\n        .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\r\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single -\r\n        .replace(/^-+/, '')             // Trim - from start\r\n        .replace(/-+$/, '');            // Trim - from end\r\n};\r\n\r\n// Helper: Try Load Heavy Data\r\nconst loadHeavyData = (slug: string, lang: LangType) => {\r\n    try {\r\n        // Look in frontend/data/wiki_heavy\r\n        const filePath = path.join(process.cwd(), 'data', 'wiki_heavy', `${slug}-${lang.toLowerCase()}.json`);\r\n        if (fs.existsSync(filePath)) {\r\n            const raw = fs.readFileSync(filePath, 'utf-8');\r\n            const heavy = JSON.parse(raw);\r\n\r\n            // Parse council_debate if stringified\r\n            if (heavy.sections && heavy.sections.council_debate && typeof heavy.sections.council_debate === 'string') {\r\n                try {\r\n                    heavy.sections.council_debate = JSON.parse(heavy.sections.council_debate);\r\n                } catch { }\r\n            }\r\n\r\n            return {\r\n                summary: heavy.sections?.summary || \"\",\r\n                deep_dive: heavy.sections?.deep_dive || \"\",\r\n                council_debate: heavy.sections?.council_debate || {},\r\n                forecast_risks: heavy.sections?.forecast_risks || \"\",\r\n                gms_conclusion: heavy.sections?.gms_conclusion || \"\",\r\n                generated_at: heavy.generated_at\r\n            };\r\n        }\r\n    } catch {\r\n        // Fail silent, return undefined (Hybrid Fallback)\r\n    }\r\n    return undefined;\r\n};\r\n\r\n// Helper: Scan for Heavy-Only Items (Standalone Heavy Files)\r\nconst getHeavyOnlyItems = (lang: LangType): WikiItem[] => {\r\n    const heavyDir = path.join(process.cwd(), 'data', 'wiki_heavy');\r\n    if (!fs.existsSync(heavyDir)) return [];\r\n\r\n    const files = fs.readdirSync(heavyDir);\r\n    const heavyItems: WikiItem[] = [];\r\n    const suffix = `-${lang.toLowerCase()}.json`;\r\n\r\n    files.forEach(file => {\r\n        if (file.endsWith(suffix)) {\r\n            const slug = file.replace(suffix, '');\r\n            // Load the file\r\n            const heavyData = loadHeavyData(slug, lang);\r\n\r\n            // Reconstruct a WikiItem from the heavy data\r\n            // Note: Heavy data might duplicate fields like title/category, use them.\r\n            if (heavyData) {\r\n                // Read the file raw correctly to get title/cat/type if stored there\r\n                try {\r\n                    const rawPath = path.join(heavyDir, file);\r\n                    const raw = JSON.parse(fs.readFileSync(rawPath, 'utf-8'));\r\n\r\n                    heavyItems.push({\r\n                        slug: slug,\r\n                        type: (raw.type as WikiType) || 'technical',\r\n                        category: raw.category || 'Uncategorized',\r\n                        title: raw.title || slug,\r\n                        tags: [],\r\n                        data: {}, // No light data available\r\n                        heavy: heavyData\r\n                    });\r\n                } catch { }\r\n            }\r\n        }\r\n    });\r\n    return heavyItems;\r\n};\r\n\r\n// Helper: Clean Mixed English/Localized Titles\r\nconst cleanLocalizedTitle = (text: string, lang: LangType): string => {\r\n    if (lang === 'EN') return text;\r\n\r\n    // Pattern 1: \"English (Localized)\" -> Keep Localized\r\n    // Pattern 2: \"Localized (English)\" -> Keep Localized\r\n\r\n    // Check if text has parentheses\r\n    const match = text.match(/^(.*?)\\s*\\((.*?)\\)$/);\r\n    if (match) {\r\n        const part1 = match[1];\r\n        const part2 = match[2];\r\n\r\n        // Heuristic: If one part has non-ASCII (likely localized) and the other is ASCII (English)\r\n        const isPart1ASCII = /^[\\x00-\\x7F]*$/.test(part1);\r\n        const isPart2ASCII = /^[\\x00-\\x7F]*$/.test(part2);\r\n\r\n        if (!isPart1ASCII && isPart2ASCII) return part1.trim(); // \"Localized (English)\" -> \"Localized\"\r\n        if (isPart1ASCII && !isPart2ASCII) return part2.trim(); // \"English (Localized)\" -> \"Localized\"\r\n    }\r\n\r\n    return text;\r\n};\r\n\r\nexport const getWikiData = (lang: LangType) => {\r\n    // 1. Glossary\r\n    const glossary = (glossaryMap[lang] as unknown[] || glossaryEn).map((item: any) => ({\r\n        slug: item.id,\r\n        type: 'glossary' as WikiType,\r\n        category: cleanLocalizedTitle(item.category, lang),\r\n        title: cleanLocalizedTitle(item.term, lang),\r\n        tags: item.seo_keywords || [],\r\n        data: item,\r\n        heavy: loadHeavyData(item.id, lang)\r\n    }));\r\n\r\n    // 2. Technical\r\n    const techEn = technicalEn;\r\n    // Fallback to EN if target lang file is missing, but map exists\r\n    const techTarget = technicalMap[lang] || technicalEn;\r\n\r\n    const technical: WikiItem[] = [];\r\n    techEn.forEach((cat: { category: string; indicators: { name: string; seo_keywords?: string[] }[] }, catIdx: number) => {\r\n        cat.indicators.forEach((ind: { name: string; seo_keywords?: string[] }, indIdx: number) => {\r\n            // Safely access target category and indicator\r\n            const targetCat = (techTarget[catIdx] || cat) as { category: string; indicators: any[] };\r\n            const targetInd = targetCat?.indicators?.[indIdx];\r\n            const finalInd = targetInd || ind;\r\n\r\n            if (finalInd) {\r\n                // Use English Name for Slug (Canonical)\r\n                const slug = slugify(ind.name);\r\n                const rawTitle = finalInd.name;\r\n                const rawCategory = targetCat?.category || cat.category;\r\n\r\n                technical.push({\r\n                    slug: slug,\r\n                    type: 'technical' as WikiType,\r\n                    category: cleanLocalizedTitle(rawCategory, lang),\r\n                    title: cleanLocalizedTitle(rawTitle, lang),\r\n                    tags: finalInd.seo_keywords || [],\r\n                    data: finalInd,\r\n                    heavy: loadHeavyData(slug, lang)\r\n                });\r\n            }\r\n        });\r\n    });\r\n\r\n    // 3. Maxims\r\n    const maxEn = maximsEn;\r\n    const maxTarget = maximsMap[lang] as { category: string; quotes: any[] }[] || maximsEn;\r\n\r\n    const maxims: WikiItem[] = [];\r\n    maxEn.forEach((cat: { category: string; quotes: { id: string; text: string; meaning?: string; attribution?: string; seo_keywords?: string[] }[] }, catIdx: number) => {\r\n        cat.quotes.forEach((quote: { id: string; text: string; meaning?: string; attribution?: string; seo_keywords?: string[] }, quoteIdx: number) => {\r\n            const targetCat = (maxTarget[catIdx] || cat) as { category: string; quotes: any[] };\r\n            const targetQuote = targetCat?.quotes?.[quoteIdx];\r\n            const finalQuote = targetQuote || quote;\r\n\r\n            if (finalQuote) {\r\n                // For Maxims:\r\n                // If EN: Title = text (\"The trend is your friend\")\r\n                // If Non-EN: Title = meaning (\"雜句漢譏ｯ菴逧・恚蜿欺") because 'text' is usually left in English even in localized files\r\n\r\n                let displayTitle = `\"${finalQuote.text}\"`;\r\n                if (lang !== 'EN' && finalQuote.meaning) {\r\n                    // Check if meaning is different from text (i.e. it is actually translated)\r\n                    // In maxims-cn.json: text is English, meaning is Chinese.\r\n                    displayTitle = `\"${finalQuote.meaning}\"`;\r\n                }\r\n\r\n                maxims.push({\r\n                    slug: quote.id,\r\n                    type: 'maxim' as WikiType,\r\n                    category: cleanLocalizedTitle(targetCat?.category || cat.category, lang),\r\n                    title: displayTitle,\r\n                    tags: [finalQuote.attribution || ''],\r\n                    data: finalQuote,\r\n                    heavy: loadHeavyData(quote.id, lang)\r\n                });\r\n            }\r\n        });\r\n    });\r\n\r\n    // 4. Merge Heavy-Only Items (that are NOT in the lists above)\r\n    const existingSlugs = new Set([...glossary, ...technical, ...maxims].map(i => i.slug));\r\n    const heavyOnly = getHeavyOnlyItems(lang).filter(i => !existingSlugs.has(i.slug));\r\n\r\n    return [...glossary, ...technical, ...maxims, ...heavyOnly];\r\n};\r\n\r\nexport const getWikiItem = (slug: string, lang: LangType): WikiItem | undefined => {\r\n    const all = getWikiData(lang);\r\n    return all.find(item => item.slug === slug);\r\n};\r\n\r\nexport const getAllSlugs = () => {\r\n    return getWikiData('EN').map(item => item.slug);\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\scripts\\audit_coverage.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":97,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":97,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":106,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":106,"endColumn":23}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const fs = require('fs');\r\nconst path = require('path');\r\n\r\nconst LANGS = ['EN', 'JP', 'CN', 'ES', 'HI', 'ID', 'AR'];\r\n\r\n// Mimic lib/wiki.ts slugify\r\nconst slugify = (text) => {\r\n    return text.toString().toLowerCase()\r\n        .replace(/\\//g, '-') // Handle slash\r\n        .replace(/\\s+/g, '-')\r\n        .replace(/[^\\w\\-]+/g, '')\r\n        .replace(/\\-\\-+/g, '-')\r\n        .replace(/^-+/, '')\r\n        .replace(/-+$/, '');\r\n};\r\n\r\nconst baseDir = path.join(__dirname, '../data');\r\nconst heavyDir = path.join(baseDir, 'wiki_heavy');\r\n\r\nconst loadJson = (filename) => {\r\n    try {\r\n        return JSON.parse(fs.readFileSync(path.join(baseDir, filename), 'utf-8'));\r\n    } catch (e) {\r\n        console.error(`Failed to load ${filename}:`, e.message);\r\n        return null;\r\n    }\r\n};\r\n\r\nconst technicalEn = loadJson('technical-en.json');\r\nconst maximsEn = loadJson('maxims-en.json');\r\nconst glossaryEn = loadJson('glossary-en.json'); // list\r\n\r\nconst items = [];\r\n\r\n// 1. Glossary\r\nif (glossaryEn) {\r\n    glossaryEn.forEach(item => {\r\n        items.push({ type: 'Glossary', name: item.term, id: item.id, slug: item.id });\r\n    });\r\n}\r\n\r\n// 2. Technical\r\nif (technicalEn) {\r\n    technicalEn.forEach(cat => {\r\n        cat.indicators.forEach(ind => {\r\n            items.push({ type: 'Technical', name: ind.name, id: ind.name, slug: slugify(ind.name) });\r\n        });\r\n    });\r\n}\r\n\r\n// 3. Maxims\r\nif (maximsEn) {\r\n    maximsEn.forEach(cat => {\r\n        cat.quotes.forEach(quote => {\r\n            items.push({ type: 'Maxim', name: quote.text, id: quote.id, slug: quote.id });\r\n        });\r\n    });\r\n}\r\n\r\nconsole.log(`Checking ${items.length} items across ${LANGS.length} languages...\\n`);\r\n\r\nconst results = {\r\n    missing: 0,\r\n    empty: 0,\r\n    error: 0,\r\n    valid: 0\r\n};\r\n\r\nconst report = [];\r\n\r\nitems.forEach(item => {\r\n    const itemStatus = { name: item.name, slug: item.slug, langs: {} };\r\n\r\n    LANGS.forEach(lang => {\r\n        const filename = `${item.slug}-${lang.toLowerCase()}.json`;\r\n        const filePath = path.join(heavyDir, filename);\r\n\r\n        if (!fs.existsSync(filePath)) {\r\n            itemStatus.langs[lang] = 'MISSING';\r\n            results.missing++;\r\n        } else {\r\n            try {\r\n                const content = fs.readFileSync(filePath, 'utf-8');\r\n                const json = JSON.parse(content);\r\n\r\n                // Check content\r\n                if (!json.sections || !json.sections.deep_dive || json.sections.deep_dive.length < 50) {\r\n                    itemStatus.langs[lang] = 'EMPTY/LIGHT';\r\n                    results.empty++;\r\n                } else {\r\n                    // specific check for council_debate parsing\r\n                    if (json.sections.council_debate && typeof json.sections.council_debate === 'string') {\r\n                        try {\r\n                            JSON.parse(json.sections.council_debate);\r\n                            itemStatus.langs[lang] = 'OK';\r\n                            results.valid++;\r\n                        } catch (e) {\r\n                            itemStatus.langs[lang] = 'JSON_STR_ERR';\r\n                            results.error++;\r\n                        }\r\n                    } else {\r\n                        itemStatus.langs[lang] = 'OK';\r\n                        results.valid++;\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                itemStatus.langs[lang] = 'PARSE_ERR';\r\n                results.error++;\r\n            }\r\n        }\r\n    });\r\n\r\n    // Check if any issues exist for this item\r\n    const hasIssues = Object.values(itemStatus.langs).some(s => s !== 'OK');\r\n    if (hasIssues) {\r\n        report.push(itemStatus);\r\n    }\r\n});\r\n\r\n// Print Report\r\nconsole.log(\"--- PROBLEM REPORT ---\");\r\nreport.forEach(r => {\r\n    console.log(`[${r.slug}]`);\r\n    Object.entries(r.langs).forEach(([l, s]) => {\r\n        if (s !== 'OK') console.log(`  ${l}: ${s}`);\r\n    });\r\n});\r\n\r\nconsole.log(\"\\n--- SUMMARY ---\");\r\nconsole.log(`Valid: ${results.valid}`);\r\nconsole.log(`Missing: ${results.missing}`);\r\nconsole.log(`Empty/Light: ${results.empty}`);\r\nconsole.log(`Errors: ${results.error}`);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\scripts\\fix_wiki_json.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":30,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":30,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e2' is defined but never used.","line":75,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":75,"endColumn":20}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const fs = require('fs');\r\nconst path = require('path');\r\n\r\nconst baseDir = path.join(__dirname, '../data/wiki_heavy');\r\n\r\nconst fixFile = (filename) => {\r\n    const filePath = path.join(baseDir, filename);\r\n    if (!fs.existsSync(filePath)) {\r\n        console.log(`File not found: ${filename}`);\r\n        return;\r\n    }\r\n\r\n    let content = fs.readFileSync(filePath, 'utf-8');\r\n\r\n    // Attempt 1: Try parse. If fails, try to fix common syntax errors.\r\n    try {\r\n        JSON.parse(content);\r\n        console.log(`${filename}: Valid JSON (No fix needed, checking structure...)`);\r\n        // Check for embedded keys in council_debate for AR file\r\n        if (filename.includes('-ar.json')) {\r\n            const json = JSON.parse(content);\r\n            let debate = json.sections.council_debate;\r\n            if (typeof debate === 'string' && !debate.trim().endsWith('}')) {\r\n                console.log(`${filename}: Fixing unclosed council_debate strong...`);\r\n                json.sections.council_debate = debate + \"}\";\r\n                fs.writeFileSync(filePath, JSON.stringify(json, null, 4), 'utf-8');\r\n                return;\r\n            }\r\n        }\r\n    } catch (e) {\r\n        console.log(`${filename}: Parse Error. Attempting fix...`);\r\n\r\n        // Fix 1: AR file missing closing brace in string\r\n        if (filename.includes('-ar.json')) {\r\n            // Look for ending sequence: ... \"gms_conclusion\": \"...\"\r\n            // And no closing } or \" before the file's closing }\r\n\r\n            // Simple hack: if content contains unescaped newlines in strings?\r\n            // Or if logic is specific:\r\n            // The file ends with `\" }`. \r\n            // The string for council_debate ends with `...\\\"` but missing `}`?\r\n\r\n            // Let's look at the AR file content specifically\r\n            // It ends line 10 with: ... \\\"gms_conclusion\\\": \\\"...\\\"\r\n            // Then line 11: },\r\n\r\n            // So we need to insert } before the closing \" of the value.\r\n            // But reading it as raw text...\r\n\r\n            // Regex replacement for AR file:\r\n            // Find: \\\"gms_conclusion\\\": \\\".*?\\\"(?!})\r\n            // This is risky.\r\n\r\n            // Manual pattern for the known file:\r\n            if (content.includes('ﾘｪﾙ・ｶﾙ・ﾘｧﾙ・ｷﾘｱﾙ・ﾘｧﾙ・・・ｳﾘｧﾘ｡.\\\\\"')) { // End of the string\r\n                content = content.replace('ﾘｪﾙ・ｶﾙ・ﾘｧﾙ・ｷﾘｱﾙ・ﾘｧﾙ・・・ｳﾘｧﾘ｡.\\\\\"', 'ﾘｪﾙ・ｶﾙ・ﾘｧﾙ・ｷﾘｱﾙ・ﾘｧﾙ・・・ｳﾘｧﾘ｡.\\\\\"}');\r\n                console.log(`${filename}: Applied AR closing brace fix.`);\r\n            }\r\n        }\r\n\r\n        // Fix 2: ID files - potentially bad escaping or missing comma?\r\n        // Viewer showed: ... hiper.\\\",\"gms_conclusion\": ...\r\n        // Maybe the Quote before comma is missing?\r\n        // Or maybe it is: ... hiper.\\\", \"gms_conclusion\": ...\r\n\r\n        // Let's try to remove control characters?\r\n        // content = content.replace(/[\\u0000-\\u001F]+/g, \"\"); \r\n\r\n        // Re-try parse\r\n        try {\r\n            const fixed = JSON.parse(content);\r\n            fs.writeFileSync(filePath, JSON.stringify(fixed, null, 4), 'utf-8');\r\n            console.log(`${filename}: Fixed and saved.`);\r\n            return;\r\n        } catch (e2) {\r\n            console.log(`${filename}: Still failing parse after basic manual fix.`);\r\n            // Harder manual fix logic\r\n        }\r\n    }\r\n\r\n    // Check Parsing again for ID files\r\n    if (filename.includes('-id.json')) {\r\n        // Known pattern: multiple keys on one line? \r\n        // \"forecast_risks\": \"...\", \"gms_conclusion\": \"...\"\r\n        // This is valid JSON if quoted correctly.\r\n        // Maybe the content inside `forecast_risks` has an unescaped quote?\r\n\r\n        // Let's verify via regex if we can splitting the file\r\n        // GMS Conclusion for ID: \"Divergensi Bearish terdeteksi... tren naik.\"\r\n        // Forecast Risks: \"Risiko utamanya adalah ... pertumbuhan hiper.\"\r\n\r\n        // If I simply overwrite the file with a known good structure if I can extract the text...\r\n        // But extraction is hard without parsing.\r\n\r\n        // Let's try a very specific replace for the comma issue if it exists\r\n        // Maybe there is a missing comma between properties?\r\n        // content.replace(/}\\s*\"forecast_risks\"/, '}, \"forecast_risks\"');\r\n    }\r\n};\r\n\r\nconst files = [\r\n    'maximum-adverse-excursion-mae-ar.json',\r\n    'net-liquidity-id.json',\r\n    'vix-id.json',\r\n    'gms-score-id.json'\r\n];\r\n\r\nfiles.forEach(f => fixFile(f));\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\scripts\\generate_insight.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":107,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":107,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4231,4234],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4231,4234],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":121,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":121,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4975,4978],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4975,4978],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":16,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":11,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":60,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":60,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { generateText } from 'ai';\r\nimport { gateway } from '@ai-sdk/gateway';\r\nimport { google } from '@ai-sdk/google';\r\nimport * as dotenv from 'dotenv';\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\n\r\n// Load environment variables strictly before any SDK calls\r\nconst envPath = path.resolve(__dirname, '../../.env');\r\nconst backendEnvPath = path.resolve(__dirname, '../../backend/.env');\r\n\r\ntry {\r\n    dotenv.config({ path: envPath });\r\n    dotenv.config({ path: backendEnvPath });\r\n} catch (e) {\r\n    // Ignore dotenv errors in production if envs are already set\r\n}\r\n\r\n// Map GEMINI_API_KEY to GOOGLE_GENERATIVE_AI_API_KEY for @ai-sdk/google\r\nif (process.env.GEMINI_API_KEY && !process.env.GOOGLE_GENERATIVE_AI_API_KEY) {\r\n    process.env.GOOGLE_GENERATIVE_AI_API_KEY = process.env.GEMINI_API_KEY;\r\n}\r\n\r\nconst getPrompt = async () => {\r\n    const args = process.argv.slice(2);\r\n    if (args.length > 0) {\r\n        return args[0];\r\n    }\r\n    // Read from stdin\r\n    return new Promise<string>((resolve, reject) => {\r\n        let data = '';\r\n        process.stdin.setEncoding('utf8');\r\n        process.stdin.on('data', chunk => data += chunk);\r\n        process.stdin.on('end', () => {\r\n            if (!data.trim()) {\r\n                console.error(\"Error: No prompt provided via args or stdin.\");\r\n                process.exit(1);\r\n            }\r\n            resolve(data);\r\n        });\r\n        process.stdin.on('error', reject);\r\n    });\r\n};\r\n\r\nasync function main() {\r\n    // PHYSICAL GUARD: Prevent rapid consecutive calls (1 min cooldown)\r\n    const guardFile = path.resolve(__dirname, '../../.ai_guard');\r\n    const now = Date.now();\r\n    try {\r\n        if (fs.existsSync(guardFile)) {\r\n            const lastRun = parseInt(fs.readFileSync(guardFile, 'utf8'));\r\n            // Reduced to 5s to allow sequential GMS -> News execution\r\n            if (now - lastRun < 5000) {\r\n                console.error(`[AI GUARD] Rapid call detected. Cooling down... (${Math.round((5000 - (now - lastRun)) / 1000)}s remaining)`);\r\n                process.exit(1);\r\n            }\r\n        }\r\n        fs.writeFileSync(guardFile, now.toString());\r\n    } catch (e) { }\r\n\r\n    const prompt = await getPrompt();\r\n\r\n    // DEFINED MODEL PAIRS (User Specification)\r\n    // Structure: { vercel: \"google/...\", direct: \"...\" }\r\n\r\n    interface ModelPair {\r\n        vercel: string;\r\n        direct: string;\r\n    }\r\n\r\n    const GMS_MODELS: ModelPair[] = [\r\n        { vercel: 'google/gemini-3-flash-preview', direct: 'gemini-3-flash-preview' },           // Priority 1\r\n        { vercel: 'google/gemini-2.5-flash', direct: 'gemini-2.5-flash' },       // Priority 2\r\n        { vercel: 'google/gemini-2.5-flash-lite', direct: 'gemini-2.5-flash-lite' } // Priority 3\r\n    ];\r\n\r\n    const NEWS_MODELS: ModelPair[] = [\r\n        { vercel: 'google/gemini-2.5-flash-lite', direct: 'gemini-2.5-flash-lite' }, // Priority 1\r\n        { vercel: 'google/gemini-2.5-flash', direct: 'gemini-2.5-flash-TTS' },       // Priority 2\r\n        { vercel: 'google/gemini-3-flash', direct: 'gemini-2.5-flash' }              // Priority 3 (Standard Flash as Fallback)\r\n    ];\r\n\r\n    const isNewsTask = /translator|Translate/i.test(prompt);\r\n    const candidates: ModelPair[] = isNewsTask ? NEWS_MODELS : GMS_MODELS;\r\n\r\n    console.error(`[AI ROUTER] Task: ${isNewsTask ? 'NEWS_TRANSLATION' : 'GMS_ANALYSIS'}`);\r\n\r\n    for (let i = 0; i < candidates.length; i++) {\r\n        const pair = candidates[i];\r\n        console.error(`[AI LOOP] Attempt ${i + 1}/${candidates.length}: Vercel=${pair.vercel} | Direct=${pair.direct}`);\r\n\r\n        let result;\r\n        try {\r\n            // TRIAL 1: Vercel AI Gateway\r\n            // console.error(`[AI GATEWAY] Trying ${pair.vercel}...`);\r\n            result = await generateText({\r\n                model: gateway.languageModel(pair.vercel),\r\n                prompt: prompt,\r\n                headers: {\r\n                    'x-vercel-ai-gateway-cache': 'enable',\r\n                    'x-vercel-ai-gateway-cache-ttl': '3600',\r\n                }\r\n            });\r\n            console.error(`[AI GATEWAY] Success: ${pair.vercel} completed.`);\r\n\r\n        } catch (error: any) {\r\n            const errorMsg = error.message || String(error);\r\n            console.error(`[AI GATEWAY] FAILED (${pair.vercel}): ${errorMsg}`);\r\n\r\n            // TRIAL 2: Direct Google API Fallback\r\n            console.error(`[AI DIRECT] Failing over to Google Native (${pair.direct})...`);\r\n            try {\r\n                // Determine model for google SDK\r\n                // Note: google() SDK usually takes the model name without 'models/' prefix.\r\n                result = await generateText({\r\n                    model: google(pair.direct),\r\n                    prompt: prompt\r\n                });\r\n                console.error(`[AI DIRECT] Success: ${pair.direct} secured via Direct API.`);\r\n            } catch (directError: any) {\r\n                console.error(`[AI DIRECT] FAILED (${pair.direct}): ${directError.message}`);\r\n\r\n                if (i === candidates.length - 1) {\r\n                    console.error(`[AI FATAL] All candidates failed.`);\r\n                    process.exit(1);\r\n                } else {\r\n                    console.error(`[AI LOOP] Switching to next priority...`);\r\n                    continue; // Next candidate\r\n                }\r\n            }\r\n        }\r\n\r\n        if (result) {\r\n            // Output ONLY the raw text for Python to capture\r\n            process.stdout.write(JSON.stringify({ text: result.text }) + '\\n');\r\n            return; // Exit main function successfully\r\n        }\r\n    }\r\n}\r\n\r\nmain();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\scripts\\test_clean.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\test-security.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":50,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":50,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Test script for security headers and input validation\r\n * Run with: node test-security.js\r\n */\r\n\r\nconst http = require('http');\r\n\r\nconst BASE_URL = 'http://localhost:3000';\r\n\r\nconst tests = [\r\n    {\r\n        name: 'Security Headers - /api/signal',\r\n        path: '/api/signal',\r\n        checkHeaders: true\r\n    },\r\n    {\r\n        name: 'Security Headers - /api/news',\r\n        path: '/api/news?lang=EN',\r\n        checkHeaders: true\r\n    },\r\n    {\r\n        name: 'Input Validation - Valid Language',\r\n        path: '/api/news?lang=JP',\r\n        expectedStatus: 200\r\n    },\r\n    {\r\n        name: 'Input Validation - Invalid Language',\r\n        path: '/api/news?lang=INVALID',\r\n        expectedStatus: 400\r\n    },\r\n    {\r\n        name: 'Security Headers - /api/health',\r\n        path: '/api/health',\r\n        checkHeaders: true\r\n    }\r\n];\r\n\r\nconst REQUIRED_HEADERS = [\r\n    'x-content-type-options',\r\n    'x-frame-options',\r\n    'x-xss-protection',\r\n    'referrer-policy'\r\n];\r\n\r\nfunction testEndpoint(test) {\r\n    return new Promise((resolve) => {\r\n        const url = `${BASE_URL}${test.path}`;\r\n\r\n        http.get(url, (res) => {\r\n            let data = '';\r\n\r\n            res.on('data', (chunk) => {\r\n                data += chunk;\r\n            });\r\n\r\n            res.on('end', () => {\r\n                const result = {\r\n                    name: test.name,\r\n                    passed: true,\r\n                    errors: []\r\n                };\r\n\r\n                // Check status code if specified\r\n                if (test.expectedStatus && res.statusCode !== test.expectedStatus) {\r\n                    result.passed = false;\r\n                    result.errors.push(`Expected status ${test.expectedStatus}, got ${res.statusCode}`);\r\n                }\r\n\r\n                // Check security headers if specified\r\n                if (test.checkHeaders) {\r\n                    REQUIRED_HEADERS.forEach(header => {\r\n                        if (!res.headers[header]) {\r\n                            result.passed = false;\r\n                            result.errors.push(`Missing header: ${header}`);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                resolve(result);\r\n            });\r\n        }).on('error', (err) => {\r\n            resolve({\r\n                name: test.name,\r\n                passed: false,\r\n                errors: [`Request failed: ${err.message}`]\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\nasync function runTests() {\r\n    console.log('\\\\n=== Security Headers & Input Validation Tests ===\\\\n');\r\n    console.log('Make sure the dev server is running: npm run dev\\\\n');\r\n\r\n    const results = [];\r\n\r\n    for (const test of tests) {\r\n        const result = await testEndpoint(test);\r\n        results.push(result);\r\n\r\n        const status = result.passed ? '笨・PASS' : '笶・FAIL';\r\n        console.log(`${status}: ${result.name}`);\r\n\r\n        if (!result.passed) {\r\n            result.errors.forEach(err => {\r\n                console.log(`  笞・・ ${err}`);\r\n            });\r\n        }\r\n    }\r\n\r\n    console.log('\\\\n=== Summary ===');\r\n    const passed = results.filter(r => r.passed).length;\r\n    const total = results.length;\r\n    console.log(`${passed}/${total} tests passed\\\\n`);\r\n\r\n    if (passed === total) {\r\n        console.log('脂 All tests passed!');\r\n        process.exit(0);\r\n    } else {\r\n        console.log('笞・・ Some tests failed. Please review the output above.');\r\n        process.exit(1);\r\n    }\r\n}\r\n\r\nrunTests();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\test_ai.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'createGoogleGenerativeAI' is assigned a value but never used.","line":1,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":44,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":69}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"try { const { createGoogleGenerativeAI } = require('@ai-sdk/google'); console.log('ok'); } catch (e) { console.error(e); }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\shingo_kosaka.ARGOGRAPHICS\\Desktop\\GlobalMacroSignal\\frontend\\types\\glossary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
