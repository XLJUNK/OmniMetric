# Global Macro Signal - 実装計画書 (Final Pro Version)

プロ仕様の要件に基づき、開発プロセスを刷新しました。

## 開発フェーズ

### フェーズ 1: 堅牢なインフラ構築 (Infrastructure)
*   **マルチデータソース対応**: Python環境に `pandas-datareader` (FRED用) と `yfinance` を導入
*   **AI API連携**: Google Gemini API の接続設定（市場解説生成用）
*   **多言語対応フレームワーク**: Next.js の i18n routing 機能の設定 (JP, EN, CN, ES)

### フェーズ 2: 高度なクオンツロジック実装 (Quant Logic)
*   **データ取得モジュール**:
    *   FRED API: HY OAS, 国債金利(10Y, 2Y, 3M), TGA, RRP, Fed Balance Sheet
    *   yfinance: SPX, VIX, 金, 銅, ドルインデックス, ヒンデンブルグオーメン用銘柄数データ
*   **指標計算エンジン**:
    *   **ネット流動性算出**: `Fed Balance - TGA - RRP` の計算式実装
    *   **シグナル判定ロジック**: 各指標の閾値（例: HY OAS > 500bp = Red）を設定し、総合スコア化
    *   **逆イールド検知**: 過去データとの比較処理

### フェーズ 3: プロフェッショナルUI構築 (Visualization)
*   **Plotlyチャート実装**:
    *   2軸グラフ（左軸:株価、右軸:流動性）の作成コンポーネント
    *   景気後退期間（Recession Shading）の背景色表示
*   **シグナルパネル実装**:
    *   トップページ用 🟢🟡🔴 ステータス表示コンポーネント
*   **多言語ページ生成**:
    *   各言語ごとのディレクトリ構造と翻訳辞書（JSON）の整備
*   **テーマ切り替え機能 (Dark/Light Mode)**:
    *   `ThemeProvider` によるテーマ管理と `localStorage` への保存
    *   `TerminalSettings` モーダル内でのダーク／ライトモード切り替えUI実装
    *   システム設定（OS設定）との同期ロジック

### フェーズ 4: AI自動化とコンテンツ戦略 (AI Content & SEO)
*   **AIアナリスト実装**:
    *   日次データ(JSON)をプロンプトに埋め込み、Gemini 3 Pro に「今日の市況解説」を4ヶ国語で執筆させるスクリプト
    *   出力結果をMarkdownファイルとして保存し、サイトのブログ記事としてビルド
*   **完全自動運用 (CI/CD)**:
    *   GitHub Actions で「データ取得 → 計算 → AI執筆 → サイト更新」の一連の流れを毎日定時実行

## ユーザー承認事項 (Confirmation)

この「野心的な計画」を進めるにあたり、以下の点を確認させてください。

1.  **APIキーの管理**: FRED API（無料）と Google Gemini API（無料枠あり）のキー取得が必要になります。後ほど取得手順をご案内します。
2.  **開発規模**: 当初の計画より機能が増えたため、ステップバイステップで確実に進めます。まずは「データ取得と計算の正確性」を最優先します。

## 次のステップ
承認いただければ、まずは **フェーズ1: インフラ構築** として、必要なライブラリのインストールとフォルダ構成の作成を行います。
